/*! For license information please see main.cd01f846.js.LICENSE.txt */
(()=>{"use strict";var t={43(t,e,n){t.exports=n(202)},153(t,e,n){var i=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,i)&&!l.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:s,type:t,key:c,ref:u,props:r,_owner:o.current}}e.Fragment=r,e.jsx=c,e.jsxs=c},202(t,e){var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||m}function x(){}function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=v.prototype;var b=y.prototype=new x;b.constructor=y,f(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(t,e,i){var s,r={},a=null,o=null;if(null!=e)for(s in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,s)&&!j.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:t,key:a,ref:o,props:r,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function z(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function T(t,e,s,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=t),t=""===r?"."+z(l,0):r,w(a)?(s="",null!=t&&(s=t.replace(E,"$&/")+"/"),T(a,e,s,"",function(t){return t})):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",w(t))for(var c=0;c<t.length;c++){var u=r+z(o=t[c],c);l+=T(o,e,s,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=T(o=o.value,e,s,u=r+z(o,c++),a);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function M(t,e,n){if(null==t)return t;var i=[],s=0;return T(t,i,"","",function(t){return e.call(n,t,s++)}),i}function _(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},A={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:M,forEach:function(t,e,n){M(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return M(t,function(){e++}),e},toArray:function(t){return M(t,function(t){return t})||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=s,e.Profiler=a,e.PureComponent=y,e.StrictMode=r,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.act=R,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=f({},t.props),r=t.key,a=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,o=S.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)k.call(e,c)&&!j.hasOwnProperty(c)&&(s[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:t.type,key:r,ref:a,props:s,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=N,e.createFactory=function(t){var e=N.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:_}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},234(t,e){function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,s=t[i];if(!(0<r(s,e)))break t;t[i]=e,t[n]=s,n=i}}function i(t){return 0===t.length?null:t[0]}function s(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,s=t.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>r(l,n))c<s&&0>r(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<s&&0>r(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=i(u);null!==e;){if(null===e.callback)s(u);else{if(!(e.startTime<=t))break;s(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function w(t){if(g=!1,b(t),!f)if(null!==i(c))f=!0,A(k);else{var e=i(u);null!==e&&L(w,e.startTime-t)}}function k(t,n){f=!1,g&&(g=!1,x(C),C=-1),m=!0;var r=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof o?d.callback=o:d===i(c)&&s(c),b(n)}else s(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&L(w,h.startTime-n),l=!1}return l}finally{d=null,p=r,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,j=!1,N=null,C=-1,E=5,z=-1;function T(){return!(e.unstable_now()-z<E)}function M(){if(null!==N){var t=e.unstable_now();z=t;var n=!0;try{n=N(!0,t)}finally{n?S():(j=!1,N=null)}}else j=!1}if("function"===typeof y)S=function(){y(M)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,P=_.port2;_.port1.onmessage=M,S=function(){P.postMessage(null)}}else S=function(){v(M,0)};function A(t){N=t,j||(j=!0,S())}function L(t,n){C=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){f||m||(f=!0,A(k))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,s,r){var a=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:s,priorityLevel:t,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(t.sortIndex=r,n(u,t),null===i(c)&&t===i(u)&&(g?(x(C),C=-1):g=!0,L(w,r-a))):(t.sortIndex=o,n(c,t),f||m||(f=!0,A(k))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},391(t,e,n){var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},579(t,e,n){t.exports=n(153)},730(t,e,n){var i=n(43),s=n(853);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(t,e,n,i,s,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){g[t]=new f(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];g[e]=new f(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){g[t]=new f(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){g[t]=new f(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){g[t]=new f(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){g[t]=new f(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){g[t]=new f(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){g[t]=new f(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){g[t]=new f(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(t){return t[1].toUpperCase()}function y(t,e,n,i){var s=g.hasOwnProperty(e)?g[e]:null;(null!==s?0!==s.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,s,i)&&(n=null),i||null===s?function(t){return!!h.call(m,t)||!h.call(p,t)&&(d.test(t)?m[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=null===n?3!==s.type&&"":n:(e=s.attributeName,i=s.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v,x);g[e]=new f(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v,x);g[e]=new f(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,x);g[e]=new f(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){g[t]=new f(t,1,!1,t.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){g[t]=new f(t,1,!1,t.toLowerCase(),null,!0,!0)});var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var F,D=Object.assign;function V(t){if(void 0===F)try{throw Error()}catch(Sh){var e=Sh.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var O=!1;function I(t,e){if(!t||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(xh){var i=xh}Reflect.construct(t,[],e)}else{try{e.call()}catch(xh){i=xh}t.call(e.prototype)}else{try{throw Error()}catch(xh){i=xh}t()}}catch(xh){if(xh&&i&&"string"===typeof xh.stack){for(var s=xh.stack.split("\n"),r=i.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function B(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=I(t.type,!1);case 11:return t=I(t.type.render,!1);case 1:return t=I(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case z:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case _:return null!==(e=t.displayName||null)?e:W(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return W(t(e))}catch(Sh){}}return null}function U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(e);case 8:return e===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function $(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function H(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=H(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=H(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function X(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(Mh){return t.body}}function G(t,e){var n=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function Q(t,e){J(t,e);var n=$(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,s=0;s<t.length;s++){if(t[s].value===n)return t[s].selected=!0,void(i&&(t[s].defaultSelected=!0));null!==e||t[s].disabled||(e=t[s])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function st(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function rt(t,e){var n=$(e.value),i=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function ft(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=mt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}Object.keys(dt).forEach(function(t){pt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]})});var gt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yt=null;function bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,kt=null,St=null;function jt(t){if(t=xs(t)){if("function"!==typeof wt)throw Error(r(280));var e=t.stateNode;e&&(e=bs(e),wt(t.stateNode,t.type,e))}}function Nt(t){kt?St?St.push(t):St=[t]:kt=t}function Ct(){if(kt){var t=kt,e=St;if(St=kt=null,jt(t),e)for(t=0;t<e.length;t++)jt(e[t])}}function Et(t,e){return t(e)}function zt(){}var Tt=!1;function Mt(t,e,n){if(Tt)return t(e,n);Tt=!0;try{return Et(t,e,n)}finally{Tt=!1,(null!==kt||null!==St)&&(zt(),Ct())}}function _t(t,e){var n=t.stateNode;if(null===n)return null;var i=bs(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Pt=!1;if(u)try{var At={};Object.defineProperty(At,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch(yh){Pt=!1}function Lt(t,e,n,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(Th){this.onError(Th)}}var Rt=!1,Ft=null,Dt=!1,Vt=null,Ot={onError:function(t){Rt=!0,Ft=t}};function It(t,e,n,i,s,r,a,o,l){Rt=!1,Ft=null,Lt.apply(Ot,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Bt(t)!==t)throw Error(r(188))}function $t(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ut(s),t;if(a===i)return Ut(s),e;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t),null!==t?Ht(t):null}function Ht(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ht(t);if(null!==e)return e;t=t.sibling}return null}var qt=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,Xt=s.unstable_shouldYield,Gt=s.unstable_requestPaint,Yt=s.unstable_now,Jt=s.unstable_getCurrentPriorityLevel,Qt=s.unstable_ImmediatePriority,Zt=s.unstable_UserBlockingPriority,te=s.unstable_NormalPriority,ee=s.unstable_LowPriority,ne=s.unstable_IdlePriority,ie=null,se=null;var re=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/oe|0)|0},ae=Math.log,oe=Math.LN2;var le=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?i=ue(o):0!==(r&=a)&&(i=ue(r))}else 0!==(a=n&~s)?i=ue(a):0!==r&&(i=ue(r));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&s)&&((s=i&-i)>=(r=e&-e)||16===s&&0!==(4194240&r)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)s=1<<(n=31-re(e)),i|=t[n],e&=~s;return i}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function fe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-re(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-re(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var xe=0;function ye(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var be,we,ke,Se,je,Ne=!1,Ce=[],Ee=null,ze=null,Te=null,Me=new Map,_e=new Map,Pe=[],Ae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Le(t,e){switch(t){case"focusin":case"focusout":Ee=null;break;case"dragenter":case"dragleave":ze=null;break;case"mouseover":case"mouseout":Te=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_e.delete(e.pointerId)}}function Re(t,e,n,i,s,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==e&&(null!==(e=xs(e))&&we(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==s&&-1===e.indexOf(s)&&e.push(s),t)}function Fe(t){var e=vs(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void je(t.priority,function(){ke(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=xs(n))&&we(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);yt=i,n.target.dispatchEvent(i),yt=null,e.shift()}return!0}function Ve(t,e,n){De(t)&&n.delete(e)}function Oe(){Ne=!1,null!==Ee&&De(Ee)&&(Ee=null),null!==ze&&De(ze)&&(ze=null),null!==Te&&De(Te)&&(Te=null),Me.forEach(Ve),_e.forEach(Ve)}function Ie(t,e){t.blockedOn===e&&(t.blockedOn=null,Ne||(Ne=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Oe)))}function Be(t){function e(e){return Ie(e,t)}if(0<Ce.length){Ie(Ce[0],t);for(var n=1;n<Ce.length;n++){var i=Ce[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ee&&Ie(Ee,t),null!==ze&&Ie(ze,t),null!==Te&&Ie(Te,t),Me.forEach(e),_e.forEach(e),n=0;n<Pe.length;n++)(i=Pe[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)Fe(n),null===n.blockedOn&&Pe.shift()}var We=b.ReactCurrentBatchConfig,Ue=!0;function $e(t,e,n,i){var s=xe,r=We.transition;We.transition=null;try{xe=1,qe(t,e,n,i)}finally{xe=s,We.transition=r}}function He(t,e,n,i){var s=xe,r=We.transition;We.transition=null;try{xe=4,qe(t,e,n,i)}finally{xe=s,We.transition=r}}function qe(t,e,n,i){if(Ue){var s=Xe(t,e,n,i);if(null===s)Ui(t,e,i,Ke,n),Le(t,i);else if(function(t,e,n,i,s){switch(e){case"focusin":return Ee=Re(Ee,t,e,n,i,s),!0;case"dragenter":return ze=Re(ze,t,e,n,i,s),!0;case"mouseover":return Te=Re(Te,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Me.set(r,Re(Me.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,_e.set(r,Re(_e.get(r)||null,t,e,n,i,s)),!0}return!1}(s,t,e,n,i))i.stopPropagation();else if(Le(t,i),4&e&&-1<Ae.indexOf(t)){for(;null!==s;){var r=xs(s);if(null!==r&&be(r),null===(r=Xe(t,e,n,i))&&Ui(t,e,i,Ke,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Ui(t,e,i,null,n)}}var Ke=null;function Xe(t,e,n,i){if(Ke=null,null!==(t=vs(t=bt(i))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Ge(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Qt:return 1;case Zt:return 4;case te:case ee:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Ye=null,Je=null,Qe=null;function Ze(){if(Qe)return Qe;var t,e,n=Je,i=n.length,s="value"in Ye?Ye.value:Ye.textContent,r=s.length;for(t=0;t<i&&n[t]===s[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===s[r-e];e++);return Qe=s.slice(t,1<e?1-e:void 0)}function tn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function en(){return!0}function nn(){return!1}function sn(t){function e(e,n,i,s,r){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?en:nn,this.isPropagationStopped=nn,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),e}var rn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(ln),un=D({},ln,{view:0,detail:0}),hn=sn(un),dn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==on&&(on&&"mousemove"===t.type?(rn=t.screenX-on.screenX,an=t.screenY-on.screenY):an=rn=0,on=t),rn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(dn),mn=sn(D({},dn,{dataTransfer:0})),fn=sn(D({},un,{relatedTarget:0})),gn=sn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=sn(vn),yn=sn(D({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function jn(){return Sn}var Nn=D({},un,{key:function(t){if(t.key){var e=bn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=tn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(t){return"keypress"===t.type?tn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Nn),En=sn(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=sn(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Tn=sn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=D({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=sn(Mn),Pn=[9,13,27,32],An=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Rn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!An||Ln&&8<Ln&&11>=Ln),Dn=String.fromCharCode(32),Vn=!1;function On(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function $n(t,e,n,i){Nt(i),0<(e=Hi(e,"onChange")).length&&(n=new cn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Hn=null,qn=null;function Kn(t){Di(t,0)}function Xn(t){if(K(ys(t)))return t}function Gn(t,e){if("change"===t)return e}var Yn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Qn="function"===typeof Zn.oninput}Jn=Qn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Hn&&(Hn.detachEvent("onpropertychange",ei),qn=Hn=null)}function ei(t){if("value"===t.propertyName&&Xn(qn)){var e=[];$n(e,qn,t,bt(t)),Mt(Kn,e)}}function ni(t,e,n){"focusin"===t?(ti(),qn=n,(Hn=e).attachEvent("onpropertychange",ei)):"focusout"===t&&ti()}function ii(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(qn)}function si(t,e){if("click"===t)return Xn(e)}function ri(t,e){if("input"===t||"change"===t)return Xn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function oi(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!h.call(e,s)||!ai(t[s],e[s]))return!1}return!0}function li(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var n,i=li(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=li(i)}}function ui(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ui(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hi(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(jh){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function di(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=hi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=ci(n,r);var a=ci(n,i);s&&a&&(1!==t.rangeCount||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,fi=null,gi=null,vi=null,xi=!1;function yi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xi||null==fi||fi!==X(i)||("selectionStart"in(i=fi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&oi(vi,i)||(vi=i,0<(i=Hi(gi,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=fi)))}function bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},ki={},Si={};function ji(t){if(ki[t])return ki[t];if(!wi[t])return t;var e,n=wi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return ki[t]=n[e];return t}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ni=ji("animationend"),Ci=ji("animationiteration"),Ei=ji("animationstart"),zi=ji("transitionend"),Ti=new Map,Mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){Ti.set(t,e),l(e,[t])}for(var Pi=0;Pi<Mi.length;Pi++){var Ai=Mi[Pi];_i(Ai.toLowerCase(),"on"+(Ai[0].toUpperCase()+Ai.slice(1)))}_i(Ni,"onAnimationEnd"),_i(Ci,"onAnimationIteration"),_i(Ei,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(zi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,s,a,o,l,c){if(It.apply(this,arguments),Rt){if(!Rt)throw Error(r(198));var u=Ft;Rt=!1,Ft=null,Dt||(Dt=!0,Vt=u)}}(i,e,void 0,t),t.currentTarget=null}function Di(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;Fi(s,o,c),r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;Fi(s,o,c),r=l}}}if(Dt)throw t=Vt,Dt=!1,Vt=null,t}function Vi(t,e){var n=e[ms];void 0===n&&(n=e[ms]=new Set);var i=t+"__bubble";n.has(i)||(Wi(e,t,2,!1),n.add(i))}function Oi(t,e,n){var i=0;e&&(i|=4),Wi(n,t,i,e)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[Ii]){t[Ii]=!0,a.forEach(function(e){"selectionchange"!==e&&(Ri.has(e)||Oi(e,!1,t),Oi(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ii]||(e[Ii]=!0,Oi("selectionchange",!1,e))}}function Wi(t,e,n,i){switch(Ge(e)){case 1:var s=$e;break;case 4:s=He;break;default:s=qe}n=s.bind(null,e,n,t),s=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(s=!0),i?void 0!==s?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):void 0!==s?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ui(t,e,n,i,s){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=vs(o)))return;if(5===(l=a.tag)||6===l){i=r=a;continue t}o=o.parentNode}}i=i.return}Mt(function(){var i=r,s=bt(n),a=[];t:{var o=Ti.get(t);if(void 0!==o){var l=cn,c=t;switch(t){case"keypress":if(0===tn(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=fn;break;case"focusout":c="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=zn;break;case Ni:case Ci:case Ei:l=gn;break;case zi:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==d&&(null!=(f=_t(m,d))&&u.push($i(m,f,p)))),h)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===yt||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,f="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==t&&"pointerover"!==t||(u=En,f="onPointerLeave",d="onPointerEnter",m="pointer"),h=null==l?o:ys(l),p=null==c?o:ys(c),(o=new u(f,m+"leave",l,n,s)).target=h,o.relatedTarget=p,f=null,vs(s)===i&&((u=new u(d,m+"enter",c,n,s)).target=p,u.relatedTarget=h,f=u),h=f,l&&c)t:{for(d=c,m=0,p=u=l;p;p=qi(p))m++;for(p=0,f=d;f;f=qi(f))p++;for(;0<m-p;)u=qi(u),m--;for(;0<p-m;)d=qi(d),p--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break t;u=qi(u),d=qi(d)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==h&&Ki(a,h,c,u,!0)}if("select"===(l=(o=i?ys(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Gn;else if(Un(o))if(Yn)g=ri;else{g=ii;var v=ni}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=si);switch(g&&(g=g(t,i))?$n(a,g,n,s):(v&&v(t,o,i),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&tt(o,"number",o.value)),v=i?ys(i):window,t){case"focusin":(Un(v)||"true"===v.contentEditable)&&(fi=v,gi=i,vi=null);break;case"focusout":vi=gi=fi=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,yi(a,n,s);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":yi(a,n,s)}var x;if(An)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Bn?On(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(x=Ze()):(Je="value"in(Ye=s)?Ye.value:Ye.textContent,Bn=!0)),0<(v=Hi(i,y)).length&&(y=new yn(y,t,null,n,s),a.push({event:y,listeners:v}),x?y.data=x:null!==(x=In(n))&&(y.data=x))),(x=Rn?function(t,e){switch(t){case"compositionend":return In(e);case"keypress":return 32!==e.which?null:(Vn=!0,Dn);case"textInput":return(t=e.data)===Dn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!An&&On(t,e)?(t=Ze(),Qe=Je=Ye=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Hi(i,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:i}),s.data=x))}Di(a,e)})}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hi(t,e){for(var n=e+"Capture",i=[];null!==t;){var s=t,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=_t(t,n))&&i.unshift($i(t,r,s)),null!=(r=_t(t,e))&&i.push($i(t,r,s))),t=t.return}return i}function qi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ki(t,e,n,i,s){for(var r=e._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=_t(n,r))&&a.unshift($i(n,l,o)):s||null!=(l=_t(n,r))&&a.push($i(n,l,o))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Xi=/\r\n?/g,Gi=/\u0000|\uFFFD/g;function Yi(t){return("string"===typeof t?t:""+t).replace(Xi,"\n").replace(Gi,"")}function Ji(t,e,n){if(e=Yi(e),Yi(t)!==e&&n)throw Error(r(425))}function Qi(){}var Zi=null,ts=null;function es(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,is="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,rs="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(t){return ss.resolve(null).then(t).catch(as)}:ns;function as(t){setTimeout(function(){throw t})}function os(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return t.removeChild(s),void Be(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Be(e)}function ls(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cs(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ds="__reactProps$"+us,ps="__reactContainer$"+us,ms="__reactEvents$"+us,fs="__reactListeners$"+us,gs="__reactHandles$"+us;function vs(t){var e=t[hs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[hs]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=cs(t);null!==t;){if(n=t[hs])return n;t=cs(t)}return e}n=(t=n).parentNode}return null}function xs(t){return!(t=t[hs]||t[ps])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ys(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function bs(t){return t[ds]||null}var ws=[],ks=-1;function Ss(t){return{current:t}}function js(t){0>ks||(t.current=ws[ks],ws[ks]=null,ks--)}function Ns(t,e){ks++,ws[ks]=t.current,t.current=e}var Cs={},Es=Ss(Cs),zs=Ss(!1),Ts=Cs;function Ms(t,e){var n=t.type.contextTypes;if(!n)return Cs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=e[s];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function _s(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ps(){js(zs),js(Es)}function As(t,e,n){if(Es.current!==Cs)throw Error(r(168));Ns(Es,e),Ns(zs,n)}function Ls(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in e))throw Error(r(108,U(t)||"Unknown",s));return D({},n,i)}function Rs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,Ts=Es.current,Ns(Es,t),Ns(zs,zs.current),!0}function Fs(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=Ls(t,e,Ts),i.__reactInternalMemoizedMergedChildContext=t,js(zs),js(Es),Ns(Es,t)):js(zs),Ns(zs,n)}var Ds=null,Vs=!1,Os=!1;function Is(t){null===Ds?Ds=[t]:Ds.push(t)}function Bs(){if(!Os&&null!==Ds){Os=!0;var t=0,e=xe;try{var n=Ds;for(xe=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}Ds=null,Vs=!1}catch(fh){throw null!==Ds&&(Ds=Ds.slice(t+1)),qt(Qt,Bs),fh}finally{xe=e,Os=!1}}return null}var Ws=[],Us=0,$s=null,Hs=0,qs=[],Ks=0,Xs=null,Gs=1,Ys="";function Js(t,e){Ws[Us++]=Hs,Ws[Us++]=$s,$s=t,Hs=e}function Qs(t,e,n){qs[Ks++]=Gs,qs[Ks++]=Ys,qs[Ks++]=Xs,Xs=t;var i=Gs;t=Ys;var s=32-re(i)-1;i&=~(1<<s),n+=1;var r=32-re(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Gs=1<<32-re(e)+s|n<<s|i,Ys=r+t}else Gs=1<<r|n<<s|i,Ys=t}function Zs(t){null!==t.return&&(Js(t,1),Qs(t,1,0))}function tr(t){for(;t===$s;)$s=Ws[--Us],Ws[Us]=null,Hs=Ws[--Us],Ws[Us]=null;for(;t===Xs;)Xs=qs[--Ks],qs[Ks]=null,Ys=qs[--Ks],qs[Ks]=null,Gs=qs[--Ks],qs[Ks]=null}var er=null,nr=null,ir=!1,sr=null;function rr(t,e){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ar(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,er=t,nr=ls(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,er=t,nr=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xs?{id:Gs,overflow:Ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,er=t,nr=null,!0);default:return!1}}function or(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lr(t){if(ir){var e=nr;if(e){var n=e;if(!ar(t,e)){if(or(t))throw Error(r(418));e=ls(n.nextSibling);var i=er;e&&ar(t,e)?rr(i,n):(t.flags=-4097&t.flags|2,ir=!1,er=t)}}else{if(or(t))throw Error(r(418));t.flags=-4097&t.flags|2,ir=!1,er=t}}}function cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;er=t}function ur(t){if(t!==er)return!1;if(!ir)return cr(t),ir=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!es(t.type,t.memoizedProps)),e&&(e=nr)){if(or(t))throw hr(),Error(r(418));for(;e;)rr(t,e),e=ls(e.nextSibling)}if(cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){nr=ls(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}nr=null}}else nr=er?ls(t.stateNode.nextSibling):null;return!0}function hr(){for(var t=nr;t;)t=ls(t.nextSibling)}function dr(){nr=er=null,ir=!1}function pr(t){null===sr?sr=[t]:sr.push(t)}var mr=b.ReactCurrentBatchConfig;function fr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var s=i,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=s.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function gr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vr(t){return(0,t._init)(t._payload)}function xr(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(t,e){return(t=_c(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Rc(n,t.mode,i)).return=t,e):((e=s(e,n)).return=t,e)}function c(t,e,n,i){var r=n.type;return r===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===P&&vr(r)===e.type)?((i=s(e,n.props)).ref=fr(t,e,n),i.return=t,i):((i=Pc(n.type,n.key,n.props,null,t.mode,i)).ref=fr(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fc(n,t.mode,i)).return=t,e):((e=s(e,n.children||[])).return=t,e)}function h(t,e,n,i,r){return null===e||7!==e.tag?((e=Ac(n,t.mode,i,r)).return=t,e):((e=s(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Rc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Pc(e.type,e.key,e.props,null,t.mode,n)).ref=fr(t,null,e),n.return=t,n;case k:return(e=Fc(e,t.mode,n)).return=t,e;case P:return d(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Ac(e,t.mode,n,null)).return=t,e;gr(t,e)}return null}function p(t,e,n,i){var s=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(t,e,n,i):null;case k:return n.key===s?u(t,e,n,i):null;case P:return p(t,e,(s=n._init)(n._payload),i)}if(et(n)||R(n))return null!==s?null:h(t,e,n,i,null);gr(t,n)}return null}function m(t,e,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,s);case k:return u(e,t=t.get(null===i.key?n:i.key)||null,i,s);case P:return m(t,e,n,(0,i._init)(i._payload),s)}if(et(i)||R(i))return h(e,t=t.get(n)||null,i,s,null);gr(e,i)}return null}function f(s,r,o,l){for(var c=null,u=null,h=r,f=r=0,g=null;null!==h&&f<o.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var v=p(s,h,o[f],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(s,h),r=a(v,r,f),null===u?c=v:u.sibling=v,u=v,h=g}if(f===o.length)return n(s,h),ir&&Js(s,f),c;if(null===h){for(;f<o.length;f++)null!==(h=d(s,o[f],l))&&(r=a(h,r,f),null===u?c=h:u.sibling=h,u=h);return ir&&Js(s,f),c}for(h=i(s,h);f<o.length;f++)null!==(g=m(h,s,f,o[f],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?f:g.key),r=a(g,r,f),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach(function(t){return e(s,t)}),ir&&Js(s,f),c}function g(s,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var h=u=null,f=o,g=o=0,v=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=p(s,f,x.value,c);if(null===y){null===f&&(f=v);break}t&&f&&null===y.alternate&&e(s,f),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y,f=v}if(x.done)return n(s,f),ir&&Js(s,g),u;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=d(s,x.value,c))&&(o=a(x,o,g),null===h?u=x:h.sibling=x,h=x);return ir&&Js(s,g),u}for(f=i(s,f);!x.done;g++,x=l.next())null!==(x=m(f,s,g,x.value,c))&&(t&&null!==x.alternate&&f.delete(null===x.key?g:x.key),o=a(x,o,g),null===h?u=x:h.sibling=x,h=x);return t&&f.forEach(function(t){return e(s,t)}),ir&&Js(s,g),u}return function t(i,r,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var c=a.key,u=r;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(i,u.sibling),(r=s(u,a.props.children)).return=i,i=r;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&vr(c)===u.type){n(i,u.sibling),(r=s(u,a.props)).ref=fr(i,u,a),r.return=i,i=r;break t}n(i,u);break}e(i,u),u=u.sibling}a.type===S?((r=Ac(a.props.children,i.mode,l,a.key)).return=i,i=r):((l=Pc(a.type,a.key,a.props,null,i.mode,l)).ref=fr(i,r,a),l.return=i,i=l)}return o(i);case k:t:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(i,r.sibling),(r=s(r,a.children||[])).return=i,i=r;break t}n(i,r);break}e(i,r),r=r.sibling}(r=Fc(a,i.mode,l)).return=i,i=r}return o(i);case P:return t(i,r,(u=a._init)(a._payload),l)}if(et(a))return f(i,r,a,l);if(R(a))return g(i,r,a,l);gr(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,a)).return=i,i=r):(n(i,r),(r=Rc(a,i.mode,l)).return=i,i=r),o(i)):n(i,r)}}var yr=xr(!0),br=xr(!1),wr=Ss(null),kr=null,Sr=null,jr=null;function Nr(){jr=Sr=kr=null}function Cr(t){var e=wr.current;js(wr),t._currentValue=e}function Er(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function zr(t,e){kr=t,jr=Sr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(xo=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(jr!==t)if(t={context:t,memoizedValue:e,next:null},null===Sr){if(null===kr)throw Error(r(308));Sr=t,kr.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var Mr=null;function _r(t){null===Mr?Mr=[t]:Mr.push(t)}function Pr(t,e,n,i){var s=e.interleaved;return null===s?(n.next=n,_r(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ar(t,i)}function Ar(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Lr=!1;function Rr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Cl)){var s=i.pending;return null===s?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Ar(t,n)}return null===(s=i.interleaved)?(e.next=e,_r(i)):(e.next=s.next,s.next=e),i.interleaved=e,Ar(t,n)}function Or(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Ir(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=e:r=r.next=e}else s=r=e;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Br(t,e,n,i){var s=t.updateQueue;Lr=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=s.baseState;for(a=0,u=c=l=null,o=r;;){var d=o.lane,p=o.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var m=t,f=o;switch(d=e,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){h=m.call(p,h,d);break t}h=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=f.payload)?m.call(p,h,d):m)||void 0===d)break t;h=D({},h,d);break t;case 2:Lr=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(e=s.shared.interleaved)){s=e;do{a|=s.lane,s=s.next}while(s!==e)}else null===r&&(s.shared.lanes=0);Ll|=a,t.lanes=a,t.memoizedState=h}}function Wr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(r(191,s));s.call(i)}}}var Ur={},$r=Ss(Ur),Hr=Ss(Ur),qr=Ss(Ur);function Kr(t){if(t===Ur)throw Error(r(174));return t}function Xr(t,e){switch(Ns(qr,e),Ns(Hr,t),Ns($r,Ur),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}js($r),Ns($r,e)}function Gr(){js($r),js(Hr),js(qr)}function Yr(t){Kr(qr.current);var e=Kr($r.current),n=lt(e,t.type);e!==n&&(Ns(Hr,t),Ns($r,n))}function Jr(t){Hr.current===t&&(js($r),js(Hr))}var Qr=Ss(0);function Zr(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ta=[];function ea(){for(var t=0;t<ta.length;t++)ta[t]._workInProgressVersionPrimary=null;ta.length=0}var na=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,sa=0,ra=null,aa=null,oa=null,la=!1,ca=!1,ua=0,ha=0;function da(){throw Error(r(321))}function pa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ma(t,e,n,i,s,a){if(sa=a,ra=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,na.current=null===t||null===t.memoizedState?Ja:Qa,t=n(i,s),ca){a=0;do{if(ca=!1,ua=0,25<=a)throw Error(r(301));a+=1,oa=aa=null,e.updateQueue=null,na.current=Za,t=n(i,s)}while(ca)}if(na.current=Ya,e=null!==aa&&null!==aa.next,sa=0,oa=aa=ra=null,la=!1,e)throw Error(r(300));return t}function fa(){var t=0!==ua;return ua=0,t}function ga(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?ra.memoizedState=oa=t:oa=oa.next=t,oa}function va(){if(null===aa){var t=ra.alternate;t=null!==t?t.memoizedState:null}else t=aa.next;var e=null===oa?ra.memoizedState:oa.next;if(null!==e)oa=e,aa=t;else{if(null===t)throw Error(r(310));t={memoizedState:(aa=t).memoizedState,baseState:aa.baseState,baseQueue:aa.baseQueue,queue:aa.queue,next:null},null===oa?ra.memoizedState=oa=t:oa=oa.next=t}return oa}function xa(t,e){return"function"===typeof e?e(t):e}function ya(t){var e=va(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=aa,s=i.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,i=i.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=i):c=c.next=d,ra.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,ai(i,e.memoizedState)||(xo=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){s=t;do{a=s.lane,ra.lanes|=a,Ll|=a,s=s.next}while(s!==t)}else null===s&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ba(t){var e=va(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=t(a,o.action),o=o.next}while(o!==s);ai(a,e.memoizedState)||(xo=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function wa(){}function ka(t,e){var n=ra,i=va(),s=e(),a=!ai(i.memoizedState,s);if(a&&(i.memoizedState=s,xo=!0),i=i.queue,La(Na.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Ta(9,ja.bind(null,n,i,s,e),void 0,null),null===El)throw Error(r(349));0!==(30&sa)||Sa(n,e,s)}return s}function Sa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ra.updateQueue)?(e={lastEffect:null,stores:null},ra.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ja(t,e,n,i){e.value=n,e.getSnapshot=i,Ca(e)&&Ea(t)}function Na(t,e,n){return n(function(){Ca(e)&&Ea(t)})}function Ca(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(jh){return!0}}function Ea(t){var e=Ar(t,1);null!==e&&tc(e,t,1,-1)}function za(t){var e=ga();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},e.queue=t,t=t.dispatch=qa.bind(null,ra,t),[e.memoizedState,t]}function Ta(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=ra.updateQueue)?(e={lastEffect:null,stores:null},ra.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ma(){return va().memoizedState}function _a(t,e,n,i){var s=ga();ra.flags|=t,s.memoizedState=Ta(1|e,n,void 0,void 0===i?null:i)}function Pa(t,e,n,i){var s=va();i=void 0===i?null:i;var r=void 0;if(null!==aa){var a=aa.memoizedState;if(r=a.destroy,null!==i&&pa(i,a.deps))return void(s.memoizedState=Ta(e,n,r,i))}ra.flags|=t,s.memoizedState=Ta(1|e,n,r,i)}function Aa(t,e){return _a(8390656,8,t,e)}function La(t,e){return Pa(2048,8,t,e)}function Ra(t,e){return Pa(4,2,t,e)}function Fa(t,e){return Pa(4,4,t,e)}function Da(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Va(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Pa(4,4,Da.bind(null,e,t),n)}function Oa(){}function Ia(t,e){var n=va();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&pa(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ba(t,e){var n=va();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&pa(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Wa(t,e,n){return 0===(21&sa)?(t.baseState&&(t.baseState=!1,xo=!0),t.memoizedState=n):(ai(n,e)||(n=me(),ra.lanes|=n,Ll|=n,t.baseState=!0),e)}function Ua(t,e){var n=xe;xe=0!==n&&4>n?n:4,t(!0);var i=ia.transition;ia.transition={};try{t(!1),e()}finally{xe=n,ia.transition=i}}function $a(){return va().memoizedState}function Ha(t,e,n){var i=Zl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(t))Xa(e,n);else if(null!==(n=Pr(t,e,n,i))){tc(n,t,i,Ql()),Ga(n,e,i)}}function qa(t,e,n){var i=Zl(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(t))Xa(e,s);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,ai(o,a)){var l=e.interleaved;return null===l?(s.next=s,_r(e)):(s.next=l.next,l.next=s),void(e.interleaved=s)}}catch(xh){}null!==(n=Pr(t,e,s,i))&&(tc(n,t,i,s=Ql()),Ga(n,e,i))}}function Ka(t){var e=t.alternate;return t===ra||null!==e&&e===ra}function Xa(t,e){ca=la=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ga(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Ya={readContext:Tr,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},Ja={readContext:Tr,useCallback:function(t,e){return ga().memoizedState=[t,void 0===e?null:e],t},useContext:Tr,useEffect:Aa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,_a(4194308,4,Da.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4194308,4,t,e)},useInsertionEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=ga();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ga();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ha.bind(null,ra,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ga().memoizedState=t},useState:za,useDebugValue:Oa,useDeferredValue:function(t){return ga().memoizedState=t},useTransition:function(){var t=za(!1),e=t[0];return t=Ua.bind(null,t[1]),ga().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ra,s=ga();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===El)throw Error(r(349));0!==(30&sa)||Sa(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Aa(Na.bind(null,i,a,t),[t]),i.flags|=2048,Ta(9,ja.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=ga(),e=El.identifierPrefix;if(ir){var n=Ys;e=":"+e+"R"+(n=(Gs&~(1<<32-re(Gs)-1)).toString(32)+n),0<(n=ua++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=ha++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qa={readContext:Tr,useCallback:Ia,useContext:Tr,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ra,useLayoutEffect:Fa,useMemo:Ba,useReducer:ya,useRef:Ma,useState:function(){return ya(xa)},useDebugValue:Oa,useDeferredValue:function(t){return Wa(va(),aa.memoizedState,t)},useTransition:function(){return[ya(xa)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:ka,useId:$a,unstable_isNewReconciler:!1},Za={readContext:Tr,useCallback:Ia,useContext:Tr,useEffect:La,useImperativeHandle:Va,useInsertionEffect:Ra,useLayoutEffect:Fa,useMemo:Ba,useReducer:ba,useRef:Ma,useState:function(){return ba(xa)},useDebugValue:Oa,useDeferredValue:function(t){var e=va();return null===aa?e.memoizedState=t:Wa(e,aa.memoizedState,t)},useTransition:function(){return[ba(xa)[0],va().memoizedState]},useMutableSource:wa,useSyncExternalStore:ka,useId:$a,unstable_isNewReconciler:!1};function to(t,e){if(t&&t.defaultProps){for(var n in e=D({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function eo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var no={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ql(),s=Zl(t),r=Dr(i,s);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Vr(t,r,s))&&(tc(e,t,s,i),Or(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ql(),s=Zl(t),r=Dr(i,s);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Vr(t,r,s))&&(tc(e,t,s,i),Or(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ql(),i=Zl(t),s=Dr(n,i);s.tag=2,void 0!==e&&null!==e&&(s.callback=e),null!==(e=Vr(t,s,i))&&(tc(e,t,i,n),Or(e,t,i))}};function io(t,e,n,i,s,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!oi(n,i)||!oi(s,r))}function so(t,e,n){var i=!1,s=Cs,r=e.contextType;return"object"===typeof r&&null!==r?r=Tr(r):(s=_s(e)?Ts:Es.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ms(t,s):Cs),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=no,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function ro(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&no.enqueueReplaceState(e,e.state,null)}function ao(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rr(t);var r=e.contextType;"object"===typeof r&&null!==r?s.context=Tr(r):(r=_s(e)?Ts:Es.current,s.context=Ms(t,r)),s.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(eo(t,e,r,n),s.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(e=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),e!==s.state&&no.enqueueReplaceState(s,s.state,null),Br(t,n,s,i),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308)}function oo(t,e){try{var n="",i=e;do{n+=B(i),i=i.return}while(i);var s=n}catch(Ch){s="\nError generating stack: "+Ch.message+"\n"+Ch.stack}return{value:t,source:e,stack:s,digest:null}}function lo(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function co(t,e){try{console.error(e.value)}catch(Sh){setTimeout(function(){throw Sh})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(t,e,n){(n=Dr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Wl||(Wl=!0,Ul=i),co(0,e)},n}function po(t,e,n){(n=Dr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){co(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){co(0,e),"function"!==typeof i&&(null===$l?$l=new Set([this]):$l.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function mo(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new uo;var s=new Set;i.set(e,s)}else void 0===(s=i.get(e))&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Sc.bind(null,t,e,n),e.then(t,t))}function fo(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function go(t,e,n,i,s){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Dr(-1,1)).tag=2,Vr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var vo=b.ReactCurrentOwner,xo=!1;function yo(t,e,n,i){e.child=null===t?br(e,null,n,i):yr(e,t.child,n,i)}function bo(t,e,n,i,s){n=n.render;var r=e.ref;return zr(e,s),i=ma(t,e,n,i,r,s),n=fa(),null===t||xo?(ir&&n&&Zs(e),e.flags|=1,yo(t,e,i,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wo(t,e,s))}function wo(t,e,n,i,s){if(null===t){var r=n.type;return"function"!==typeof r||Mc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Pc(n.type,null,i,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,ko(t,e,r,i,s))}if(r=t.child,0===(t.lanes&s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:oi)(a,i)&&t.ref===e.ref)return Wo(t,e,s)}return e.flags|=1,(t=_c(r,i)).ref=e.ref,t.return=e,e.child=t}function ko(t,e,n,i,s){if(null!==t){var r=t.memoizedProps;if(oi(r,i)&&t.ref===e.ref){if(xo=!1,e.pendingProps=i=r,0===(t.lanes&s))return e.lanes=t.lanes,Wo(t,e,s);0!==(131072&t.flags)&&(xo=!0)}}return No(t,e,n,i,s)}function So(t,e,n){var i=e.pendingProps,s=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ns(_l,Ml),Ml|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ns(_l,Ml),Ml|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Ns(_l,Ml),Ml|=i}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,Ns(_l,Ml),Ml|=i;return yo(t,e,s,n),e.child}function jo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function No(t,e,n,i,s){var r=_s(n)?Ts:Es.current;return r=Ms(e,r),zr(e,s),n=ma(t,e,n,i,r,s),i=fa(),null===t||xo?(ir&&i&&Zs(e),e.flags|=1,yo(t,e,n,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wo(t,e,s))}function Co(t,e,n,i,s){if(_s(n)){var r=!0;Rs(e)}else r=!1;if(zr(e,s),null===e.stateNode)Bo(t,e),so(e,n,i),ao(e,n,i,s),i=!0;else if(null===t){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Tr(c):c=Ms(e,c=_s(n)?Ts:Es.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&ro(e,a,i,c),Lr=!1;var d=e.memoizedState;a.state=d,Br(e,i,a,s),l=e.memoizedState,o!==i||d!==l||zs.current||Lr?("function"===typeof u&&(eo(e,n,u,i),l=e.memoizedState),(o=Lr||io(e,n,o,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Fr(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:to(e.type,o),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Tr(l):l=Ms(e,l=_s(n)?Ts:Es.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ro(e,a,i,l),Lr=!1,d=e.memoizedState,a.state=d,Br(e,i,a,s);var m=e.memoizedState;o!==h||d!==m||zs.current||Lr?("function"===typeof p&&(eo(e,n,p,i),m=e.memoizedState),(c=Lr||io(e,n,c,i,d,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Eo(t,e,n,i,r,s)}function Eo(t,e,n,i,s,r){jo(t,e);var a=0!==(128&e.flags);if(!i&&!a)return s&&Fs(e,n,!1),Wo(t,e,r);i=e.stateNode,vo.current=e;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=yr(e,t.child,null,r),e.child=yr(e,null,o,r)):yo(t,e,o,r),e.memoizedState=i.state,s&&Fs(e,n,!0),e.child}function zo(t){var e=t.stateNode;e.pendingContext?As(0,e.pendingContext,e.pendingContext!==e.context):e.context&&As(0,e.context,!1),Xr(t,e.containerInfo)}function To(t,e,n,i,s){return dr(),pr(s),e.flags|=256,yo(t,e,n,i),e.child}var Mo,_o,Po,Ao={dehydrated:null,treeContext:null,retryLane:0};function Lo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ro(t,e,n){var i,s=e.pendingProps,a=Qr.current,o=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&a)),i?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ns(Qr,1&a),null===t)return lr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=s.children,t=s.fallback,o?(s=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,s,0,null),t=Ac(t,s,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Lo(n),e.memoizedState=Ao,t):Fo(e,l));if(null!==(a=t.memoizedState)&&null!==(i=a.dehydrated))return function(t,e,n,i,s,a,o){if(n)return 256&e.flags?(e.flags&=-257,Do(t,e,o,i=lo(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=Lc({mode:"visible",children:i.children},s,0,null),(a=Ac(a,s,o,null)).flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,0!==(1&e.mode)&&yr(e,t.child,null,o),e.child.memoizedState=Lo(o),e.memoizedState=Ao,a);if(0===(1&e.mode))return Do(t,e,o,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Do(t,e,o,i=lo(a=Error(r(419)),i,void 0))}if(l=0!==(o&t.childLanes),xo||l){if(null!==(i=El)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ar(t,s),tc(i,t,s,-1))}return pc(),Do(t,e,o,i=lo(Error(r(421))))}return"$?"===s.data?(e.flags|=128,e.child=t.child,e=Nc.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,nr=ls(s.nextSibling),er=e,ir=!0,sr=null,null!==t&&(qs[Ks++]=Gs,qs[Ks++]=Ys,qs[Ks++]=Xs,Gs=t.id,Ys=t.overflow,Xs=e),e=Fo(e,i.children),e.flags|=4096,e)}(t,e,l,s,i,a,n);if(o){o=s.fallback,l=e.mode,i=(a=t.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&e.child!==a?((s=e.child).childLanes=0,s.pendingProps=c,e.deletions=null):(s=_c(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=_c(i,o):(o=Ac(o,l,n,null)).flags|=2,o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,l=null===(l=t.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Ao,s}return t=(o=t.child).sibling,s=_c(o,{mode:"visible",children:s.children}),0===(1&e.mode)&&(s.lanes=n),s.return=e,s.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Fo(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Do(t,e,n,i){return null!==i&&pr(i),yr(e,t.child,null,n),(t=Fo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Vo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Er(t.return,e,n)}function Oo(t,e,n,i,s){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Io(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(yo(t,e,i.children,n),0!==(2&(i=Qr.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Vo(t,n,e);else if(19===t.tag)Vo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ns(Qr,i),0===(1&e.mode))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;null!==n;)null!==(t=n.alternate)&&null===Zr(t)&&(s=n),n=n.sibling;null===(n=s)?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Oo(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;null!==s;){if(null!==(t=s.alternate)&&null===Zr(t)){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Oo(e,!0,n,null,r);break;case"together":Oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wo(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=_c(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=_c(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Uo(t,e){if(!ir)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $o(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ho(t,e,n){var i=e.pendingProps;switch(tr(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(e),null;case 1:case 17:return _s(e.type)&&Ps(),$o(e),null;case 3:return i=e.stateNode,Gr(),js(zs),js(Es),ea(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ur(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==sr&&(sc(sr),sr=null))),$o(e),null;case 5:Jr(e);var s=Kr(qr.current);if(n=e.type,null!==t&&null!=e.stateNode)_o(t,e,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(r(166));return $o(e),null}if(t=Kr($r.current),ur(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[hs]=e,i[ds]=a,t=0!==(1&e.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(s=0;s<Li.length;s++)Vi(Li[s],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":Y(i,a),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Vi("invalid",i);break;case"textarea":st(i,a),Vi("invalid",i)}for(var l in vt(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,t),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,t),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":q(i),Z(i,a,!0);break;case"textarea":q(i),at(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Qi)}i=s,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[hs]=e,t[ds]=i,Mo(t,e),e.stateNode=t;t:{switch(l=xt(n,i),n){case"dialog":Vi("cancel",t),Vi("close",t),s=i;break;case"iframe":case"object":case"embed":Vi("load",t),s=i;break;case"video":case"audio":for(s=0;s<Li.length;s++)Vi(Li[s],t);s=i;break;case"source":Vi("error",t),s=i;break;case"img":case"image":case"link":Vi("error",t),Vi("load",t),s=i;break;case"details":Vi("toggle",t),s=i;break;case"input":Y(t,i),s=G(t,i),Vi("invalid",t);break;case"option":default:s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=D({},i,{value:void 0}),Vi("invalid",t);break;case"textarea":st(t,i),s=it(t,i),Vi("invalid",t)}for(a in vt(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ft(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ut(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vi("scroll",t):null!=u&&y(t,a,u,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),at(t);break;case"option":null!=i.value&&t.setAttribute("value",""+$(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?nt(t,!!i.multiple,a,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(t.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return $o(e),null;case 6:if(t&&null!=e.stateNode)Po(0,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(n=Kr(qr.current),Kr($r.current),ur(e)){if(i=e.stateNode,n=e.memoizedProps,i[hs]=e,(a=i.nodeValue!==n)&&null!==(t=er))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hs]=e,e.stateNode=i}return $o(e),null;case 13:if(js(Qr),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ir&&null!==nr&&0!==(1&e.mode)&&0===(128&e.flags))hr(),dr(),e.flags|=98560,a=!1;else if(a=ur(e),null!==i&&null!==i.dehydrated){if(null===t){if(!a)throw Error(r(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(r(317));a[hs]=e}else dr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;$o(e),a=!1}else null!==sr&&(sc(sr),sr=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Qr.current)?0===Pl&&(Pl=3):pc())),null!==e.updateQueue&&(e.flags|=4),$o(e),null);case 4:return Gr(),null===t&&Bi(e.stateNode.containerInfo),$o(e),null;case 10:return Cr(e.type._context),$o(e),null;case 19:if(js(Qr),null===(a=e.memoizedState))return $o(e),null;if(i=0!==(128&e.flags),null===(l=a.rendering))if(i)Uo(a,!1);else{if(0!==Pl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=Zr(t))){for(e.flags|=128,Uo(a,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ns(Qr,1&Qr.current|2),e.child}t=t.sibling}null!==a.tail&&Yt()>Il&&(e.flags|=128,i=!0,Uo(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=Zr(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Uo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ir)return $o(e),null}else 2*Yt()-a.renderingStartTime>Il&&1073741824!==n&&(e.flags|=128,i=!0,Uo(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yt(),e.sibling=null,n=Qr.current,Ns(Qr,i?1&n|2:1&n),e):($o(e),null);case 22:case 23:return cc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Ml)&&($o(e),6&e.subtreeFlags&&(e.flags|=8192)):$o(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function qo(t,e){switch(tr(e),e.tag){case 1:return _s(e.type)&&Ps(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Gr(),js(zs),js(Es),ea(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jr(e),null;case 13:if(js(Qr),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));dr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return js(Qr),null;case 4:return Gr(),null;case 10:return Cr(e.type._context),null;case 22:case 23:return cc(),null;default:return null}}Mo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_o=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Kr($r.current);var r,a=null;switch(n){case"input":s=G(t,s),i=G(t,i),a=[];break;case"select":s=D({},s,{value:void 0}),i=D({},i,{value:void 0}),a=[];break;case"textarea":s=it(t,s),i=it(t,i),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(t.onclick=Qi)}for(u in vt(n,i),n=null,s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=s?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Po=function(t,e,n,i){n!==i&&(e.flags|=4)};var Ko=!1,Xo=!1,Go="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Jo(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(jh){kc(t,e,jh)}else n.current=null}function Qo(t,e,n){try{n()}catch(jh){kc(t,e,jh)}}var Zo=!1;function tl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,void 0!==r&&Qo(e,n,r)}s=s.next}while(s!==i)}}function el(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function nl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function il(t){var e=t.alternate;null!==e&&(t.alternate=null,il(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[hs],delete e[ds],delete e[ms],delete e[fs],delete e[gs])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function rl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function al(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Qi));else if(4!==i&&null!==(t=t.child))for(al(t,e,n),t=t.sibling;null!==t;)al(t,e,n),t=t.sibling}function ol(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ol(t,e,n),t=t.sibling;null!==t;)ol(t,e,n),t=t.sibling}var ll=null,cl=!1;function ul(t,e,n){for(n=n.child;null!==n;)hl(t,e,n),n=n.sibling}function hl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,n)}catch(vh){}switch(n.tag){case 5:Xo||Jo(n,e);case 6:var i=ll,s=cl;ll=null,ul(t,e,n),cl=s,null!==(ll=i)&&(cl?(t=ll,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ll.removeChild(n.stateNode));break;case 18:null!==ll&&(cl?(t=ll,n=n.stateNode,8===t.nodeType?os(t.parentNode,n):1===t.nodeType&&os(t,n),Be(t)):os(ll,n.stateNode));break;case 4:i=ll,s=cl,ll=n.stateNode.containerInfo,cl=!0,ul(t,e,n),ll=i,cl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&Qo(n,e,a),s=s.next}while(s!==i)}ul(t,e,n);break;case 1:if(!Xo&&(Jo(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(vh){kc(n,e,vh)}ul(t,e,n);break;case 21:ul(t,e,n);break;case 22:1&n.mode?(Xo=(i=Xo)||null!==n.memoizedState,ul(t,e,n),Xo=i):ul(t,e,n);break;default:ul(t,e,n)}}function dl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Go),e.forEach(function(e){var i=Cc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}}function pl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:ll=l.stateNode,cl=!1;break t;case 3:case 4:ll=l.stateNode.containerInfo,cl=!0;break t}l=l.return}if(null===ll)throw Error(r(160));hl(a,o,s),ll=null,cl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(xh){kc(s,e,xh)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pl(e,t),fl(t),4&i){try{tl(3,t,t.return),el(3,t)}catch(Nh){kc(t,t.return,Nh)}try{tl(5,t,t.return)}catch(Nh){kc(t,t.return,Nh)}}break;case 1:pl(e,t),fl(t),512&i&&null!==n&&Jo(n,n.return);break;case 5:if(pl(e,t),fl(t),512&i&&null!==n&&Jo(n,n.return),32&t.flags){var s=t.stateNode;try{ht(s,"")}catch(Nh){kc(t,t.return,Nh)}}if(4&i&&null!=(s=t.stateNode)){var a=t.memoizedProps,o=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(s,a),xt(l,o);var u=xt(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ft(s,d):"dangerouslySetInnerHTML"===h?ut(s,d):"children"===h?ht(s,d):y(s,h,d,u)}switch(l){case"input":Q(s,a);break;case"textarea":rt(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?nt(s,!!a.multiple,m,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(s,!!a.multiple,a.defaultValue,!0):nt(s,!!a.multiple,a.multiple?[]:"",!1))}s[ds]=a}catch(Nh){kc(t,t.return,Nh)}}break;case 6:if(pl(e,t),fl(t),4&i){if(null===t.stateNode)throw Error(r(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(Nh){kc(t,t.return,Nh)}}break;case 3:if(pl(e,t),fl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(Nh){kc(t,t.return,Nh)}break;case 4:default:pl(e,t),fl(t);break;case 13:pl(e,t),fl(t),8192&(s=t.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Ol=Yt())),4&i&&dl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xo=(u=Xo)||h,pl(e,t),Xo=u):pl(e,t),fl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Yo=t,h=t.child;null!==h;){for(d=Yo=h;null!==Yo;){switch(m=(p=Yo).child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:Jo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{e=i,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(Nh){kc(i,n,Nh)}}break;case 5:Jo(p,p.return);break;case 22:if(null!==p.memoizedState){yl(d);continue}}null!==m?(m.return=p,Yo=m):yl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",o))}catch(Nh){kc(t,t.return,Nh)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(Nh){kc(t,t.return,Nh)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(e,t),fl(t),4&i&&dl(t);case 21:}}function fl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var i=n;break t}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(ht(s,""),i.flags&=-33),ol(t,rl(t),s);break;case 3:case 4:var a=i.stateNode.containerInfo;al(t,rl(t),a);break;default:throw Error(r(161))}}catch(Fh){kc(t,t.return,Fh)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function gl(t,e,n){Yo=t,vl(t,e,n)}function vl(t,e,n){for(var i=0!==(1&t.mode);null!==Yo;){var s=Yo,r=s.child;if(22===s.tag&&i){var a=null!==s.memoizedState||Ko;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Ko;var c=Xo;if(Ko=a,(Xo=l)&&!c)for(Yo=s;null!==Yo;)l=(a=Yo).child,22===a.tag&&null!==a.memoizedState?bl(s):null!==l?(l.return=a,Yo=l):bl(s);for(;null!==r;)Yo=r,vl(r,e,n),r=r.sibling;Yo=s,Ko=o,Xo=c}xl(t)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Yo=r):xl(t)}}function xl(t){for(;null!==Yo;){var e=Yo;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xo||el(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Xo)if(null===n)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:to(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Wr(e,a,i);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Wr(e,o,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(r(163))}Xo||512&e.flags&&nl(e)}catch(gh){kc(e,e.return,gh)}}if(e===t){Yo=null;break}if(null!==(n=e.sibling)){n.return=e.return,Yo=n;break}Yo=e.return}}function yl(t){for(;null!==Yo;){var e=Yo;if(e===t){Yo=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Yo=n;break}Yo=e.return}}function bl(t){for(;null!==Yo;){var e=Yo;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{el(4,e)}catch(Fh){kc(e,n,Fh)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var s=e.return;try{i.componentDidMount()}catch(Fh){kc(e,s,Fh)}}var r=e.return;try{nl(e)}catch(Fh){kc(e,r,Fh)}break;case 5:var a=e.return;try{nl(e)}catch(Fh){kc(e,a,Fh)}}}catch(Fh){kc(e,e.return,Fh)}if(e===t){Yo=null;break}var o=e.sibling;if(null!==o){o.return=e.return,Yo=o;break}Yo=e.return}}var wl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,jl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Cl=0,El=null,zl=null,Tl=0,Ml=0,_l=Ss(0),Pl=0,Al=null,Ll=0,Rl=0,Fl=0,Dl=null,Vl=null,Ol=0,Il=1/0,Bl=null,Wl=!1,Ul=null,$l=null,Hl=!1,ql=null,Kl=0,Xl=0,Gl=null,Yl=-1,Jl=0;function Ql(){return 0!==(6&Cl)?Yt():-1!==Yl?Yl:Yl=Yt()}function Zl(t){return 0===(1&t.mode)?1:0!==(2&Cl)&&0!==Tl?Tl&-Tl:null!==mr.transition?(0===Jl&&(Jl=me()),Jl):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Ge(t.type)}function tc(t,e,n,i){if(50<Xl)throw Xl=0,Gl=null,Error(r(185));ge(t,n,i),0!==(2&Cl)&&t===El||(t===El&&(0===(2&Cl)&&(Rl|=n),4===Pl&&rc(t,Tl)),ec(t,i),1===n&&0===Cl&&0===(1&e.mode)&&(Il=Yt()+500,Vs&&Bs()))}function ec(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-re(r),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&i)||(s[a]=de(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}(t,e);var i=he(t,t===El?Tl:0);if(0===i)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Vs=!0,Is(t)}(ac.bind(null,t)):Is(ac.bind(null,t)),rs(function(){0===(6&Cl)&&Bs()}),n=null;else{switch(ye(i)){case 1:n=Qt;break;case 4:n=Zt;break;case 16:default:n=te;break;case 536870912:n=ne}n=Ec(n,nc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nc(t,e){if(Yl=-1,Jl=0,0!==(6&Cl))throw Error(r(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var i=he(t,t===El?Tl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=mc(t,i);else{e=i;var s=Cl;Cl|=2;var a=dc();for(El===t&&Tl===e||(Bl=null,Il=Yt()+500,uc(t,e));;)try{gc();break}catch(vh){hc(t,vh)}Nr(),Sl.current=a,Cl=s,null!==zl?e=0:(El=null,Tl=0,e=Pl)}if(0!==e){if(2===e&&(0!==(s=pe(t))&&(i=s,e=ic(t,s))),1===e)throw n=Al,uc(t,0),rc(t,i),ec(t,Yt()),n;if(6===e)rc(t,i);else{if(s=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ai(r(),s))return!1}catch(o){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(s)&&(2===(e=mc(t,i))&&(0!==(a=pe(t))&&(i=a,e=ic(t,a))),1===e))throw n=Al,uc(t,0),rc(t,i),ec(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(r(345));case 2:case 5:yc(t,Vl,Bl);break;case 3:if(rc(t,i),(130023424&i)===i&&10<(e=Ol+500-Yt())){if(0!==he(t,0))break;if(((s=t.suspendedLanes)&i)!==i){Ql(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ns(yc.bind(null,t,Vl,Bl),e);break}yc(t,Vl,Bl);break;case 4:if(rc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-re(i);a=1<<o,(o=e[o])>s&&(s=o),i&=~a}if(i=s,10<(i=(120>(i=Yt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){t.timeoutHandle=ns(yc.bind(null,t,Vl,Bl),i);break}yc(t,Vl,Bl);break;default:throw Error(r(329))}}}return ec(t,Yt()),t.callbackNode===n?nc.bind(null,t):null}function ic(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(uc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Vl,Vl=n,null!==e&&sc(e)),t}function sc(t){null===Vl?Vl=t:Vl.push.apply(Vl,t)}function rc(t,e){for(e&=~Fl,e&=~Rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-re(e),i=1<<n;t[n]=-1,e&=~i}}function ac(t){if(0!==(6&Cl))throw Error(r(327));bc();var e=he(t,0);if(0===(1&e))return ec(t,Yt()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=ic(t,i))}if(1===n)throw n=Al,uc(t,0),rc(t,e),ec(t,Yt()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yc(t,Vl,Bl),ec(t,Yt()),null}function oc(t,e){var n=Cl;Cl|=1;try{return t(e)}finally{0===(Cl=n)&&(Il=Yt()+500,Vs&&Bs())}}function lc(t){null!==ql&&0===ql.tag&&0===(6&Cl)&&bc();var e=Cl;Cl|=1;var n=Nl.transition,i=xe;try{if(Nl.transition=null,xe=1,t)return t()}finally{xe=i,Nl.transition=n,0===(6&(Cl=e))&&Bs()}}function cc(){Ml=_l.current,js(_l)}function uc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,is(n)),null!==zl)for(n=zl.return;null!==n;){var i=n;switch(tr(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ps();break;case 3:Gr(),js(zs),js(Es),ea();break;case 5:Jr(i);break;case 4:Gr();break;case 13:case 19:js(Qr);break;case 10:Cr(i.type._context);break;case 22:case 23:cc()}n=n.return}if(El=t,zl=t=_c(t.current,null),Tl=Ml=e,Pl=0,Al=null,Fl=Rl=Ll=0,Vl=Dl=null,null!==Mr){for(e=0;e<Mr.length;e++)if(null!==(i=(n=Mr[e]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var a=r.next;r.next=s,i.next=a}n.pending=i}Mr=null}return t}function hc(t,e){for(;;){var n=zl;try{if(Nr(),na.current=Ya,la){for(var i=ra.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}la=!1}if(sa=0,oa=aa=ra=null,ca=!1,ua=0,jl.current=null,null===n||null===n.return){Pl=1,Al=e,zl=null;break}t:{var a=t,o=n.return,l=n,c=e;if(e=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=fo(o);if(null!==m){m.flags&=-257,go(m,o,l,0,e),1&m.mode&&mo(a,u,e),c=u;var f=(e=m).updateQueue;if(null===f){var g=new Set;g.add(c),e.updateQueue=g}else f.add(c);break t}if(0===(1&e)){mo(a,u,e),pc();break t}c=Error(r(426))}else if(ir&&1&l.mode){var v=fo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),go(v,o,l,0,e),pr(oo(c,l));break t}}a=c=oo(c,l),4!==Pl&&(Pl=2),null===Dl?Dl=[a]:Dl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Ir(a,ho(0,c,e));break t;case 1:l=c;var x=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof x.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e,Ir(a,po(a,l,e));break t}}a=a.return}while(null!==a)}xc(n)}catch(b){e=b,zl===n&&null!==n&&(zl=n=n.return);continue}break}}function dc(){var t=Sl.current;return Sl.current=Ya,null===t?Ya:t}function pc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===El||0===(268435455&Ll)&&0===(268435455&Rl)||rc(El,Tl)}function mc(t,e){var n=Cl;Cl|=2;var i=dc();for(El===t&&Tl===e||(Bl=null,uc(t,e));;)try{fc();break}catch(fh){hc(t,fh)}if(Nr(),Cl=n,Sl.current=i,null!==zl)throw Error(r(261));return El=null,Tl=0,Pl}function fc(){for(;null!==zl;)vc(zl)}function gc(){for(;null!==zl&&!Xt();)vc(zl)}function vc(t){var e=wl(t.alternate,t,Ml);t.memoizedProps=t.pendingProps,null===e?xc(t):zl=e,jl.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ho(n,e,Ml)))return void(zl=n)}else{if(null!==(n=qo(n,e)))return n.flags&=32767,void(zl=n);if(null===t)return Pl=6,void(zl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(zl=e);zl=e=t}while(null!==e);0===Pl&&(Pl=5)}function yc(t,e,n){var i=xe,s=Nl.transition;try{Nl.transition=null,xe=1,function(t,e,n,i){do{bc()}while(null!==ql);if(0!==(6&Cl))throw Error(r(327));n=t.finishedWork;var s=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-re(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}(t,a),t===El&&(zl=El=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Ec(te,function(){return bc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=xe;xe=1;var l=Cl;Cl|=4,jl.current=null,function(t,e){if(Zi=Ue,di(t=hi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(Qh){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,p=null;e:for(;;){for(var m;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)p=d,d=m;for(;;){if(d===t)break e;if(p===n&&++u===s&&(l=o),p===a&&++h===i&&(c=o),null!==(m=d.nextSibling))break;p=(d=p).parentNode}d=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:t,selectionRange:n},Ue=!1,Yo=e;null!==Yo;)if(t=(e=Yo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Yo=t;else for(;null!==Yo;){e=Yo;try{var f=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:to(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(Qh){kc(e,e.return,Qh)}if(null!==(t=e.sibling)){t.return=e.return,Yo=t;break}Yo=e.return}f=Zo,Zo=!1}(t,n),ml(n,t),pi(ts),Ue=!!Zi,ts=Zi=null,t.current=n,gl(n,t,s),Gt(),Cl=l,xe=o,Nl.transition=a}else t.current=n;if(Hl&&(Hl=!1,ql=t,Kl=s),a=t.pendingLanes,0===a&&($l=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ec(t,Yt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,t=Ul,Ul=null,t;0!==(1&Kl)&&0!==t.tag&&bc(),a=t.pendingLanes,0!==(1&a)?t===Gl?Xl++:(Xl=0,Gl=t):Xl=0,Bs()}(t,e,n,i)}finally{Nl.transition=s,xe=i}return null}function bc(){if(null!==ql){var t=ye(Kl),e=Nl.transition,n=xe;try{if(Nl.transition=null,xe=16>t?16:t,null===ql)var i=!1;else{if(t=ql,ql=null,Kl=0,0!==(6&Cl))throw Error(r(331));var s=Cl;for(Cl|=4,Yo=t.current;null!==Yo;){var a=Yo,o=a.child;if(0!==(16&Yo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Yo=u;null!==Yo;){var h=Yo;switch(h.tag){case 0:case 11:case 15:tl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Yo=d;else for(;null!==Yo;){var p=(h=Yo).sibling,m=h.return;if(il(h),h===u){Yo=null;break}if(null!==p){p.return=m,Yo=p;break}Yo=m}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Yo=o;else t:for(;null!==Yo;){if(0!==(2048&(a=Yo).flags))switch(a.tag){case 0:case 11:case 15:tl(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,Yo=x;break t}Yo=a.return}}var y=t.current;for(Yo=y;null!==Yo;){var b=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Yo=b;else t:for(o=y;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(k){kc(l,l.return,k)}if(l===o){Yo=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Yo=w;break t}Yo=l.return}}if(Cl=s,Bs(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(k){}i=!0}return i}finally{xe=n,Nl.transition=e}}return!1}function wc(t,e,n){t=Vr(t,e=ho(0,e=oo(n,e),1),1),e=Ql(),null!==t&&(ge(t,1,e),ec(t,e))}function kc(t,e,n){if(3===t.tag)wc(t,t,n);else for(;null!==e;){if(3===e.tag){wc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===$l||!$l.has(i))){e=Vr(e,t=po(e,t=oo(n,t),1),1),t=Ql(),null!==e&&(ge(e,1,t),ec(e,t));break}}e=e.return}}function Sc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=Ql(),t.pingedLanes|=t.suspendedLanes&n,El===t&&(Tl&n)===n&&(4===Pl||3===Pl&&(130023424&Tl)===Tl&&500>Yt()-Ol?uc(t,0):Fl|=n),ec(t,e)}function jc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=Ql();null!==(t=Ar(t,e))&&(ge(t,e,n),ec(t,n))}function Nc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),jc(t,n)}function Cc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(e),jc(t,n)}function Ec(t,e){return qt(t,e)}function zc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(t,e,n,i){return new zc(t,e,n,i)}function Mc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function _c(t,e){var n=t.alternate;return null===n?((n=Tc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,i,s,a){var o=2;if(i=t,"function"===typeof t)Mc(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case S:return Ac(n.children,s,a,e);case j:o=8,s|=8;break;case N:return(t=Tc(12,n,e,2|s)).elementType=N,t.lanes=a,t;case T:return(t=Tc(13,n,e,s)).elementType=T,t.lanes=a,t;case M:return(t=Tc(19,n,e,s)).elementType=M,t.lanes=a,t;case A:return Lc(n,s,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:o=10;break t;case E:o=9;break t;case z:o=11;break t;case _:o=14;break t;case P:o=16,i=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Tc(o,n,e,s)).elementType=t,e.type=i,e.lanes=a,e}function Ac(t,e,n,i){return(t=Tc(7,t,i,e)).lanes=n,t}function Lc(t,e,n,i){return(t=Tc(22,t,i,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function Rc(t,e,n){return(t=Tc(6,t,null,e)).lanes=n,t}function Fc(t,e,n){return(e=Tc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dc(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fe(0),this.expirationTimes=fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(t,e,n,i,s,r,a,o,l){return t=new Dc(t,e,n,o,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Tc(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rr(r),t}function Oc(t){if(!t)return Cs;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(_s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(_s(n))return Ls(t,n,e)}return e}function Ic(t,e,n,i,s,r,a,o,l){return(t=Vc(n,i,!0,t,0,r,0,o,l)).context=Oc(null),n=t.current,(r=Dr(i=Ql(),s=Zl(n))).callback=void 0!==e&&null!==e?e:null,Vr(n,r,s),t.current.lanes=s,ge(t,s,i),ec(t,i),t}function Bc(t,e,n,i){var s=e.current,r=Ql(),a=Zl(s);return n=Oc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Dr(r,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Vr(s,e,a))&&(tc(t,s,a,r),Or(t,s,a)),a}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Uc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function $c(t,e){Uc(t,e),(t=t.alternate)&&Uc(t,e)}wl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||zs.current)xo=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return xo=!1,function(t,e,n){switch(e.tag){case 3:zo(e),dr();break;case 5:Yr(e);break;case 1:_s(e.type)&&Rs(e);break;case 4:Xr(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ns(wr,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Ns(Qr,1&Qr.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ro(t,e,n):(Ns(Qr,1&Qr.current),null!==(t=Wo(t,e,n))?t.sibling:null);Ns(Qr,1&Qr.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Io(t,e,n);e.flags|=128}if(null!==(s=e.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ns(Qr,Qr.current),i)break;return null;case 22:case 23:return e.lanes=0,So(t,e,n)}return Wo(t,e,n)}(t,e,n);xo=0!==(131072&t.flags)}else xo=!1,ir&&0!==(1048576&e.flags)&&Qs(e,Hs,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Bo(t,e),t=e.pendingProps;var s=Ms(e,Es.current);zr(e,n),s=ma(null,e,i,t,s,n);var a=fa();return e.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_s(i)?(a=!0,Rs(e)):a=!1,e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Rr(e),s.updater=no,e.stateNode=s,s._reactInternals=e,ao(e,i,t,n),e=Eo(null,e,i,!0,a,n)):(e.tag=0,ir&&a&&Zs(e),yo(null,e,s,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Bo(t,e),t=e.pendingProps,i=(s=i._init)(i._payload),e.type=i,s=e.tag=function(t){if("function"===typeof t)return Mc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===z)return 11;if(t===_)return 14}return 2}(i),t=to(i,t),s){case 0:e=No(null,e,i,t,n);break t;case 1:e=Co(null,e,i,t,n);break t;case 11:e=bo(null,e,i,t,n);break t;case 14:e=wo(null,e,i,to(i.type,t),n);break t}throw Error(r(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,No(t,e,i,s=e.elementType===i?s:to(i,s),n);case 1:return i=e.type,s=e.pendingProps,Co(t,e,i,s=e.elementType===i?s:to(i,s),n);case 3:t:{if(zo(e),null===t)throw Error(r(387));i=e.pendingProps,s=(a=e.memoizedState).element,Fr(t,e),Br(e,i,null,n);var o=e.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=To(t,e,i,n,s=oo(Error(r(423)),e));break t}if(i!==s){e=To(t,e,i,n,s=oo(Error(r(424)),e));break t}for(nr=ls(e.stateNode.containerInfo.firstChild),er=e,ir=!0,sr=null,n=br(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(dr(),i===s){e=Wo(t,e,n);break t}yo(t,e,i,n)}e=e.child}return e;case 5:return Yr(e),null===t&&lr(e),i=e.type,s=e.pendingProps,a=null!==t?t.memoizedProps:null,o=s.children,es(i,s)?o=null:null!==a&&es(i,a)&&(e.flags|=32),jo(t,e),yo(t,e,o,n),e.child;case 6:return null===t&&lr(e),null;case 13:return Ro(t,e,n);case 4:return Xr(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=yr(e,null,i,n):yo(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,bo(t,e,i,s=e.elementType===i?s:to(i,s),n);case 7:return yo(t,e,e.pendingProps,n),e.child;case 8:case 12:return yo(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Ns(wr,i._currentValue),i._currentValue=o,null!==a)if(ai(a.value,o)){if(a.children===s.children&&!zs.current){e=Wo(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Dr(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Er(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Er(o,n,e),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,zr(e,n),i=i(s=Tr(s)),e.flags|=1,yo(t,e,i,n),e.child;case 14:return s=to(i=e.type,e.pendingProps),wo(t,e,i,s=to(i.type,s),n);case 15:return ko(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:to(i,s),Bo(t,e),e.tag=1,_s(i)?(t=!0,Rs(e)):t=!1,zr(e,n),so(e,i,s),ao(e,i,s,n),Eo(null,e,i,!0,t,n);case 19:return Io(t,e,n);case 22:return So(t,e,n)}throw Error(r(156,e.tag))};var Hc="function"===typeof reportError?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}function Kc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Gc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Yc(){}function Jc(t,e,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof s){var o=s;s=function(){var t=Wc(a);o.call(t)}}Bc(e,a,t,s)}else a=function(t,e,n,i,s){if(s){if("function"===typeof i){var r=i;i=function(){var t=Wc(a);r.call(t)}}var a=Ic(e,i,t,0,null,!1,0,"",Yc);return t._reactRootContainer=a,t[ps]=a.current,Bi(8===t.nodeType?t.parentNode:t),lc(),a}for(;s=t.lastChild;)t.removeChild(s);if("function"===typeof i){var o=i;i=function(){var t=Wc(l);o.call(t)}}var l=Vc(t,0,!1,null,0,!1,0,"",Yc);return t._reactRootContainer=l,t[ps]=l.current,Bi(8===t.nodeType?t.parentNode:t),lc(function(){Bc(e,l,n,i)}),l}(n,e,t,s,i);return Wc(a)}Kc.prototype.render=qc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Bc(t,e,null,null)},Kc.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;lc(function(){Bc(null,t,null,null)}),e[ps]=null}},Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&Fe(t)}},be=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ue(e.pendingLanes);0!==n&&(ve(e,1|n),ec(e,Yt()),0===(6&Cl)&&(Il=Yt()+500,Bs()))}break;case 13:lc(function(){var e=Ar(t,1);if(null!==e){var n=Ql();tc(e,t,1,n)}}),$c(t,1)}},we=function(t){if(13===t.tag){var e=Ar(t,134217728);if(null!==e)tc(e,t,134217728,Ql());$c(t,134217728)}},ke=function(t){if(13===t.tag){var e=Zl(t),n=Ar(t,e);if(null!==n)tc(n,t,e,Ql());$c(t,e)}},Se=function(){return xe},je=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}},wt=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=bs(i);if(!s)throw Error(r(90));K(i),Q(i,s)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Et=oc,zt=lc;var Qc={usingClientEntryPoint:!1,Events:[xs,ys,bs,Nt,Ct,oc]},Zc={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{ie=eu.inject(tu),se=eu}catch(yh){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(r(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(r(299));var n=!1,i="",s=Hc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(s=e.onRecoverableError)),e=Vc(t,1,!1,null,0,n,0,i,s),t[ps]=e.current,Bi(8===t.nodeType?t.parentNode:t),new qc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return lc(t)},e.hydrate=function(t,e,n){if(!Gc(e))throw Error(r(200));return Jc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,a="",o=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=Ic(e,null,t,1,null!=n?n:null,s,0,a,o),t[ps]=e.current,Bi(t),i)for(t=0;t<i.length;t++)s=(s=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kc(e)},e.render=function(t,e,n){if(!Gc(e))throw Error(r(200));return Jc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Gc(t))throw Error(r(40));return!!t._reactRootContainer&&(lc(function(){Jc(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0)},e.unstable_batchedUpdates=oc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gc(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return Jc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},853(t,e,n){t.exports=n(234)},950(t,e,n){!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(fh){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};n.r(i),n.d(i,{hasBrowserEnv:()=>Oc,hasStandardBrowserEnv:()=>Bc,hasStandardBrowserWebWorkerEnv:()=>Wc,navigator:()=>Ic,origin:()=>Uc});var s=n(43),r=n(391);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function l(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=n(579);const d=(0,s.createContext)({});function p(t){const e=(0,s.useRef)(null);return null===e.current&&(e.current=t()),e.current}const m="undefined"!==typeof window,f=m?s.useLayoutEffect:s.useEffect,g=(0,s.createContext)(null);function v(t){return"object"===typeof t&&null!==t}function x(t){return v(t)&&"offsetHeight"in t}const y=(0,s.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function b(t,e){if("function"===typeof t)return t(e);null!==t&&void 0!==t&&(t.current=e)}function w(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s.useCallback(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{let n=!1;const i=e.map(e=>{const i=b(e,t);return n||"function"!==typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){const n=i[t];"function"===typeof n?n():b(e[t],null)}}}}(...e),e)}class k extends s.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=e.offsetParent,n=x(t)&&t.offsetWidth||0,i=x(t)&&t.offsetHeight||0,s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft,s.right=n-s.width-s.left,s.bottom=i-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function S(t){var e,n;let{children:i,isPresent:r,anchorX:a,anchorY:o,root:l}=t;const c=(0,s.useId)(),u=(0,s.useRef)(null),d=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=(0,s.useContext)(y),m=null!==(e=null===(n=i.props)||void 0===n?void 0:n.ref)&&void 0!==e?e:null===i||void 0===i?void 0:i.ref,f=w(u,m);return(0,s.useInsertionEffect)(()=>{const{width:t,height:e,top:n,left:i,right:s,bottom:h}=d.current;if(r||!u.current||!t||!e)return;const m="left"===a?"left: ".concat(i):"right: ".concat(s),f="bottom"===o?"bottom: ".concat(h):"top: ".concat(n);u.current.dataset.motionPopId=c;const g=document.createElement("style");p&&(g.nonce=p);const v=null!==l&&void 0!==l?l:document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule('\n          [data-motion-pop-id="'.concat(c,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            ").concat(m,"px !important;\n            ").concat(f,"px !important;\n          }\n        ")),()=>{v.contains(g)&&v.removeChild(g)}},[r]),(0,h.jsx)(k,{isPresent:r,childRef:u,sizeRef:d,children:s.cloneElement(i,{ref:f})})}const j=t=>{let{children:e,initial:n,isPresent:i,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,anchorY:d,root:m}=t;const f=p(N),v=(0,s.useId)();let x=!0,y=(0,s.useMemo)(()=>(x=!1,{id:v,initial:n,isPresent:i,custom:a,onExitComplete:t=>{f.set(t,!0);for(const e of f.values())if(!e)return;r&&r()},register:t=>(f.set(t,!1),()=>f.delete(t))}),[i,f,r]);return o&&x&&(y=u({},y)),(0,s.useMemo)(()=>{f.forEach((t,e)=>f.set(e,!1))},[i]),s.useEffect(()=>{!i&&!f.size&&r&&r()},[i]),"popLayout"===l&&(e=(0,h.jsx)(S,{isPresent:i,anchorX:c,anchorY:d,root:m,children:e})),(0,h.jsx)(g.Provider,{value:y,children:e})};function N(){return new Map}function C(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=(0,s.useContext)(g);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=(0,s.useId)();(0,s.useEffect)(()=>{if(t)return r(a)},[t]);const o=(0,s.useCallback)(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,o]:[!0]}const E=t=>t.key||"";function z(t){const e=[];return s.Children.forEach(t,t=>{(0,s.isValidElement)(t)&&e.push(t)}),e}const T=t=>{let{children:e,custom:n,initial:i=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",anchorY:u="top",root:m}=t;const[g,v]=C(l),x=(0,s.useMemo)(()=>z(e),[e]),y=l&&!g?[]:x.map(E),b=(0,s.useRef)(!0),w=(0,s.useRef)(x),k=p(()=>new Map),S=(0,s.useRef)(new Set),[N,T]=(0,s.useState)(x),[M,_]=(0,s.useState)(x);f(()=>{b.current=!1,w.current=x;for(let t=0;t<M.length;t++){const e=E(M[t]);y.includes(e)?(k.delete(e),S.current.delete(e)):!0!==k.get(e)&&k.set(e,!1)}},[M,y.length,y.join("-")]);const P=[];if(x!==N){let t=[...x];for(let e=0;e<M.length;e++){const n=M[e],i=E(n);y.includes(i)||(t.splice(e,0,n),P.push(n))}return"wait"===o&&P.length&&(t=P),_(z(t)),T(x),null}const{forceRender:A}=(0,s.useContext)(d);return(0,h.jsx)(h.Fragment,{children:M.map(t=>{const e=E(t),s=!(l&&!g)&&(x===M||y.includes(e));return(0,h.jsx)(j,{isPresent:s,initial:!(b.current&&!i)&&void 0,custom:n,presenceAffectsLayout:a,mode:o,root:m,onExitComplete:s?void 0:()=>{if(S.current.has(e))return;if(S.current.add(e),!k.has(e))return;k.set(e,!0);let t=!0;k.forEach(e=>{e||(t=!1)}),t&&(null===A||void 0===A||A(),_(w.current),l&&(null===v||void 0===v||v()),r&&r())},anchorX:c,anchorY:u,children:t},e)})})},M=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_=(()=>new Set(M))(),P=(t,e,n)=>n>e?e:n<t?t:n,A={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},L=u(u({},A),{},{transform:t=>P(0,1,t)}),R=u(u({},A),{},{default:1}),F=t=>Math.round(1e5*t)/1e5,D=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const V=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,O=(t,e)=>n=>Boolean("string"===typeof n&&V.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),I=(t,e,n)=>i=>{if("string"!==typeof i)return i;const[s,r,a,o]=i.match(D);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},B=u(u({},A),{},{transform:t=>Math.round((t=>P(0,255,t))(t))}),W={test:O("rgb","red"),parse:I("red","green","blue"),transform:t=>{let{red:e,green:n,blue:i,alpha:s=1}=t;return"rgba("+B.transform(e)+", "+B.transform(n)+", "+B.transform(i)+", "+F(L.transform(s))+")"}};const U={test:O("#"),parse:function(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}},transform:W.transform},$=t=>({test:e=>"string"===typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),H=$("deg"),q=$("%"),K=$("px"),X=$("vh"),G=$("vw"),Y=(()=>u(u({},q),{},{parse:t=>q.parse(t)/100,transform:t=>q.transform(100*t)}))(),J={test:O("hsl","hue"),parse:I("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:i,alpha:s=1}=t;return"hsla("+Math.round(e)+", "+q.transform(F(n))+", "+q.transform(F(i))+", "+F(L.transform(s))+")"}},Q={test:t=>W.test(t)||U.test(t)||J.test(t),parse:t=>W.test(t)?W.parse(t):J.test(t)?J.parse(t):U.parse(t),transform:t=>"string"===typeof t?t:t.hasOwnProperty("red")?W.transform(t):J.transform(t),getAnimatableNone:t=>{const e=Q.parse(t);return e.alpha=0,Q.transform(e)}},Z=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const tt="number",et="color",nt=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function it(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(nt,t=>(Q.test(t)?(i.color.push(r),s.push(et),n.push(Q.parse(t))):t.startsWith("var(")?(i.var.push(r),s.push("var"),n.push(t)):(i.number.push(r),s.push(tt),n.push(parseFloat(t))),++r,"${}")).split("${}");return{values:n,split:a,indexes:i,types:s}}function st(t){return it(t).values}function rt(t){const{split:e,types:n}=it(t),i=e.length;return t=>{let s="";for(let r=0;r<i;r++)if(s+=e[r],void 0!==t[r]){const e=n[r];s+=e===tt?F(t[r]):e===et?Q.transform(t[r]):t[r]}return s}}const at=t=>"number"===typeof t?0:Q.test(t)?Q.getAnimatableNone(t):t;const ot={test:function(t){var e,n;return isNaN(t)&&"string"===typeof t&&((null===(e=t.match(D))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Z))||void 0===n?void 0:n.length)||0)>0},parse:st,createTransformer:rt,getAnimatableNone:function(t){const e=st(t);return rt(t)(e.map(at))}},lt=new Set(["brightness","contrast","saturate","opacity"]);function ct(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[i]=n.match(D)||[];if(!i)return t;const s=n.replace(i,"");let r=lt.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const ut=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ht=u(u({},ot),{},{getAnimatableNone:t=>{const e=t.match(ut);return e?e.map(ct).join(" "):t}}),dt=u(u({},A),{},{transform:Math.round}),pt=u(u({borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,inset:K,insetBlock:K,insetBlockStart:K,insetBlockEnd:K,insetInline:K,insetInlineStart:K,insetInlineEnd:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,paddingBlock:K,paddingBlockStart:K,paddingBlockEnd:K,paddingInline:K,paddingInlineStart:K,paddingInlineEnd:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,marginBlock:K,marginBlockStart:K,marginBlockEnd:K,marginInline:K,marginInlineStart:K,marginInlineEnd:K,backgroundPositionX:K,backgroundPositionY:K},{rotate:H,rotateX:H,rotateY:H,rotateZ:H,scale:R,scaleX:R,scaleY:R,scaleZ:R,skew:H,skewX:H,skewY:H,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:L,originX:Y,originY:Y,originZ:K}),{},{zIndex:dt,fillOpacity:L,strokeOpacity:L,numOctaves:dt}),mt=u(u({},pt),{},{color:Q,backgroundColor:Q,outlineColor:Q,fill:Q,stroke:Q,borderColor:Q,borderTopColor:Q,borderRightColor:Q,borderBottomColor:Q,borderLeftColor:Q,filter:ht,WebkitFilter:ht}),ft=t=>mt[t],gt=()=>({x:{min:0,max:0},y:{min:0,max:0}}),vt=t=>Boolean(t&&t.getVelocity),xt=new Set(["width","height","top","left","right","bottom",...M]),yt=t=>e=>e.test(t),bt=[A,K,q,H,G,X,{test:t=>"auto"===t,parse:t=>t}],wt=t=>bt.find(yt(t));function kt(t,e){return e?"".concat(t,". For more information and steps for solving, visit https://motion.dev/troubleshooting/").concat(e):t}var St;let jt=()=>{},Nt=()=>{};"undefined"!==typeof process&&"production"!==(null===(St={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_BACKEND_URL:"https://tradecmd.preview.emergentagent.com"})||void 0===St?void 0:St.NODE_ENV)&&(jt=(t,e,n)=>{t||"undefined"===typeof console||console.warn(kt(e,n))},Nt=(t,e,n)=>{if(!t)throw new Error(kt(e,n))});const Ct=t=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(t),Et=t=>e=>"string"===typeof e&&e.startsWith(t),zt=Et("--"),Tt=Et("var(--"),Mt=t=>!!Tt(t)&&_t.test(t.split("/*")[0].trim()),_t=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Pt(t){return"string"===typeof t&&t.split("/*")[0].includes("var(--")}const At=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Lt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Nt(n<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[i,s]=function(t){const e=At.exec(t);if(!e)return[,];const[,n,i,s]=e;return["--".concat(null!==n&&void 0!==n?n:i),s]}(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const t=r.trim();return Ct(t)?parseFloat(t):t}return Mt(s)?Lt(s,e,n+1):s}const Rt=t=>180*t/Math.PI,Ft=t=>{const e=Rt(Math.atan2(t[1],t[0]));return Vt(e)},Dt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ft,rotateZ:Ft,skewX:t=>Rt(Math.atan(t[1])),skewY:t=>Rt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vt=t=>((t%=360)<0&&(t+=360),t),Ot=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),It=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Bt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ot,scaleY:It,scale:t=>(Ot(t)+It(t))/2,rotateX:t=>Vt(Rt(Math.atan2(t[6],t[5]))),rotateY:t=>Vt(Rt(Math.atan2(-t[2],t[0]))),rotateZ:Ft,rotate:Ft,skewX:t=>Rt(Math.atan(t[4])),skewY:t=>Rt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wt(t){return t.includes("scale")?1:0}function Ut(t,e){if(!t||"none"===t)return Wt(e);const n=t.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let i,s;if(n)i=Bt,s=n;else{const e=t.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);i=Dt,s=e}if(!s)return Wt(e);const r=i[e],a=s[1].split(",").map($t);return"function"===typeof r?r(a):a[r]}function $t(t){return parseFloat(t.trim())}const Ht=t=>t===A||t===K,qt=new Set(["x","y","z"]),Kt=M.filter(t=>!qt.has(t));const Xt={width:(t,e)=>{let{x:n}=t,{paddingLeft:i="0",paddingRight:s="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(s)},height:(t,e)=>{let{y:n}=t,{paddingTop:i="0",paddingBottom:s="0"}=e;return n.max-n.min-parseFloat(i)-parseFloat(s)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:i}=e;return parseFloat(i)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:i}=e;return parseFloat(i)+(n.max-n.min)},x:(t,e)=>{let{transform:n}=e;return Ut(n,"x")},y:(t,e)=>{let{transform:n}=e;return Ut(n,"y")}};Xt.translateX=Xt.x,Xt.translateY=Xt.y;const Gt=t=>t,Yt={},Jt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qt={value:null,addProjectionMetrics:null};function Zt(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Jt.reduce((t,n)=>(t[n]=function(t,e){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(e){a.has(e)&&(u.schedule(e),t()),l++,e(o)}const u={schedule:function(t){const e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:i;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(t),e.has(t)||e.add(t),t},cancel:t=>{i.delete(t),a.delete(t)},process:t=>{o=t,s?r=!0:(s=!0,[n,i]=[i,n],n.forEach(c),e&&Qt.value&&Qt.value.frameloop[e].push(l),l=0,n.clear(),s=!1,r&&(r=!1,u.process(t)))}};return u}(r,e?n:void 0),t),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:p,postRender:m}=a,f=()=>{const r=Yt.useManualTiming?s.timestamp:performance.now();n=!1,Yt.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(r-s.timestamp,40),1)),s.timestamp=r,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),h.process(s),d.process(s),p.process(s),m.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(f))},g=Jt.reduce((e,r)=>{const o=a[r];return e[r]=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,s.isProcessing||t(f)),o.schedule(e,r,a)},e},{});return{schedule:g,cancel:t=>{for(let e=0;e<Jt.length;e++)a[Jt[e]].cancel(t)},state:s,steps:a}}const{schedule:te,cancel:ee,state:ne,steps:ie}=Zt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Gt,!0),se=new Set;let re=!1,ae=!1,oe=!1;function le(){if(ae){const t=Array.from(se).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{const e=function(t){const e=[];return Kt.forEach(n=>{const i=t.getValue(n);void 0!==i&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}(t);e.length&&(n.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();const e=n.get(t);e&&e.forEach(e=>{var n;let[i,s]=e;null===(n=t.getValue(i))||void 0===n||n.set(s)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}ae=!1,re=!1,se.forEach(t=>t.complete(oe)),se.clear()}function ce(){se.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ae=!0)})}class ue{constructor(t,e,n,i,s){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=i,this.element=s,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(se.add(this),re||(re=!0,te.read(ce),te.resolveKeyframes(le))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:i}=this;if(null===t[0]){const s=null===i||void 0===i?void 0:i.get(),r=t[t.length-1];if(void 0!==s)t[0]=s;else if(n&&e){const i=n.readValue(e,r);void 0!==i&&null!==i&&(t[0]=i)}void 0===t[0]&&(t[0]=r),i&&void 0===s&&i.set(t[0])}!function(t){for(let n=1;n<t.length;n++){var e;null!==(e=t[n])&&void 0!==e||(t[n]=t[n-1])}}(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),se.delete(this)}cancel(){"scheduled"===this.state&&(se.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const he=t=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(t);function de(t){return"number"===typeof t?0===t:null===t||("none"===t||"0"===t||he(t))}function pe(t,e){let n=ft(t);return n!==ht&&(n=ot),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const me=new Set(["auto","none","0"]);class fe extends ue{constructor(t,e,n,i,s){super(t,e,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let n=t[o];if("string"===typeof n&&(n=n.trim(),Mt(n))){const i=Lt(n,e.current);void 0!==i&&(t[o]=i),o===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!xt.has(n)||2!==t.length)return;const[i,s]=t,r=wt(i),a=wt(s);if(Pt(i)!==Pt(s)&&Xt[n])this.needsMeasurement=!0;else if(r!==a)if(Ht(r)&&Ht(a))for(let o=0;o<t.length;o++){const e=t[o];"string"===typeof e&&(t[o]=parseFloat(e))}else Xt[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let i=0;i<t.length;i++)(null===t[i]||de(t[i]))&&n.push(i);n.length&&function(t,e,n){let i,s=0;for(;s<t.length&&!i;){const e=t[s];"string"===typeof e&&!me.has(e)&&it(e).values.length&&(i=t[s]),s++}if(i&&n)for(const r of e)t[r]=pe(n,i)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const i=e[e.length-1];void 0!==i&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Xt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(t=this.removedTransforms)&&void 0!==t&&t.length&&this.removedTransforms.forEach(t=>{let[n,i]=t;e.getValue(n).set(i)}),this.resolveNoneKeyframes()}}function ge(t,e){if(null==t)return{};var n,i,s=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ve(t,e){-1===t.indexOf(e)&&t.push(e)}function xe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ye{constructor(){this.subscriptions=[]}add(t){return ve(this.subscriptions,t),()=>xe(this.subscriptions,t)}notify(t,e,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](t,e,n);else for(let s=0;s<i;s++){const i=this.subscriptions[s];i&&i(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const{schedule:be,cancel:we}=Zt(queueMicrotask,!1);let ke;function Se(){ke=void 0}const je={now:()=>(void 0===ke&&je.set(ne.isProcessing||Yt.useManualTiming?ne.timestamp:performance.now()),ke),set:t=>{ke=t,queueMicrotask(Se)}};function Ne(t,e){return e?t*(1e3/e):0}const Ce={current:void 0};class Ee{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=t=>{const e=je.now();var n;if((this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){var e;this.current=t,this.updatedAt=je.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e))))}setPrevFrameValue(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ye);const n=this.events[t].add(e);return"change"===t?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;null===(t=this.events.change)||void 0===t||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ce.current&&Ce.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=je.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ne(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;null===(t=this.dependents)||void 0===t||t.clear(),null===(e=this.events.destroy)||void 0===e||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ze(t,e){return new Ee(t,e)}const Te=[...bt,Q,ot],Me={current:null},_e={current:!1},Pe="undefined"!==typeof window;const Ae=new WeakMap;function Le(t){return null!==t&&"object"===typeof t&&"function"===typeof t.start}function Re(t){return"string"===typeof t||Array.isArray(t)}const Fe=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],De=["initial",...Fe];function Ve(t){return Le(t.animate)||De.some(e=>Re(t[e]))}function Oe(t){return Boolean(Ve(t)||t.variants)}function Ie(t){const e=[{},{}];return null===t||void 0===t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Be(t,e,n,i){if("function"===typeof e){const[s,r]=Ie(i);e=e(void 0!==n?n:t.custom,s,r)}if("string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e){const[s,r]=Ie(i);e=e(void 0!==n?n:t.custom,s,r)}return e}const We=["willChange"],Ue=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let $e={};function He(t){$e=t}class qe{scrapeMotionValuesFromProps(t,e,n){return{}}constructor(t){let{parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a}=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ue,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=je.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,te.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget=u({},l),this.initialValues=n.initial?u({},l):{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=Ve(n),this.isVariantNode=Oe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=h,p=ge(h,We);for(const u in p){const t=p[u];void 0!==l[u]&&vt(t)&&t.set(l[u])}}mount(t){var e;this.current=t,Ae.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(_e.current||function(){if(_e.current=!0,Pe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Me.current=t.matches;t.addEventListener("change",e),e()}else Me.current=!1}(),this.shouldReduceMotion=Me.current),null===(e=this.parent)||void 0===e||e.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ee(this.notifyUpdate),ee(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(t=this.parent)||void 0===t||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(t){var e;this.children.add(t),null!==(e=this.enteringChildren)&&void 0!==e||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=_.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&te.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;"undefined"!==typeof window&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in $e){const e=$e[t];if(!e)continue;const{isEnabled:n,Feature:i}=e;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Ue.length;n++){const e=Ue[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const i=t["on"+e];i&&(this.propEventSubscriptions[e]=this.on(e,i))}this.prevMotionValues=function(t,e,n){for(const i in e){const s=e[i],r=n[i];if(vt(s))t.addValue(i,s);else if(vt(r))t.addValue(i,ze(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const e=t.getValue(i);!0===e.liveStyle?e.jump(s):e.hasAnimated||e.set(s)}else{const e=t.getStaticValue(i);t.addValue(i,ze(void 0!==e?e:s,{owner:t}))}}for(const i in n)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=ze(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let i=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return void 0!==i&&null!==i&&("string"===typeof i&&(Ct(i)||he(i))?i=parseFloat(i):!(t=>Te.find(yt(t)))(i)&&ot.test(e)&&(i=pe(t,e)),this.setBaseTarget(t,vt(i)?i.get():i)),vt(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if("string"===typeof e||"object"===typeof e){var i;const s=Be(this.props,e,null===(i=this.presenceContext)||void 0===i?void 0:i.custom);s&&(n=s[t])}if(e&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,t);return void 0===s||vt(s)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:s}on(t,e){return this.events[t]||(this.events[t]=new ye),this.events[t].add(e)}notify(t){if(this.events[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.events[t].notify(...n)}}scheduleRenderMicrotask(){be.render(this.render)}}class Ke extends qe{constructor(){super(...arguments),this.KeyframeResolver=fe}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){const n=t.style;return n?n[e]:void 0}removeValueFromRenderState(t,e){let{vars:n,style:i}=e;delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent="".concat(t))}))}}function Xe(t){return t.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase()))}const Ge=(t,e)=>e&&"number"===typeof t?e.transform(t):t,Ye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Je=M.length;function Qe(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let a=!1,o=!1;for(const l in e){const t=e[l];if(_.has(l))a=!0;else if(zt(l))s[l]=t;else{const e=Ge(t,pt[l]);l.startsWith("origin")?(o=!0,r[l]=e):i[l]=e}}if(e.transform||(a||n?i.transform=function(t,e,n){let i="",s=!0;for(let r=0;r<Je;r++){const a=M[r],o=t[a];if(void 0===o)continue;let l=!0;if("number"===typeof o)l=o===(a.startsWith("scale")?1:0);else{const t=parseFloat(o);l=a.startsWith("scale")?1===t:0===t}if(!l||n){const t=Ge(o,pt[a]);l||(s=!1,i+="".concat(Ye[a]||a,"(").concat(t,") ")),n&&(e[a]=t)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:t="50%",originY:e="50%",originZ:n=0}=r;i.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}const Ze={offset:"stroke-dashoffset",array:"stroke-dasharray"},tn={offset:"strokeDashoffset",array:"strokeDasharray"};const en=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"],nn=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sn(t,e,n,i,s){let{attrX:r,attrY:a,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=e;if(Qe(t,ge(e,en),i),n)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;var p,m;(h.transform&&(d.transform=h.transform,delete h.transform),d.transform||h.transformOrigin)&&(d.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);d.transform&&(d.transformBox=null!==(m=null===s||void 0===s?void 0:s.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);for(const f of nn)void 0!==h[f]&&(d[f]=h[f],delete h[f]);void 0!==r&&(h.x=r),void 0!==a&&(h.y=a),void 0!==o&&(h.scale=o),void 0!==l&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const r=s?Ze:tn;t[r.offset]="".concat(-i),t[r.array]="".concat(e," ").concat(n)}(h,l,c,u,!1)}const rn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),an=t=>"string"===typeof t&&"svg"===t.toLowerCase();function on(t,e,n,i){let{style:s,vars:r}=e;const a=t.style;let o;for(o in s)a[o]=s[o];for(o in null===i||void 0===i||i.applyProjectionStyles(a,n),r)a.setProperty(o,r[o])}function ln(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cn={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!K.test(t))return t;t=parseFloat(t)}const n=ln(t,e.target.x),i=ln(t,e.target.y);return"".concat(n,"% ").concat(i,"%")}},un=(t,e,n)=>t+(e-t)*n,hn={correct:(t,e)=>{let{treeScale:n,projectionDelta:i}=e;const s=t,r=ot.parse(t);if(r.length>5)return s;const a=ot.createTransformer(t),o="number"!==typeof r[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;r[0+o]/=l,r[1+o]/=c;const u=un(l,c,.5);return"number"===typeof r[2+o]&&(r[2+o]/=u),"number"===typeof r[3+o]&&(r[3+o]/=u),a(r)}},dn={borderRadius:u(u({},cn),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:cn,borderTopRightRadius:cn,borderBottomLeftRadius:cn,borderBottomRightRadius:cn,boxShadow:hn};function pn(t,e){let{layout:n,layoutId:i}=e;return _.has(t)||t.startsWith("origin")||(n||void 0!==i)&&(!!dn[t]||"opacity"===t)}function mn(t,e,n){const i=t.style,s=null===e||void 0===e?void 0:e.style,r={};if(!i)return r;for(const o in i){var a;(vt(i[o])||s&&vt(s[o])||pn(o,t)||void 0!==(null===n||void 0===n||null===(a=n.getValue(o))||void 0===a?void 0:a.liveStyle))&&(r[o]=i[o])}return r}function fn(t,e,n){const i=mn(t,e,n);for(const s in t)if(vt(t[s])||vt(e[s])){i[-1!==M.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=t[s]}return i}class gn extends Ke{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(_.has(e)){const t=ft(e);return t&&t.default||0}return e=rn.has(e)?e:Xe(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return fn(t,e,n)}build(t,e,n){sn(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,i){!function(t,e,n,i){on(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(rn.has(s)?s:Xe(s),e.attrs[s])}(t,e,0,i)}mount(t){this.isSVGTag=an(t.tagName),super.mount(t)}}function vn(t){let{top:e,left:n,right:i,bottom:s}=t;return{x:{min:n,max:i},y:{min:e,max:s}}}function xn(t){return void 0===t||1===t}function yn(t){let{scale:e,scaleX:n,scaleY:i}=t;return!xn(e)||!xn(n)||!xn(i)}function bn(t){return yn(t)||wn(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wn(t){return kn(t.x)||kn(t.y)}function kn(t){return t&&"0%"!==t}function Sn(t,e,n){return n+e*(t-n)}function jn(t,e,n,i,s){return void 0!==s&&(t=Sn(t,s,i)),Sn(t,n,i)+e}function Nn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;t.min=jn(t.min,e,n,i,s),t.max=jn(t.max,e,n,i,s)}function Cn(t,e){let{x:n,y:i}=e;Nn(t.x,n.translate,n.scale,n.originPoint),Nn(t.y,i.translate,i.scale,i.originPoint)}const En=.999999999999,zn=1.0000000000001;function Tn(t,e){t.min=t.min+e,t.max=t.max+e}function Mn(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Nn(t,e,n,un(t.min,t.max,s),i)}function _n(t,e){Mn(t.x,e.x,e.scaleX,e.scale,e.originX),Mn(t.y,e.y,e.scaleY,e.scale,e.originY)}function Pn(t,e){return vn(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(t.getBoundingClientRect(),e))}class An extends Ke{constructor(){super(...arguments),this.type="html",this.renderInstance=on}readValueFromInstance(t,e){var n,i;if(_.has(e))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Wt(e):((t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ut(n,e)})(t,e);{const n=(i=t,window.getComputedStyle(i)),s=(zt(e)?n.getPropertyValue(e):n[e])||0;return"string"===typeof s?s.trim():s}}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return Pn(t,n)}build(t,e,n){Qe(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return mn(t,e,n)}}const Ln=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rn(t){return"string"===typeof t&&!t.includes("-")&&!!(Ln.indexOf(t)>-1||/[A-Z]/.test(t))}const Fn=(t,e)=>{var n;return(null!==(n=e.isSVG)&&void 0!==n?n:Rn(t))?new gn(e):new An(e,{allowProjection:t!==s.Fragment})},Dn=(0,s.createContext)({strict:!1}),Vn=(0,s.createContext)({});function On(t){const{initial:e,animate:n}=function(t,e){if(Ve(t)){const{initial:e,animate:n}=t;return{initial:!1===e||Re(e)?e:void 0,animate:Re(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,s.useContext)(Vn));return(0,s.useMemo)(()=>({initial:e,animate:n}),[In(e),In(n)])}function In(t){return Array.isArray(t)?t.join(" "):t}const Bn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wn(t,e,n){for(const i in e)vt(e[i])||pn(i,n)||(t[i]=e[i])}function Un(t,e){const n={};return Wn(n,t.style||{},t),Object.assign(n,function(t,e){let{transformTemplate:n}=t;return(0,s.useMemo)(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return Qe(t,e,n),Object.assign({},t.vars,t.style)},[e])}(t,e)),n}function $n(t,e){const n={},i=Un(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Hn=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function qn(t,e,n,i){const r=(0,s.useMemo)(()=>{const n=Hn();return sn(n,e,an(i),t.transformTemplate,t.style),u(u({},n.attrs),{},{style:u({},n.style)})},[e]);if(t.style){const e={};Wn(e,t.style,t),r.style=u(u({},e),r.style)}return r}const Kn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xn(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kn.has(t)}let Gn=t=>!Xn(t);try{"function"===typeof(Yn=require("@emotion/is-prop-valid").default)&&(Gn=t=>t.startsWith("on")?!Xn(t):Yn(t))}catch(hx){}var Yn;function Jn(t,e,n,i,r){let{latestValues:a}=i,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;const c=((null!==l&&void 0!==l?l:Rn(t))?qn:$n)(e,a,r,t),h=function(t,e,n){const i={};for(const s in t)"values"===s&&"object"===typeof t.values||(Gn(s)||!0===n&&Xn(s)||!e&&!Xn(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}(e,"string"===typeof t,o),d=t!==s.Fragment?u(u(u({},h),c),{},{ref:n}):{},{children:p}=e,m=(0,s.useMemo)(()=>vt(p)?p.get():p,[p]);return(0,s.createElement)(t,u(u({},d),{},{children:m}))}function Qn(t){return vt(t)?t.get():t}const Zn=["transitionEnd","transition"];function ti(t,e,n,i){const s={},r=i(t,{});for(const d in r)s[d]=Qn(r[d]);let{initial:a,animate:o}=t;const l=Ve(t),c=Oe(t);e&&c&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===o&&(o=e.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!Le(h)){const e=Array.isArray(h)?h:[h];for(let n=0;n<e.length;n++){const i=Be(t,e[n]);if(i){const{transitionEnd:t,transition:e}=i,n=ge(i,Zn);for(const i in n){let t=n[i];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(s[i]=t)}for(const i in t)s[i]=t[i]}}}return s}const ei=t=>(e,n)=>{const i=(0,s.useContext)(Vn),r=(0,s.useContext)(g),a=()=>function(t,e,n,i){let{scrapeMotionValuesFromProps:s,createRenderState:r}=t;return{latestValues:ti(e,n,i,s),renderState:r()}}(t,e,i,r);return n?a():p(a)},ni=ei({scrapeMotionValuesFromProps:mn,createRenderState:Bn}),ii=ei({scrapeMotionValuesFromProps:fn,createRenderState:Hn}),si={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ri=!1;function ai(){return function(){if(ri)return;const t={};for(const e in si)t[e]={isEnabled:t=>si[e].some(e=>!!t[e])};He(t),ri=!0}(),$e}const oi=Symbol.for("motionComponentSymbol");function li(t,e,n){const i=(0,s.useRef)(n);(0,s.useInsertionEffect)(()=>{i.current=n});const r=(0,s.useRef)(null);return(0,s.useCallback)(n=>{var s;n&&(null===(s=t.onMount)||void 0===s||s.call(t,n));e&&(n?e.mount(n):e.unmount());const a=i.current;if("function"===typeof a)if(n){const t=a(n);"function"===typeof t&&(r.current=t)}else r.current?(r.current(),r.current=null):a(n);else a&&(a.current=n)},[e])}const ci="data-"+Xe("framerAppearId"),ui=(0,s.createContext)({});function hi(t){return t&&"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function di(t,e,n,i,r,a){var o,l,c,u;const{visualElement:h}=(0,s.useContext)(Vn),d=(0,s.useContext)(Dn),p=(0,s.useContext)(g),m=(0,s.useContext)(y).reducedMotion,v=(0,s.useRef)(null);i=i||d.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:m,isSVG:a}));const x=v.current,b=(0,s.useContext)(ui);!x||x.projection||!r||"html"!==x.type&&"svg"!==x.type||function(t,e,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pi(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:Boolean(a)||o&&hi(o),visualElement:t,animationType:"string"===typeof r?r:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}(v.current,n,r,b);const w=(0,s.useRef)(!1);(0,s.useInsertionEffect)(()=>{x&&w.current&&x.update(n,p)});const k=n[ci],S=(0,s.useRef)(Boolean(k)&&!(null!==(o=(l=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(l,k))&&(null===(c=(u=window).MotionHasOptimisedAnimation)||void 0===c?void 0:c.call(u,k)));return f(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),S.current&&x.animationState&&x.animationState.animateChanges())}),(0,s.useEffect)(()=>{x&&(!S.current&&x.animationState&&x.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var t,e;null===(t=(e=window).MotionHandoffMarkAsComplete)||void 0===t||t.call(e,k)}),S.current=!1),x.enteringChildren=void 0)}),x}function pi(t){if(t)return!1!==t.options.allowProjection?t.projection:pi(t.parent)}function mi(t){var e,n;let{forwardMotionProps:i=!1,type:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(t){const e=ai();for(const n in t)e[n]=u(u({},e[n]),t[n]);He(e)}(a);const l=r?"svg"===r:Rn(t),c=l?ii:ni;function d(e,n){let r;const a=u(u(u({},(0,s.useContext)(y)),e),{},{layoutId:fi(e)}),{isStatic:d}=a,p=On(e),f=c(e,d);if(!d&&m){!function(){(0,s.useContext)(Dn).strict;0}();const e=function(t){const e=ai(),{drag:n,layout:i}=e;if(!n&&!i)return{};const s=u(u({},n),i);return{MeasureLayout:null!==n&&void 0!==n&&n.isEnabled(t)||null!==i&&void 0!==i&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(a);r=e.MeasureLayout,p.visualElement=di(t,f,a,o,e.ProjectionNode,l)}return(0,h.jsxs)(Vn.Provider,{value:p,children:[r&&p.visualElement?(0,h.jsx)(r,u({visualElement:p.visualElement},a)):null,Jn(t,e,li(f,p.visualElement,n),f,d,i,l)]})}d.displayName="motion.".concat("string"===typeof t?t:"create(".concat(null!==(e=null!==(n=t.displayName)&&void 0!==n?n:t.name)&&void 0!==e?e:"",")"));const p=(0,s.forwardRef)(d);return p[oi]=t,p}function fi(t){let{layoutId:e}=t;const n=(0,s.useContext)(d).id;return n&&void 0!==e?n+"-"+e:e}function gi(t,e){if("undefined"===typeof Proxy)return mi;const n=new Map,i=(n,i)=>mi(n,i,t,e);return new Proxy((t,e)=>i(t,e),{get:(s,r)=>"create"===r?i:(n.has(r)||n.set(r,mi(r,void 0,t,e)),n.get(r))})}class vi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function xi(t,e,n){const i=t.getProps();return Be(i,e,void 0!==n?n:i.custom,t)}function yi(t,e){var n,i;return null!==(n=null!==(i=null===t||void 0===t?void 0:t[e])&&void 0!==i?i:null===t||void 0===t?void 0:t.default)&&void 0!==n?n:t}const bi=t=>Array.isArray(t),wi=["transitionEnd","transition"];function ki(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ze(n))}function Si(t){return bi(t)?t[t.length-1]||0:t}function ji(t,e){const n=t.getValue("willChange");if(i=n,Boolean(vt(i)&&i.add))return n.add(e);if(!n&&Yt.WillChange){const n=new Yt.WillChange("auto");t.addValue("willChange",n),n.add(e)}var i}function Ni(t){return t.props[ci]}const Ci=t=>1e3*t,Ei=t=>t/1e3,zi=(t,e)=>n=>e(t(n)),Ti=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(zi)},Mi={layout:0,mainThread:0,waapi:0};function _i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pi(t,e){return n=>n>0?e:t}const Ai=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Li=[U,W,J];function Ri(t){const e=(t=>Li.find(e=>e.test(t)))(t);if(jt(Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(e))return!1;let n=e.parse(t);return e===J&&(n=function(t){let{hue:e,saturation:n,lightness:i,alpha:s}=t;e/=360,n/=100,i/=100;let r=0,a=0,o=0;if(n){const t=i<.5?i*(1+n):i+n-i*n,s=2*i-t;r=_i(s,t,e+1/3),a=_i(s,t,e),o=_i(s,t,e-1/3)}else r=a=o=i;return{red:Math.round(255*r),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(n)),n}const Fi=(t,e)=>{const n=Ri(t),i=Ri(e);if(!n||!i)return Pi(t,e);const s=u({},n);return t=>(s.red=Ai(n.red,i.red,t),s.green=Ai(n.green,i.green,t),s.blue=Ai(n.blue,i.blue,t),s.alpha=un(n.alpha,i.alpha,t),W.transform(s))},Di=new Set(["none","hidden"]);function Vi(t,e){return n=>un(t,e,n)}function Oi(t){return"number"===typeof t?Vi:"string"===typeof t?Mt(t)?Pi:Q.test(t)?Fi:Wi:Array.isArray(t)?Ii:"object"===typeof t?Q.test(t)?Fi:Bi:Pi}function Ii(t,e){const n=[...t],i=n.length,s=t.map((t,n)=>Oi(t)(t,e[n]));return t=>{for(let e=0;e<i;e++)n[e]=s[e](t);return n}}function Bi(t,e){const n=u(u({},t),e),i={};for(const s in n)void 0!==t[s]&&void 0!==e[s]&&(i[s]=Oi(t[s])(t[s],e[s]));return t=>{for(const e in i)n[e]=i[e](t);return n}}const Wi=(t,e)=>{const n=ot.createTransformer(e),i=it(t),s=it(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Di.has(t)&&!s.values.length||Di.has(e)&&!i.values.length?function(t,e){return Di.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Ti(Ii(function(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){var s;const a=e.types[r],o=t.indexes[a][i[a]],l=null!==(s=t.values[o])&&void 0!==s?s:0;n[r]=l,i[a]++}return n}(i,s),s.values),n):(jt(!0,"Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),Pi(t,e))};function Ui(t,e,n){if("number"===typeof t&&"number"===typeof e&&"number"===typeof n)return un(t,e,n);return Oi(t)(t,e)}const $i=t=>{const e=e=>{let{timestamp:n}=e;return t(n)};return{start:function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return te.update(e,t)},stop:()=>ee(e),now:()=>ne.isProcessing?ne.timestamp:je.now()}},Hi=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=Math.round(1e4*t(r/(s-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")},qi=2e4;function Ki(t){let e=0;let n=t.next(e);for(;!n.done&&e<qi;)e+=50,n=t.next(e);return e>=qi?1/0:e}function Xi(t,e,n){const i=Math.max(e-5,0);return Ne(n-t(i),e-i)}const Gi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yi=.001;function Ji(t){let e,n,{duration:i=Gi.duration,bounce:s=Gi.bounce,velocity:r=Gi.velocity,mass:a=Gi.mass}=t;jt(i<=Ci(Gi.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-s;o=P(Gi.minDamping,Gi.maxDamping,o),i=P(Gi.minDuration,Gi.maxDuration,Ei(i)),o<1?(e=t=>{const e=t*o,n=e*i,s=e-r,a=Zi(t,o),l=Math.exp(-n);return Yi-s/a*l},n=t=>{const n=t*o*i,s=n*r+r,a=Math.pow(o,2)*Math.pow(t,2)*i,l=Math.exp(-n),c=Zi(Math.pow(t,2),o);return(-e(t)+Yi>0?-1:1)*((s-a)*l)/c}):(e=t=>Math.exp(-t*i)*((t-r)*i+1)-.001,n=t=>Math.exp(-t*i)*(i*i*(r-t)));const l=function(t,e,n){let i=n;for(let s=1;s<Qi;s++)i-=t(i)/e(i);return i}(e,n,5/i);if(i=Ci(i),isNaN(l))return{stiffness:Gi.stiffness,damping:Gi.damping,duration:i};{const t=Math.pow(l,2)*a;return{stiffness:t,damping:2*o*Math.sqrt(a*t),duration:i}}}const Qi=12;function Zi(t,e){return t*Math.sqrt(1-e*e)}const ts=["duration","bounce"],es=["stiffness","damping","mass"];function ns(t,e){return e.some(e=>void 0!==t[e])}function is(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi.visualDuration,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.bounce;const n="object"!==typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:m}=function(t){let e=u({velocity:Gi.velocity,stiffness:Gi.stiffness,damping:Gi.damping,mass:Gi.mass,isResolvedFromDuration:!1},t);if(!ns(t,es)&&ns(t,ts))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(1.2*n),s=i*i,r=2*P(.05,1,1-(t.bounce||0))*Math.sqrt(s);e=u(u({},e),{},{mass:Gi.mass,stiffness:s,damping:r})}else{const n=Ji(t);e=u(u(u({},e),n),{},{mass:Gi.mass}),e.isResolvedFromDuration=!0}return e}(u(u({},n),{},{velocity:-Ei(n.velocity||0)})),f=p||0,g=c/(2*Math.sqrt(l*h)),v=a-r,x=Ei(Math.sqrt(l/h)),y=Math.abs(v)<5;let b;if(i||(i=y?Gi.restSpeed.granular:Gi.restSpeed.default),s||(s=y?Gi.restDelta.granular:Gi.restDelta.default),g<1){const t=Zi(x,g);b=e=>{const n=Math.exp(-g*x*e);return a-n*((f+g*x*v)/t*Math.sin(t*e)+v*Math.cos(t*e))}}else if(1===g)b=t=>a-Math.exp(-x*t)*(v+(f+x*v)*t);else{const t=x*Math.sqrt(g*g-1);b=e=>{const n=Math.exp(-g*x*e),i=Math.min(t*e,300);return a-n*((f+g*x*v)*Math.sinh(i)+t*v*Math.cosh(i))/t}}const w={calculatedDuration:m&&d||null,next:t=>{const e=b(t);if(m)o.done=t>=d;else{let n=0===t?f:0;g<1&&(n=0===t?Ci(f):Xi(b,t,e));const r=Math.abs(n)<=i,l=Math.abs(a-e)<=s;o.done=r&&l}return o.value=o.done?a:e,o},toString:()=>{const t=Math.min(Ki(w),qi),e=Hi(e=>w.next(t*e).value,t,30);return t+"ms "+e},toTransition:()=>{}};return w}function ss(t){let{keyframes:e,velocity:n=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=t;const d=e[0],p={done:!1,value:d},m=t=>void 0===l?c:void 0===c||Math.abs(l-t)<Math.abs(c-t)?l:c;let f=i*n;const g=d+f,v=void 0===o?g:o(g);v!==g&&(f=v-d);const x=t=>-f*Math.exp(-t/s),y=t=>v+x(t),b=t=>{const e=x(t),n=y(t);p.done=Math.abs(e)<=u,p.value=p.done?v:n};let w,k;const S=t=>{(t=>void 0!==l&&t<l||void 0!==c&&t>c)(p.value)&&(w=t,k=is({keyframes:[p.value,m(p.value)],velocity:Xi(y,t,p.value),damping:r,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return k||void 0!==w||(e=!0,b(t),S(t)),void 0!==w&&t>=w?k.next(t-w):(!e&&b(t),p)}}}is.applyToOptions=t=>{const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},t),{},{keyframes:[0,e]})),i=Math.min(Ki(n),qi);return{type:"keyframes",ease:t=>n.next(i*t).value/e,duration:Ei(i)}}(t,100,is);return t.ease=e.ease,t.duration=Ci(e.duration),t.type="keyframes",t};const rs=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function as(t,e,n,i){if(t===e&&n===i)return Gt;const s=e=>function(t,e,n,i,s){let r,a,o=0;do{a=e+(n-e)/2,r=rs(a,i,s)-t,r>0?n=a:e=a}while(Math.abs(r)>1e-7&&++o<12);return a}(e,0,1,t,n);return t=>0===t||1===t?t:rs(s(t),e,i)}const os=as(.42,0,1,1),ls=as(0,0,.58,1),cs=as(.42,0,.58,1),us=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hs=t=>e=>1-t(1-e),ds=as(.33,1.53,.69,.99),ps=hs(ds),ms=us(ps),fs=t=>(t*=2)<1?.5*ps(t):.5*(2-Math.pow(2,-10*(t-1))),gs=t=>1-Math.sin(Math.acos(t)),vs=hs(gs),xs=us(gs),ys=t=>Array.isArray(t)&&"number"===typeof t[0],bs={linear:Gt,easeIn:os,easeInOut:cs,easeOut:ls,circIn:gs,circInOut:xs,circOut:vs,backIn:ps,backInOut:ms,backOut:ds,anticipate:fs},ws=t=>{if(ys(t)){Nt(4===t.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,i,s]=t;return as(e,n,i,s)}return"string"===typeof t?(Nt(void 0!==bs[t],"Invalid easing type '".concat(t,"'"),"invalid-easing-type"),bs[t]):t},ks=(t,e,n)=>{const i=e-t;return 0===i?1:(n-t)/i};function Ss(t,e){let{clamp:n=!0,ease:i,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length;if(Nt(r===e.length,"Both input and output ranges must be the same length","range-length"),1===r)return()=>e[0];if(2===r&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=function(t,e,n){const i=[],s=n||Yt.mix||Ui,r=t.length-1;for(let a=0;a<r;a++){let n=s(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||Gt:e;n=Ti(t,n)}i.push(n)}return i}(e,i,s),l=o.length,c=n=>{if(a&&n<t[0])return e[0];let i=0;if(l>1)for(;i<t.length-2&&!(n<t[i+1]);i++);const s=ks(t[i],t[i+1],n);return o[i](s)};return n?e=>c(P(t[0],t[r-1],e)):c}function js(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=ks(0,e,i);t.push(un(n,1,s))}}(e,t.length-1),e}function Ns(t){let{duration:e=300,keyframes:n,times:i,ease:s="easeInOut"}=t;const r=(t=>Array.isArray(t)&&"number"!==typeof t[0])(s)?s.map(ws):ws(s),a={done:!1,value:n[0]},o=function(t,e){return t.map(t=>t*e)}(i&&i.length===n.length?i:js(n),e),l=Ss(o,n,{ease:Array.isArray(r)?r:(c=n,u=r,c.map(()=>u||cs).splice(0,c.length-1))});var c,u;return{calculatedDuration:e,next:t=>(a.value=l(t),a.done=t>=e,a)}}const Cs=t=>null!==t;function Es(t,e,n){let{repeat:i,repeatType:s="loop"}=e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=t.filter(Cs),o=r<0||i&&"loop"!==s&&i%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}const zs={decay:ss,inertia:ss,tween:Ns,keyframes:Ns,spring:is};function Ts(t){"string"===typeof t.type&&(t.type=zs[t.type])}class Ms{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const _s=t=>t/100;class Ps extends Ms{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var t,e;const{motionValue:n}=this.options;n&&n.updatedAt!==je.now()&&this.tick(je.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(t=(e=this.options).onStop)||void 0===t||t.call(e))},Mi.mainThread++,this.options=t,this.initAnimation(),this.play(),!1===t.autoplay&&this.pause()}initAnimation(){const{options:t}=this;Ts(t);const{type:e=Ns,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:r=0}=t;let{keyframes:a}=t;const o=e||Ns;o!==Ns&&"number"!==typeof a[0]&&(this.mixKeyframes=Ti(_s,Ui(a[0],a[1])),a=[0,100]);const l=o(u(u({},t),{},{keyframes:a}));"mirror"===s&&(this.mirroredGenerator=o(u(u({},t),{},{keyframes:[...a].reverse(),velocity:-r}))),null===l.calculatedDuration&&(l.calculatedDuration=Ki(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=e}tick(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let x=this.currentTime,y=n;if(u){const t=Math.min(this.currentTime,i)/a;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,u+1);Boolean(e%2)&&("reverse"===h?(n=1-n,d&&(n-=d/a)):"mirror"===h&&(y=r)),x=P(0,1,n)*a}const b=v?{done:!1,value:c[0]}:y.next(x);s&&(b.value=s(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==ss&&(b.value=Es(c,this.options,f,this.speed)),m&&m(b.value),k&&this.finish(),b}then(t,e){return this.finished.then(t,e)}get duration(){return Ei(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(this.currentTime)}set time(t){var e;t=Ci(t),this.currentTime=t,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),null===(e=this.driver)||void 0===e||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(je.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ei(this.currentTime))}play(){var t,e;if(this.isStopped)return;const{driver:n=$i,startTime:i}=this.options;this.driver||(this.driver=n(t=>this.tick(t))),null===(t=(e=this.options).onPlay)||void 0===t||t.call(e);const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=null!==i&&void 0!==i?i:s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(je.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",null===(t=(e=this.options).onComplete)||void 0===t||t.call(e)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(t=(e=this.options).onCancel)||void 0===t||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Mi.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(e=this.driver)||void 0===e||e.stop(),t.observe(this)}}function As(t){let e;return()=>(void 0===e&&(e=t()),e)}const Ls=As(()=>void 0!==window.ScrollTimeline),Rs={};function Fs(t,e){const n=As(t);return()=>{var t;return null!==(t=Rs[e])&&void 0!==t?t:n()}}const Ds=Fs(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(fh){return!1}return!0},"linearEasing"),Vs=t=>{let[e,n,i,s]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(i,", ").concat(s,")")},Os={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vs([0,.65,.55,1]),circOut:Vs([.55,0,1,.45]),backIn:Vs([.31,.01,.66,-.59]),backOut:Vs([.33,1.53,.69,.99])};function Is(t,e){return t?"function"===typeof t?Ds()?Hi(t,e):"ease-out":ys(t)?Vs(t):Array.isArray(t)?t.map(t=>Is(t,e)||Os.easeOut):Os[t]:void 0}function Bs(t,e,n){let{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[e]:n};l&&(u.offset=l);const h=Is(o,s);Array.isArray(h)&&(u.easing=h),Qt.value&&Mi.waapi++;const d={delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:"reverse"===a?"alternate":"normal"};c&&(d.pseudoElement=c);const p=t.animate(u,d);return Qt.value&&p.finished.finally(()=>{Mi.waapi--}),p}function Ws(t){return"function"===typeof t&&"applyToOptions"in t}const Us=["type"];class $s extends Ms{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:n,keyframes:i,pseudoElement:s,allowFlatten:r=!1,finalKeyframe:a,onComplete:o}=t;this.isPseudoElement=Boolean(s),this.allowFlatten=r,this.options=t,Nt("string"!==typeof t.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function(t){let{type:e}=t,n=ge(t,Us);return Ws(e)&&Ds()?e.applyToOptions(n):(null!==(i=n.duration)&&void 0!==i||(n.duration=300),null!==(s=n.ease)&&void 0!==s||(n.ease="easeOut"),n);var i,s}(t);this.animation=Bs(e,n,i,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const t=Es(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(t):function(t,e,n){(t=>t.startsWith("--"))(e)?t.style.setProperty(e,n):t.style[e]=n}(e,n,t),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;null===(t=(e=this.animation).finish)||void 0===t||t.call(e)}cancel(){try{this.animation.cancel()}catch(fh){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;"idle"!==t&&"finished"!==t&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(null===(t=(e=this.animation).commitStyles)||void 0===t||t.call(e))}get duration(){var t,e;const n=(null===(t=this.animation.effect)||void 0===t||null===(e=t.getComputedTiming)||void 0===e?void 0:e.call(t).duration)||0;return Ei(Number(n))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ei(t)}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){var t;return null!==(t=this.manualStartTime)&&void 0!==t?t:Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline(t){let{timeline:e,observe:n}=t;var i;this.allowFlatten&&(null===(i=this.animation.effect)||void 0===i||i.updateTiming({easing:"linear"}));return this.animation.onfinish=null,e&&Ls()?(this.animation.timeline=e,Gt):n(this)}}const Hs={anticipate:fs,backInOut:ms,circInOut:xs};function qs(t){"string"===typeof t.ease&&t.ease in Hs&&(t.ease=Hs[t.ease])}const Ks=["motionValue","onUpdate","onComplete","element"];class Xs extends $s{constructor(t){qs(t),Ts(t),super(t),void 0!==t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const e=this.options,{motionValue:n,onUpdate:i,onComplete:s,element:r}=e,a=ge(e,Ks);if(!n)return;if(void 0!==t)return void n.set(t);const o=new Ps(u(u({},a),{},{autoplay:!1})),l=Math.max(10,je.now()-this.startTime),c=P(0,10,l-10);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const Gs=(t,e)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ot.test(t)&&"0"!==t||t.startsWith("url(")));function Ys(t){t.duration=0,t.type="keyframes"}const Js=new Set(["opacity","clipPath","filter","transform"]),Qs=As(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Zs=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class tr extends Ms{constructor(t){var e;let{autoplay:n=!0,delay:i=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:h,element:d}=t,p=ge(t,Zs);super(),this.stop=()=>{var t,e;this._animation&&(this._animation.stop(),null===(e=this.stopTimeline)||void 0===e||e.call(this));null===(t=this.keyframeResolver)||void 0===t||t.cancel()},this.createdAt=je.now();const m=u({autoplay:n,delay:i,type:s,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:h,element:d},p),f=(null===d||void 0===d?void 0:d.KeyframeResolver)||ue;this.keyframeResolver=new f(l,(t,e,n)=>this.onKeyframesResolved(t,e,m,!n),c,h,d),null===(e=this.keyframeResolver)||void 0===e||e.scheduleResolve()}onKeyframesResolved(t,e,n,i){var s;this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:h}=n;this.resolvedAt=je.now(),function(t,e,n,i){const s=t[0];if(null===s)return!1;if("display"===e||"visibility"===e)return!0;const r=t[t.length-1],a=Gs(s,e),o=Gs(r,e);return jt(a===o,"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(r,'". "').concat(a?r:s,'" is not an animatable value.'),"value-not-animatable"),!(!a||!o)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||Ws(n))&&i)}(t,r,a,o)||(!Yt.instantAnimations&&l||null===h||void 0===h||h(Es(t,n,e)),t[0]=t[t.length-1],Ys(n),n.repeat=0);const d=u(u({startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:e},n),{},{keyframes:t}),p=!c&&function(t){var e;const{motionValue:n,name:i,repeatDelay:s,repeatType:r,damping:a,type:o}=t;if(!((null===n||void 0===n||null===(e=n.owner)||void 0===e?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Qs()&&i&&Js.has(i)&&("transform"!==i||!c)&&!l&&!s&&"mirror"!==r&&0!==a&&"inertia"!==o}(d),m=null===(s=d.motionValue)||void 0===s||null===(s=s.owner)||void 0===s?void 0:s.current,f=p?new Xs(u(u({},d),{},{element:m})):new Ps(d);f.finished.then(()=>{this.notifyFinished()}).catch(Gt),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;this._animation||(null===(t=this.keyframeResolver)||void 0===t||t.resume(),oe=!0,ce(),le(),oe=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),null===(t=this.keyframeResolver)||void 0===t||t.cancel()}}const er={type:"spring",stiffness:500,damping:25,restSpeed:10},nr={type:"keyframes",duration:.8},ir={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sr=(t,e)=>{let{keyframes:n}=e;return n.length>2?nr:_.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:er:ir},rr=t=>null!==t;const ar=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const or=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;return a=>{const o=yi(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c-=Ci(l);const h=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},o),{},{delay:-c,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:r?void 0:s});(function(t){let{when:e,delay:n,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=t,h=ge(t,ar);return!!Object.keys(h).length})(o)||Object.assign(h,sr(t,h)),h.duration&&(h.duration=Ci(h.duration)),h.repeatDelay&&(h.repeatDelay=Ci(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let d=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(Ys(h),0===h.delay&&(d=!0)),(Yt.instantAnimations||Yt.skipAnimations)&&(d=!0,Ys(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!r&&void 0!==e.get()){const t=function(t,e,n){let{repeat:i,repeatType:s="loop"}=e;const r=t.filter(rr),a=i&&"loop"!==s&&i%2===1?0:r.length-1;return a&&void 0!==n?n:r[a]}(h.keyframes,o);if(void 0!==t)return void te.update(()=>{h.onUpdate(t),h.onComplete()})}return o.isSync?new Ps(h):new tr(h)}},lr=["transition","transitionEnd"];function cr(t,e){let{protectedKeys:n,needsAnimating:i}=t;const s=n.hasOwnProperty(e)&&!0!==i[e];return i[e]=!1,s}function ur(t,e){let{delay:n=0,transitionOverride:i,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:r=t.getDefaultTransition(),transitionEnd:a}=e,o=ge(e,lr);i&&(r=i);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){var h;const e=t.getValue(d,null!==(h=t.latestValues[d])&&void 0!==h?h:null),i=o[d];if(void 0===i||c&&cr(c,d))continue;const s=u({delay:n},yi(r||{},d)),a=e.get();if(void 0!==a&&!e.isAnimating&&!Array.isArray(i)&&i===a&&!s.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const e=Ni(t);if(e){const t=window.MotionHandoffAnimation(e,d,te);null!==t&&(s.startTime=t,p=!0)}}ji(t,d),e.start(or(d,e,i,t.shouldReduceMotion&&xt.has(d)?{type:!1}:s,t,p));const m=e.animation;m&&l.push(m)}return a&&Promise.all(l).then(()=>{te.update(()=>{a&&function(t,e){let n=xi(t,e)||{},{transitionEnd:i={},transition:s={}}=n,r=ge(n,wi);r=u(u({},r),i);for(const a in r)ki(t,a,Si(r[a]))}(t,a)})}),l}function hr(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const r=Array.from(t).sort((t,e)=>t.sortNodePosition(e)).indexOf(e),a=t.size,o=(a-1)*i;return"function"===typeof n?n(r,a):1===s?r*i:o-r*i}function dr(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=xi(t,e,"exit"===i.type?null===(n=t.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);const a=s?()=>Promise.all(ur(t,s,i)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=r;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(dr(l,e,u(u({},a),{},{delay:n+("function"===typeof i?0:i)+hr(t.variantChildren,l,i,s,r)})).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}(t,e,n,s,a,o,i)}:()=>Promise.resolve(),{when:l}=r;if(l){const[t,e]="beforeChildren"===l?[a,o]:[o,a];return t().then(()=>e())}return Promise.all([a(),o(i.delay)])}const pr=De.length;function mr(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&mr(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<pr;n++){const i=De[n],s=t.props[i];(Re(s)||!1===s)&&(e[i]=s)}return e}function fr(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const gr=["transition","transitionEnd"],vr=[...Fe].reverse(),xr=Fe.length;function yr(t){return e=>Promise.all(e.map(e=>{let{animation:n,options:i}=e;return function(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const s=e.map(e=>dr(t,e,i));n=Promise.all(s)}else if("string"===typeof e)n=dr(t,e,i);else{const s="function"===typeof e?xi(t,e,i.custom):e;n=Promise.all(ur(t,s,i))}return n.then(()=>{t.notify("AnimationComplete",e)})}(t,n,i)}))}function br(t){let e=yr(t),n=Sr(),i=!0;const s=e=>(n,i)=>{var s;const r=xi(t,i,"exit"===e?null===(s=t.presenceContext)||void 0===s?void 0:s.custom:void 0);if(r){const{transition:t,transitionEnd:e}=r,i=ge(r,gr);n=u(u(u({},n),i),e)}return n};function r(r){const{props:a}=t,o=mr(t.parent)||{},l=[],c=new Set;let h={},d=1/0;for(let e=0;e<xr;e++){const p=vr[e],m=n[p],f=void 0!==a[p]?a[p]:o[p],g=Re(f),v=p===r?m.isActive:null;!1===v&&(d=e);let x=f===o[p]&&f!==a[p]&&g;if(x&&i&&t.manuallyAnimateOnMount&&(x=!1),m.protectedKeys=u({},h),!m.isActive&&null===v||!f&&!m.prevProp||Le(f)||"boolean"===typeof f)continue;const y=wr(m.prevProp,f);let b=y||p===r&&m.isActive&&!x&&g||e>d&&g,w=!1;const k=Array.isArray(f)?f:[f];let S=k.reduce(s(p),{});!1===v&&(S={});const{prevResolvedValues:j={}}=m,N=u(u({},j),S),C=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),m.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in N){const e=S[t],n=j[t];if(h.hasOwnProperty(t))continue;let i=!1;i=bi(e)&&bi(n)?!fr(e,n):e!==n,i?void 0!==e&&null!==e?C(t):c.add(t):void 0!==e&&c.has(t)?C(t):m.protectedKeys[t]=!0}m.prevProp=f,m.prevResolvedValues=S,m.isActive&&(h=u(u({},h),S)),i&&t.blockInitialAnimation&&(b=!1);const E=x&&y;b&&(!E||w)&&l.push(...k.map(e=>{const n={type:p};if("string"===typeof e&&i&&!E&&t.manuallyAnimateOnMount&&t.parent){const{parent:i}=t,s=xi(i,e);if(i.enteringChildren&&s){const{delayChildren:e}=s.transition||{};n.delay=hr(i.enteringChildren,t,e)}}return{animation:e,options:n}}))}if(c.size){const e={};if("boolean"!==typeof a.initial){const n=xi(t,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(e.transition=n.transition)}c.forEach(n=>{const i=t.getBaseTarget(n),s=t.getValue(n);s&&(s.liveStyle=!0),e[n]=null!==i&&void 0!==i?i:null}),l.push({animation:e})}let p=Boolean(l.length);return!i||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(p=!1),i=!1,p?e(l):Promise.resolve()}return{animateChanges:r,setActive:function(e,i){var s;if(n[e].isActive===i)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach(t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,i)}),n[e].isActive=i;const a=r(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=Sr()}}}function wr(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!fr(e,t)}function kr(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sr(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}let jr=0;const Nr={animation:{Feature:class extends vi{constructor(t){super(t),t.animationState||(t.animationState=br(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Le(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends vi{constructor(){super(...arguments),this.id=jr++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);e&&!t&&i.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}},Cr={x:!1,y:!1};function Er(){return Cr.x||Cr.y}function zr(t){return[t("x"),t("y")]}function Tr(t){return t.max-t.min}function Mr(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=i,t.originPoint=un(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=un(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function _r(t,e,n,i){Mr(t.x,e.x,n.x,i?i.originX:void 0),Mr(t.y,e.y,n.y,i?i.originY:void 0)}function Pr(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function Ar(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function Lr(t,e,n){Ar(t.x,e.x,n.x),Ar(t.y,e.y,n.y)}const Rr=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fr(t){return Rr.has(t.tagName)||!0===t.isContentEditable}function Dr(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const Vr=t=>"mouse"===t.pointerType?"number"!==typeof t.button||t.button<=0:!1!==t.isPrimary;function Or(t){return{point:{x:t.pageX,y:t.pageY}}}function Ir(t,e,n,i){return Dr(t,e,(t=>e=>Vr(e)&&t(e,Or(e)))(n),i)}const Br=t=>{let{current:e}=t;return e?e.ownerDocument.defaultView:null},Wr=(t,e)=>Math.abs(t-e);const Ur=new Set(["auto","scroll"]);class $r{constructor(t,e){let{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:r=3,element:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=t=>{this.handleScroll(t.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Kr(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Wr(t.x,e.x),i=Wr(t.y,e.y);return Math.sqrt(n**2+i**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!e&&!n)return;const{point:i}=t,{timestamp:s}=ne;this.history.push(u(u({},i),{},{timestamp:s}));const{onStart:r,onMove:a}=this.handlers;e||(r&&r(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Hr(e,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:s}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const r=Kr("pointercancel"===t.type?this.lastMoveEventInfo:Hr(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,r),i&&i(t,r)},!Vr(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=r,this.contextWindow=i||window;const o=Hr(Or(t),this.transformPagePoint),{point:l}=o,{timestamp:c}=ne;this.history=[u(u({},l),{},{timestamp:c})];const{onSessionStart:h}=e;h&&h(t,Kr(o,this.history)),this.removeListeners=Ti(Ir(this.contextWindow,"pointermove",this.handlePointerMove),Ir(this.contextWindow,"pointerup",this.handlePointerUp),Ir(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let e=t.parentElement;for(;e;){const t=getComputedStyle(e);(Ur.has(t.overflowX)||Ur.has(t.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s=i.x-e.x,r=i.y-e.y;0===s&&0===r||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s,this.lastMoveEventInfo.point.y+=r):this.history.length>0&&(this.history[0].x-=s,this.history[0].y-=r),this.scrollPositions.set(t,i),te.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ee(this.updatePoint)}}function Hr(t,e){return e?{point:e(t.point)}:t}function qr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kr(t,e){let{point:n}=t;return{point:n,delta:qr(n,Gr(e)),offset:qr(n,Xr(e)),velocity:Yr(e,.1)}}function Xr(t){return t[0]}function Gr(t){return t[t.length-1]}function Yr(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=Gr(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Ci(e)));)n--;if(!i)return{x:0,y:0};const r=Ei(s.timestamp-i.timestamp);if(0===r)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Jr(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function Qr(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}const Zr=.35;function ta(t,e,n){return{min:ea(t,e),max:ea(t,n)}}function ea(t,e){return"number"===typeof t?t:t[e]||0}const na=new WeakMap;class ia{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t){let{snapToCursor:e=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new $r(t,{onSessionStart:t=>{e?(this.stopAnimation(),this.snapToCursor(Or(t).point)):this.pauseAnimation()},onStart:(t,e)=>{this.stopAnimation();const{drag:n,dragPropagation:i,onDragStart:s}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(r=n)||"y"===r?Cr[r]?null:(Cr[r]=!0,()=>{Cr[r]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1}),!this.openDragLock))return;var r;this.latestPointerEvent=t,this.latestPanInfo=e,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zr(t=>{let e=this.getAxisMotionValue(t).get()||0;if(q.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[t];if(i){e=Tr(i)*(parseFloat(e)/100)}}}this.originPoint[t]=e}),s&&te.postRender(()=>s(t,e)),ji(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e;const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:s,onDrag:r}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=e;if(i&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),r&&r(t,e)},onSessionEnd:(t,e)=>{this.latestPointerEvent=t,this.latestPanInfo=e,this.stop(t,e),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>zr(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:Br(this.visualElement),element:this.visualElement.current})}stop(t,e){const n=t||this.latestPointerEvent,i=e||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&te.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,n){const{drag:i}=this.getProps();if(!n||!sa(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=function(t,e,n){let{min:i,max:s}=e;return void 0!==i&&t<i?t=n?un(i,t,n.min):Math.max(t,i):void 0!==s&&t>s&&(t=n?un(s,t,n.max):Math.min(t,s)),t}(r,this.constraints[t],this.elastic[t])),s.set(r)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,s=this.constraints;e&&hi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!i)&&function(t,e){let{top:n,left:i,bottom:s,right:r}=e;return{x:Jr(t.x,i,r),y:Jr(t.y,n,s)}}(i.layoutBox,e),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr;return!1===t?t=0:!0===t&&(t=Zr),{x:ta(t,"left","right"),y:ta(t,"top","bottom")}}(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zr(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!hi(t))return!1;const n=t.current;Nt(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=function(t,e,n){const i=Pn(t,n),{scroll:s}=e;return s&&(Tn(i.x,s.offset.x),Tn(i.y,s.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let r=function(t,e){return{x:Qr(t.x,e.x),y:Qr(t.y,e.y)}}(i.layout.layoutBox,s);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(r));this.hasMutatedConstraints=!!t,t&&(r=vn(t))}return r}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=zr(a=>{if(!sa(a,e,this.currentDirection))return;let l=o&&o[a]||{};r&&(l={min:0,max:0});const c=i?200:1e6,h=i?40:1e7,d=u(u({type:"inertia",velocity:n?t[a]:0,bounceStiffness:c,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return ji(this.visualElement,t),n.start(or(t,n,0,e,this.visualElement,!1))}stopAnimation(){zr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zr(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e="_drag".concat(t.toUpperCase()),n=this.visualElement.getProps(),i=n[e];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){zr(e=>{const{drag:n}=this.getProps();if(!sa(e,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(e);if(i&&i.layout){const{min:n,max:r}=i.layout.layoutBox[e],a=s.get()||0;s.set(t[e]-un(n,r,.5)+a)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!hi(e)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zr(t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();i[t]=function(t,e){let n=.5;const i=Tr(t),s=Tr(e);return s>i?n=ks(e.min,e.max-i,t.min):i>s&&(n=ks(t.min,t.max-s,e.min)),P(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),zr(e=>{if(!sa(e,t,null))return;const n=this.getAxisMotionValue(e),{min:s,max:r}=this.constraints[e];n.set(un(s,r,i[e]))})}addListeners(){if(!this.visualElement.current)return;na.set(this.visualElement,this);const t=this.visualElement.current,e=Ir(t,"pointerdown",e=>{const{drag:n,dragListener:i=!0}=this.getProps(),s=e.target,r=s!==t&&Fr(s);n&&i&&!r&&this.start(e)}),n=()=>{const{dragConstraints:t}=this.getProps();hi(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),te.read(n);const r=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(zr(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:r=Zr,dragMomentum:a=!0}=t;return u(u({},t),{},{drag:e,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:r,dragMomentum:a})}}function sa(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const ra=t=>(e,n)=>{t&&te.postRender(()=>t(e,n))};const aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let oa=!1;class la extends s.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;s&&(e.group&&e.group.add(s),n&&n.register&&i&&n.register(s),oa&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(u(u({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:i,isPresent:s}=this.props,{projection:r}=n;return r?(r.isPresent=s,oa=!0,i||t.layoutDependency!==e||void 0===e||t.isPresent!==s?r.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?r.promote():r.relegate()||te.postRender(()=>{const t=r.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),be.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:i}=t;oa=!0,i&&(i.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ca(t){const[e,n]=C(),i=(0,s.useContext)(d);return(0,h.jsx)(la,u(u({},t),{},{layoutGroup:i,switchLayoutGroup:(0,s.useContext)(ui),isPresent:e,safeToRemove:n}))}function ua(t,e,n,i,s){return t=Sn(t-=e,1/n,i),void 0!==s&&(t=Sn(t,1/s,i)),t}function ha(t,e,n,i,s){let[r,a,o]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;q.test(e)&&(e=parseFloat(e),e=un(a.min,a.max,e/100)-a.min);if("number"!==typeof e)return;let o=un(r.min,r.max,i);t===r&&(o-=e),t.min=ua(t.min,e,n,o,s),t.max=ua(t.max,e,n,o,s)}(t,e[r],e[a],e[o],e.scale,i,s)}const da=["x","scaleX","originX"],pa=["y","scaleY","originY"];function ma(t,e,n,i){ha(t.x,e,da,n?n.x:void 0,i?i.x:void 0),ha(t.y,e,pa,n?n.y:void 0,i?i.y:void 0)}function fa(t,e){t.min=e.min,t.max=e.max}function ga(t,e){fa(t.x,e.x),fa(t.y,e.y)}function va(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xa(t){return 0===t.translate&&1===t.scale}function ya(t){return xa(t.x)&&xa(t.y)}function ba(t,e){return t.min===e.min&&t.max===e.max}function wa(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ka(t,e){return wa(t.x,e.x)&&wa(t.y,e.y)}function Sa(t){return Tr(t.x)/Tr(t.y)}function ja(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}const Na=["TopLeft","TopRight","BottomLeft","BottomRight"],Ca=Na.length,Ea=t=>"string"===typeof t?parseFloat(t):t,za=t=>"number"===typeof t||K.test(t);function Ta(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const Ma=Pa(0,.5,vs),_a=Pa(.5,.95,Gt);function Pa(t,e,n){return i=>i<t?0:i>e?1:n(ks(t,e,i))}function Aa(t){return v(t)&&"ownerSVGElement"in t}const La=(t,e)=>t.depth-e.depth;class Ra{constructor(){this.children=[],this.isDirty=!1}add(t){ve(this.children,t),this.isDirty=!0}remove(t){xe(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(La),this.isDirty=!1,this.children.forEach(t)}}function Fa(t,e){const n=je.now(),i=s=>{let{timestamp:r}=s;const a=r-n;a>=e&&(ee(i),t(a-e))};return te.setup(i,!0),()=>ee(i)}class Da{constructor(){this.members=[]}add(t){ve(this.members,t),t.scheduleRender()}remove(t){if(xe(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let n;for(let i=e;i>=0;i--){const t=this.members[i];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Va={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Oa=["","X","Y","Z"];let Ia=0;function Ba(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Wa(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ni(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",te,!(e||i))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Wa(i)}function Ua(t){let{attachResizeListener:e,defaultParent:n,measureScroll:i,checkIsScrollRoot:s,resetTransform:r}=t;return class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ia++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qt.value&&(Va.nodes=Va.calculatedTargetDeltas=Va.calculatedProjections=0),this.nodes.forEach(qa),this.nodes.forEach(Za),this.nodes.forEach(to),this.nodes.forEach(Ka),Qt.addProjectionMetrics&&Qt.addProjectionMetrics(Va)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=e?e.root||e:this,this.path=e?[...e.path,e]:[],this.parent=e,this.depth=e?e.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ra)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new ye),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];e&&e.notify(...i)}hasListeners(t){return this.eventHandlers.has(t)}mount(t){if(this.instance)return;var n;this.isSVG=Aa(t)&&!(Aa(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:i,layout:s,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||i)&&(this.isLayoutDirty=!0),e){let n,i=0;const s=()=>this.root.updateBlockedByResize=!1;te.read(()=>{i=window.innerWidth}),e(t,()=>{const t=window.innerWidth;t!==i&&(i=t,this.root.updateBlockedByResize=!0,n&&n(),n=Fa(s,250),aa.hasAnimatedSinceResize&&(aa.hasAnimatedSinceResize=!1,this.nodes.forEach(Qa)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||s)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:s}=t;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||r.getDefaultTransition()||ao,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=r.getProps(),c=!this.targetLayout||!ka(this.targetLayout,s),h=!n&&i;if(this.options.layoutRoot||this.resumeFrom||h||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t=u(u({},yi(a,"layout")),{},{onPlay:o,onComplete:l});(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,h)}else n||Qa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ee(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eo),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wa(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const t=this.path[s];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ga);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Ya);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ja),this.nodes.forEach($a),this.nodes.forEach(Ha)):this.nodes.forEach(Ya),this.clearAllSnapshots();const t=je.now();ne.delta=P(0,1e3/60,t-ne.timestamp),ne.timestamp=t,ne.isProcessing=!0,ie.update.process(ne),ie.preRender.process(ne),ie.render.process(ne),ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,be.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xa),this.sharedNodes.forEach(no)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Tr(this.snapshot.measuredBox.x)||Tr(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&this.instance){const e=s(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!r)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!ya(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;t&&this.instance&&(e||bn(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var i;return t&&(n=this.removeTransform(n)),co((i=n).x),co(i.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(ho))){const{scroll:t}=this.root;t&&(Tn(n.x,t.offset.x),Tn(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};if(ga(n,t),null!==(e=this.scroll)&&void 0!==e&&e.wasRoot)return n;for(let i=0;i<this.path.length;i++){const e=this.path[i],{scroll:s,options:r}=e;e!==this.root&&s&&r.layoutScroll&&(s.wasRoot&&ga(n,t),Tn(n.x,s.offset.x),Tn(n.y,s.offset.y))}return n}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};ga(n,t);for(let i=0;i<this.path.length;i++){const t=this.path[i];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&_n(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),bn(t.latestValues)&&_n(n,t.latestValues)}return bn(this.latestValues)&&_n(n,this.latestValues),n}removeTransform(t){const e={x:{min:0,max:0},y:{min:0,max:0}};ga(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!bn(t.latestValues))continue;yn(t.latestValues)&&t.updateSnapshot();const i=gt();ga(i,t.measurePageBox()),ma(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,i)}return bn(this.latestValues)&&ma(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options=u(u(u({},this.options),t),{},{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(t=this.parent)&&void 0!==t&&t.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:r}=this.options;if(!this.layout||!s&&!r)return;this.resolvedRelativeTargetAt=ne.timestamp;const a=this.getClosestProjectingParent();var o,l,c;(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,l=this.relativeTarget,c=this.relativeParent.target,Pr(o.x,l.x,c.x),Pr(o.y,l.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ga(this.target,this.layout.layoutBox),Cn(this.target,this.targetDelta)):ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0),Qt.value&&Va.calculatedTargetDeltas++)}getClosestProjectingParent(){if(this.parent&&!yn(this.parent.latestValues)&&!wn(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(t,e,n){this.relativeParent=t,this.linkedParentVersion=t.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Lr(this.relativeTargetOrigin,e,n),ga(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let i=!0;if((this.isProjectionDirty||null!==(t=this.parent)&&void 0!==t&&t.isProjectionDirty)&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ne.timestamp&&(i=!1),i)return;const{layout:s,layoutId:r}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!r)return;ga(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let r,a;e.x=e.y=1;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:s}=r.options;s&&s.props.style&&"contents"===s.props.style.display||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&_n(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Cn(t,a)),i&&bn(r.latestValues)&&_n(t,r.latestValues))}e.x<zn&&e.x>En&&(e.x=1),e.y<zn&&e.y>En&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=e;l?(this.projectionDelta&&this.prevProjectionDelta?(va(this.prevProjectionDelta.x,this.projectionDelta.x),va(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),_r(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&ja(this.projectionDelta.x,this.prevProjectionDelta.x)&&ja(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Qt.value&&Va.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var t;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},s=u({},this.latestValues),r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,h=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(ro));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;io(r.x,t.x,n),io(r.y,t.y,n),this.setTargetDelta(r),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lr(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,i){so(t.x,e.x,n.x,i),so(t.y,e.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(t,e){return ba(t.x,e.x)&&ba(t.y,e.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ga(d,this.relativeTarget)),o&&(this.animationValues=s,function(t,e,n,i,s,r){var a,o;if(s)t.opacity=un(0,null!==(a=n.opacity)&&void 0!==a?a:1,Ma(i)),t.opacityExit=un(null!==(o=e.opacity)&&void 0!==o?o:1,0,_a(i));else if(r){var l,c;t.opacity=un(null!==(l=e.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,i)}for(let u=0;u<Ca;u++){const s="border".concat(Na[u],"Radius");let r=Ta(e,s),a=Ta(n,s);void 0===r&&void 0===a||(r||(r=0),a||(a=0),0===r||0===a||za(r)===za(a)?(t[s]=Math.max(un(Ea(r),Ea(a),i),0),(q.test(a)||q.test(r))&&(t[s]+="%")):t[s]=a)}(e.rotate||n.rotate)&&(t.rotate=un(e.rotate||0,n.rotate||0,i))}(s,i,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){var e,n;this.notifyListeners("animationStart"),null===(e=this.currentAnimation)||void 0===e||e.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(ee(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{aa.hasAnimatedSinceResize=!0,Mi.layout++,this.motionValue||(this.motionValue=ze(0)),this.currentAnimation=function(t,e,n){const i=vt(t)?t:ze(t);return i.start(or("",i,e,n)),i.animation}(this.motionValue,[0,1e3],u(u({},t),{},{velocity:0,isSync:!0,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onStop:()=>{Mi.layout--},onComplete:()=>{Mi.layout--,t.onComplete&&t.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:i,latestValues:s}=t;if(e&&n&&i){if(this!==t&&this.layout&&i&&uo(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=Tr(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const i=Tr(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+i}ga(e,n),_n(e,s),_r(this.projectionDeltaWithTransform,this.layoutCorrected,e,s)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Da);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const i={};n.z&&Ba("z",t,i,this.animationValues);for(let s=0;s<Oa.length;s++)Ba("rotate".concat(Oa[s]),t,i,this.animationValues),Ba("skew".concat(Oa[s]),t,i,this.animationValues);t.render();for(const s in i)t.setStaticValue(s,i[s]),this.animationValues&&(this.animationValues[s]=i[s]);t.scheduleRender()}applyProjectionStyles(t,e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(t.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=Qn(null===e||void 0===e?void 0:e.pointerEvents)||"",void(t.transform=n?n(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Qn(null===e||void 0===e?void 0:e.pointerEvents)||""),void(this.hasProjected&&!bn(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1));t.visibility="";const s=i.animationValues||i.latestValues;this.applyTransformsToTarget();let r=function(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,a=(null===n||void 0===n?void 0:n.z)||0;if((s||r||a)&&(i="translate3d(".concat(s,"px, ").concat(r,"px, ").concat(a,"px) ")),1===e.x&&1===e.y||(i+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{transformPerspective:t,rotate:e,rotateX:s,rotateY:r,skewX:a,skewY:o}=n;t&&(i="perspective(".concat(t,"px) ").concat(i)),e&&(i+="rotate(".concat(e,"deg) ")),s&&(i+="rotateX(".concat(s,"deg) ")),r&&(i+="rotateY(".concat(r,"deg) ")),a&&(i+="skewX(".concat(a,"deg) ")),o&&(i+="skewY(".concat(o,"deg) "))}const o=t.x.scale*e.x,l=t.y.scale*e.y;return 1===o&&1===l||(i+="scale(".concat(o,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(r=n(s,r)),t.transform=r;const{x:a,y:o}=this.projectionDelta;var l,c;(t.transformOrigin="".concat(100*a.origin,"% ").concat(100*o.origin,"% 0"),i.animationValues)?t.opacity=i===this?null!==(l=null!==(c=s.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:t.opacity=i===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const u in dn){if(void 0===s[u])continue;const{correct:e,applyTo:n,isCSSVariable:a}=dn[u],o="none"===r?s[u]:e(s[u],i);if(n){const e=n.length;for(let i=0;i<e;i++)t[n[i]]=o}else a?this.options.visualElement.renderState.vars[u]=o:t[u]=o}this.options.layoutId&&(t.pointerEvents=i===this?Qn(null===e||void 0===e?void 0:e.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(Ga),this.root.sharedNodes.clear()}}}function $a(t){t.updateLayout()}function Ha(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=t.layout,{animationType:s}=t.options,r=n.source!==t.layout.source;"size"===s?zr(t=>{const i=r?n.measuredBox[t]:n.layoutBox[t],s=Tr(i);i.min=e[t].min,i.max=i.min+s}):uo(s,n.layoutBox,e)&&zr(i=>{const s=r?n.measuredBox[i]:n.layoutBox[i],a=Tr(e[i]);s.max=s.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[i].max=t.relativeTarget[i].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};_r(a,e,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};r?_r(o,t.applyTransform(i,!0),n.measuredBox):_r(o,e,n.layoutBox);const l=!ya(a);let c=!1;if(!t.resumeFrom){const i=t.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:s,layout:r}=i;if(s&&r){const a={x:{min:0,max:0},y:{min:0,max:0}};Lr(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Lr(o,e,r.layoutBox),ka(a,o)||(c=!0),i.options.layoutRoot&&(t.relativeTarget=o,t.relativeTargetOrigin=a,t.relativeParent=i)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function qa(t){Qt.value&&Va.nodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ka(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Xa(t){t.clearSnapshot()}function Ga(t){t.clearMeasurements()}function Ya(t){t.isLayoutDirty=!1}function Ja(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qa(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Za(t){t.resolveTargetDelta()}function to(t){t.calcProjection()}function eo(t){t.resetSkewAndRotation()}function no(t){t.removeLeadSnapshot()}function io(t,e,n){t.translate=un(e.translate,0,n),t.scale=un(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function so(t,e,n,i){t.min=un(e.min,n.min,i),t.max=un(e.max,n.max,i)}function ro(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const ao={duration:.45,ease:[.4,0,.1,1]},oo=t=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lo=oo("applewebkit/")&&!oo("chrome/")?Math.round:Gt;function co(t){t.min=lo(t.min),t.max=lo(t.max)}function uo(t,e,n){return"position"===t||"preserve-aspect"===t&&(i=Sa(e),s=Sa(n),r=.2,!(Math.abs(i-s)<=r));var i,s,r}function ho(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const po=Ua({attachResizeListener:(t,e)=>Dr(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||(null===(t=document.body)||void 0===t?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||(null===(e=document.body)||void 0===e?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),mo={current:void 0},fo=Ua({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mo.current){const t=new po({});t.mount(window),t.setOptions({layoutScroll:!0}),mo.current=t}return mo.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),go={pan:{Feature:class extends vi{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new $r(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Br(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ra(t),onStart:ra(e),onMove:n,onEnd:(t,e)=>{delete this.session,i&&te.postRender(()=>i(t,e))}}}mount(){this.removePointerDownListener=Ir(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends vi{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new ia(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}},ProjectionNode:fo,MeasureLayout:ca}};function vo(t,e){const n=function(t,e,n){if(null==t)return[];if(t instanceof EventTarget)return[t];if("string"===typeof t){var i;let s=document;e&&(s=e.current);const r=null!==(i=null===n||void 0===n?void 0:n[t])&&void 0!==i?i:s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(t=>null!=t)}(t),i=new AbortController;return[n,u(u({passive:!0},e),{},{signal:i.signal}),()=>i.abort()]}function xo(t){return!("touch"===t.pointerType||Er())}function yo(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover","Start"===n);const s=i["onHover"+n];s&&te.postRender(()=>s(e,Or(e)))}const bo=(t,e)=>!!e&&(t===e||bo(t,e.parentElement)),wo=new WeakSet;function ko(t){return e=>{"Enter"===e.key&&t(e)}}function So(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function jo(t){return Vr(t)&&!Er()}function No(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,s,r]=vo(t,n),a=t=>{const i=t.currentTarget;if(!jo(t))return;wo.add(i);const r=e(i,t),a=(t,e)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),wo.has(i)&&wo.delete(i),jo(t)&&"function"===typeof r&&r(t,{success:e})},o=t=>{a(t,i===window||i===document||n.useGlobalTarget||bo(i,t.target))},l=t=>{a(t,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return i.forEach(t=>{(n.useGlobalTarget?window:t).addEventListener("pointerdown",a,s),x(t)&&(t.addEventListener("focus",t=>((t,e)=>{const n=t.currentTarget;if(!n)return;const i=ko(()=>{if(wo.has(n))return;So(n,"down");const t=ko(()=>{So(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>So(n,"cancel"),e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)})(t,s)),Fr(t)||t.hasAttribute("tabindex")||(t.tabIndex=0))}),r}function Co(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap","Start"===n);const s=i["onTap"+("End"===n?"":n)];s&&te.postRender(()=>s(e,Or(e)))}const Eo=["root"],zo=new WeakMap,To=new WeakMap,Mo=t=>{const e=zo.get(t.target);e&&e(t)},_o=t=>{t.forEach(Mo)};function Po(t,e,n){const i=function(t){let{root:e}=t,n=ge(t,Eo);const i=e||document;To.has(i)||To.set(i,{});const s=To.get(i),r=JSON.stringify(n);return s[r]||(s[r]=new IntersectionObserver(_o,u({root:e},n))),s[r]}(e);return zo.set(t,n),i.observe(t),()=>{zo.delete(t),i.unobserve(t)}}const Ao={some:0,all:1};const Lo={inView:{Feature:class extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:i="some",once:s}=t,r={root:e?e.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:Ao[i]};return Po(this.node.current,r,t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,s&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),r=e?n:i;r&&r(t)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function(t){let{viewport:e={}}=t,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=>e[t]!==n[t]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends vi{mount(){const{current:t}=this.node;t&&(this.unmount=No(t,(t,e)=>(Co(this.node,e,"Start"),(t,e)=>{let{success:n}=e;return Co(this.node,t,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(fh){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends vi{mount(){const{current:t}=this.node;t&&(this.unmount=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,s,r]=vo(t,n),a=t=>{if(!xo(t))return;const{target:n}=t,i=e(n,t);if("function"!==typeof i||!n)return;const r=t=>{xo(t)&&(i(t),n.removeEventListener("pointerleave",r))};n.addEventListener("pointerleave",r,s)};return i.forEach(t=>{t.addEventListener("pointerenter",a,s)}),r}(t,(t,e)=>(yo(this.node,e,"Start"),t=>yo(this.node,t,"End"))))}unmount(){}}}},Ro={layout:{ProjectionNode:fo,MeasureLayout:ca}},Fo=gi(u(u(u(u({},Nr),Lo),go),Ro),Fn),Do=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()))(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vo=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim()};var Oo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Io=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Bo=(0,s.forwardRef)((t,e)=>{let{color:n="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c}=t,h=ge(t,Io);return(0,s.createElement)("svg",u(u(u({ref:e},Oo),{},{width:i,height:i,stroke:n,strokeWidth:a?24*Number(r)/Number(i):r,className:Vo("lucide",o)},!l&&!(t=>{for(const e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0})(h)&&{"aria-hidden":"true"}),h),[...c.map(t=>{let[e,n]=t;return(0,s.createElement)(e,n)}),...Array.isArray(l)?l:[l]])}),Wo=["className"],Uo=(t,e)=>{const n=(0,s.forwardRef)((n,i)=>{let{className:r}=n,a=ge(n,Wo);return(0,s.createElement)(Bo,u({ref:i,iconNode:e,className:Vo("lucide-".concat((o=Do(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),r)},a));var o});return n.displayName=Do(t),n},$o=Uo("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ho=Uo("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),qo=Uo("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var Ko=n(950);const Xo=["message"];const Go=Array(12).fill(0),Yo=t=>{let{visible:e,className:n}=t;return s.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":e},s.createElement("div",{className:"sonner-spinner"},Go.map((t,e)=>s.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(e)}))))},Jo=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qo=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zo=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tl=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),el=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let nl=1;const il=new class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:n}=t,i=ge(t,Xo),s="number"===typeof(null==t?void 0:t.id)||(null==(e=t.id)?void 0:e.length)>0?t.id:nl++,r=this.toasts.find(t=>t.id===s),a=void 0===t.dismissible||t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(e=>e.id===s?(this.publish(u(u(u({},e),t),{},{id:s,title:n})),u(u(u({},e),t),{},{id:s,dismissible:a,title:n})):e):this.addToast(u(u({title:n},i),{},{dismissible:a,id:s})),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(e=>e({id:t.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create(u(u({},e),{},{message:t})),this.error=(t,e)=>this.create(u(u({},e),{},{message:t,type:"error"})),this.success=(t,e)=>this.create(u(u({},e),{},{type:"success",message:t})),this.info=(t,e)=>this.create(u(u({},e),{},{type:"info",message:t})),this.warning=(t,e)=>this.create(u(u({},e),{},{type:"warning",message:t})),this.loading=(t,e)=>this.create(u(u({},e),{},{type:"loading",message:t})),this.promise=(t,e)=>{if(!e)return;let n;void 0!==e.loading&&(n=this.create(u(u({},e),{},{promise:t,type:"loading",message:e.loading,description:"function"!==typeof e.description?e.description:void 0})));const i=Promise.resolve(t instanceof Function?t():t);let r,a=void 0!==n;const o=i.then(async t=>{r=["resolve",t];if(s.isValidElement(t))a=!1,this.create({id:n,type:"default",message:t});else if(sl(t)&&!t.ok){a=!1;const i="function"===typeof e.error?await e.error("HTTP error! status: ".concat(t.status)):e.error,r="function"===typeof e.description?await e.description("HTTP error! status: ".concat(t.status)):e.description,o="object"===typeof i&&!s.isValidElement(i)?i:{message:i};this.create(u({id:n,type:"error",description:r},o))}else if(t instanceof Error){a=!1;const i="function"===typeof e.error?await e.error(t):e.error,r="function"===typeof e.description?await e.description(t):e.description,o="object"===typeof i&&!s.isValidElement(i)?i:{message:i};this.create(u({id:n,type:"error",description:r},o))}else if(void 0!==e.success){a=!1;const i="function"===typeof e.success?await e.success(t):e.success,r="function"===typeof e.description?await e.description(t):e.description,o="object"===typeof i&&!s.isValidElement(i)?i:{message:i};this.create(u({id:n,type:"success",description:r},o))}}).catch(async t=>{if(r=["reject",t],void 0!==e.error){a=!1;const i="function"===typeof e.error?await e.error(t):e.error,r="function"===typeof e.description?await e.description(t):e.description,o="object"===typeof i&&!s.isValidElement(i)?i:{message:i};this.create(u({id:n,type:"error",description:r},o))}}).finally(()=>{a&&(this.dismiss(n),n=void 0),null==e.finally||e.finally.call(e)}),l=()=>new Promise((t,e)=>o.then(()=>"reject"===r[0]?e(r[1]):t(r[1])).catch(e));return"string"!==typeof n&&"number"!==typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{const n=(null==e?void 0:e.id)||nl++;return this.create(u({jsx:t(n),id:n},e)),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sl=t=>t&&"object"===typeof t&&"ok"in t&&"boolean"===typeof t.ok&&"status"in t&&"number"===typeof t.status,rl=(t,e)=>{const n=(null==e?void 0:e.id)||nl++;return il.addToast(u(u({title:t},e),{},{id:n})),n},al=Object.assign(rl,{success:il.success,info:il.info,warning:il.warning,error:il.error,custom:il.custom,message:il.message,promise:il.promise,dismiss:il.dismiss,loading:il.loading},{getHistory:()=>il.toasts,getToasts:()=>il.getActiveToasts()});function ol(t){return void 0!==t.label}!function(t){if(!t||"undefined"==typeof document)return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const ll=3,cl=14;function ul(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")}const hl=t=>{var e,n,i,r,a,o,l,c,h;const{invert:d,toast:p,unstyled:m,interacting:f,setHeights:g,visibleToasts:v,heights:x,index:y,toasts:b,expanded:w,removeToast:k,defaultRichColors:S,closeButton:j,style:N,cancelButtonStyle:C,actionButtonStyle:E,className:z="",descriptionClassName:T="",duration:M,position:_,gap:P,expandByDefault:A,classNames:L,icons:R,closeButtonAriaLabel:F="Close toast"}=t,[D,V]=s.useState(null),[O,I]=s.useState(null),[B,W]=s.useState(!1),[U,$]=s.useState(!1),[H,q]=s.useState(!1),[K,X]=s.useState(!1),[G,Y]=s.useState(!1),[J,Q]=s.useState(0),[Z,tt]=s.useState(0),et=s.useRef(p.duration||M||4e3),nt=s.useRef(null),it=s.useRef(null),st=0===y,rt=y+1<=v,at=p.type,ot=!1!==p.dismissible,lt=p.className||"",ct=p.descriptionClassName||"",ut=s.useMemo(()=>x.findIndex(t=>t.toastId===p.id)||0,[x,p.id]),ht=s.useMemo(()=>{var t;return null!=(t=p.closeButton)?t:j},[p.closeButton,j]),dt=s.useMemo(()=>p.duration||M||4e3,[p.duration,M]),pt=s.useRef(0),mt=s.useRef(0),ft=s.useRef(0),gt=s.useRef(null),[vt,xt]=_.split("-"),yt=s.useMemo(()=>x.reduce((t,e,n)=>n>=ut?t:t+e.height,0),[x,ut]),bt=(()=>{const[t,e]=s.useState(document.hidden);return s.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),t})(),wt=p.invert||d,kt="loading"===at;mt.current=s.useMemo(()=>ut*P+yt,[ut,yt]),s.useEffect(()=>{et.current=dt},[dt]),s.useEffect(()=>{W(!0)},[]),s.useEffect(()=>{const t=it.current;if(t){const e=t.getBoundingClientRect().height;return tt(e),g(t=>[{toastId:p.id,height:e,position:p.position},...t]),()=>g(t=>t.filter(t=>t.toastId!==p.id))}},[g,p.id]),s.useLayoutEffect(()=>{if(!B)return;const t=it.current,e=t.style.height;t.style.height="auto";const n=t.getBoundingClientRect().height;t.style.height=e,tt(n),g(t=>t.find(t=>t.toastId===p.id)?t.map(t=>t.toastId===p.id?u(u({},t),{},{height:n}):t):[{toastId:p.id,height:n,position:p.position},...t])},[B,p.title,p.description,g,p.id,p.jsx,p.action,p.cancel]);const St=s.useCallback(()=>{$(!0),Q(mt.current),g(t=>t.filter(t=>t.toastId!==p.id)),setTimeout(()=>{k(p)},200)},[p,k,g,mt]);s.useEffect(()=>{if(p.promise&&"loading"===at||p.duration===1/0||"loading"===p.type)return;let t;return w||f||bt?(()=>{if(ft.current<pt.current){const t=(new Date).getTime()-pt.current;et.current=et.current-t}ft.current=(new Date).getTime()})():et.current!==1/0&&(pt.current=(new Date).getTime(),t=setTimeout(()=>{null==p.onAutoClose||p.onAutoClose.call(p,p),St()},et.current)),()=>clearTimeout(t)},[w,f,p,at,bt,St]),s.useEffect(()=>{p.delete&&(St(),null==p.onDismiss||p.onDismiss.call(p,p))},[St,p.delete]);const jt=p.icon||(null==R?void 0:R[at])||(t=>{switch(t){case"success":return Jo;case"info":return Zo;case"warning":return Qo;case"error":return tl;default:return null}})(at);var Nt,Ct;return s.createElement("li",{tabIndex:0,ref:it,className:ul(z,lt,null==L?void 0:L.toast,null==p||null==(e=p.classNames)?void 0:e.toast,null==L?void 0:L.default,null==L?void 0:L[at],null==p||null==(n=p.classNames)?void 0:n[at]),"data-sonner-toast":"","data-rich-colors":null!=(Nt=p.richColors)?Nt:S,"data-styled":!Boolean(p.jsx||p.unstyled||m),"data-mounted":B,"data-promise":Boolean(p.promise),"data-swiped":G,"data-removed":U,"data-visible":rt,"data-y-position":vt,"data-x-position":xt,"data-index":y,"data-front":st,"data-swiping":H,"data-dismissible":ot,"data-type":at,"data-invert":wt,"data-swipe-out":K,"data-swipe-direction":O,"data-expanded":Boolean(w||A&&B),"data-testid":p.testId,style:u(u({"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":"".concat(U?J:mt.current,"px"),"--initial-height":A?"auto":"".concat(Z,"px")},N),p.style),onDragEnd:()=>{q(!1),V(null),gt.current=null},onPointerDown:t=>{2!==t.button&&!kt&&ot&&(nt.current=new Date,Q(mt.current),t.target.setPointerCapture(t.pointerId),"BUTTON"!==t.target.tagName&&(q(!0),gt.current={x:t.clientX,y:t.clientY}))},onPointerUp:()=>{var t,e,n;if(K||!ot)return;gt.current=null;const i=Number((null==(t=it.current)?void 0:t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(e=it.current)?void 0:e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=(new Date).getTime()-(null==(n=nt.current)?void 0:n.getTime()),a="x"===D?i:s,o=Math.abs(a)/r;if(Math.abs(a)>=45||o>.11)return Q(mt.current),null==p.onDismiss||p.onDismiss.call(p,p),I("x"===D?i>0?"right":"left":s>0?"down":"up"),St(),void X(!0);var l,c;null==(l=it.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=it.current)||c.style.setProperty("--swipe-amount-y","0px"),Y(!1),q(!1),V(null)},onPointerMove:e=>{var n,i,s;if(!gt.current||!ot)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const r=e.clientY-gt.current.y,a=e.clientX-gt.current.x;var o;const l=null!=(o=t.swipeDirections)?o:function(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}(_);!D&&(Math.abs(a)>1||Math.abs(r)>1)&&V(Math.abs(a)>Math.abs(r)?"x":"y");let c={x:0,y:0};const u=t=>1/(1.5+Math.abs(t)/20);if("y"===D){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&r<0||l.includes("bottom")&&r>0)c.y=r;else{const t=r*u(r);c.y=Math.abs(t)<Math.abs(r)?t:r}}else if("x"===D&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{const t=a*u(a);c.x=Math.abs(t)<Math.abs(a)?t:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Y(!0),null==(i=it.current)||i.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(s=it.current)||s.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ht&&!p.jsx&&"loading"!==at?s.createElement("button",{"aria-label":F,"data-disabled":kt,"data-close-button":!0,onClick:kt||!ot?()=>{}:()=>{St(),null==p.onDismiss||p.onDismiss.call(p,p)},className:ul(null==L?void 0:L.closeButton,null==p||null==(i=p.classNames)?void 0:i.closeButton)},null!=(Ct=null==R?void 0:R.close)?Ct:el):null,(at||p.icon||p.promise)&&null!==p.icon&&(null!==(null==R?void 0:R[at])||p.icon)?s.createElement("div",{"data-icon":"",className:ul(null==L?void 0:L.icon,null==p||null==(r=p.classNames)?void 0:r.icon)},p.promise||"loading"===p.type&&!p.icon?p.icon||function(){var t,e;return(null==R?void 0:R.loading)?s.createElement("div",{className:ul(null==L?void 0:L.loader,null==p||null==(e=p.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===at},R.loading):s.createElement(Yo,{className:ul(null==L?void 0:L.loader,null==p||null==(t=p.classNames)?void 0:t.loader),visible:"loading"===at})}():null,"loading"!==p.type?jt:null):null,s.createElement("div",{"data-content":"",className:ul(null==L?void 0:L.content,null==p||null==(a=p.classNames)?void 0:a.content)},s.createElement("div",{"data-title":"",className:ul(null==L?void 0:L.title,null==p||null==(o=p.classNames)?void 0:o.title)},p.jsx?p.jsx:"function"===typeof p.title?p.title():p.title),p.description?s.createElement("div",{"data-description":"",className:ul(T,ct,null==L?void 0:L.description,null==p||null==(l=p.classNames)?void 0:l.description)},"function"===typeof p.description?p.description():p.description):null),s.isValidElement(p.cancel)?p.cancel:p.cancel&&ol(p.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:t=>{ol(p.cancel)&&ot&&(null==p.cancel.onClick||p.cancel.onClick.call(p.cancel,t),St())},className:ul(null==L?void 0:L.cancelButton,null==p||null==(c=p.classNames)?void 0:c.cancelButton)},p.cancel.label):null,s.isValidElement(p.action)?p.action:p.action&&ol(p.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||E,onClick:t=>{ol(p.action)&&(null==p.action.onClick||p.action.onClick.call(p.action,t),t.defaultPrevented||St())},className:ul(null==L?void 0:L.actionButton,null==p||null==(h=p.classNames)?void 0:h.actionButton)},p.action.label):null)};function dl(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const t=document.documentElement.getAttribute("dir");return"auto"!==t&&t?t:window.getComputedStyle(document.documentElement).direction}function pl(t,e){const n={};return[t,e].forEach((t,e)=>{const i=1===e,s=i?"--mobile-offset":"--offset",r=i?"16px":"24px";function a(t){["top","right","bottom","left"].forEach(e=>{n["".concat(s,"-").concat(e)]="number"===typeof t?"".concat(t,"px"):t})}"number"===typeof t||"string"===typeof t?a(t):"object"===typeof t?["top","right","bottom","left"].forEach(e=>{void 0===t[e]?n["".concat(s,"-").concat(e)]=r:n["".concat(s,"-").concat(e)]="number"===typeof t[e]?"".concat(t[e],"px"):t[e]}):a(r)}),n}const ml=s.forwardRef(function(t,e){const{id:n,invert:i,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:h,mobileOffset:d,theme:p="light",richColors:m,duration:f,style:g,visibleToasts:v=ll,toastOptions:x,dir:y=dl(),gap:b=cl,icons:w,containerAriaLabel:k="Notifications"}=t,[S,j]=s.useState([]),N=s.useMemo(()=>n?S.filter(t=>t.toasterId===n):S.filter(t=>!t.toasterId),[S,n]),C=s.useMemo(()=>Array.from(new Set([r].concat(N.filter(t=>t.position).map(t=>t.position)))),[N,r]),[E,z]=s.useState([]),[T,M]=s.useState(!1),[_,P]=s.useState(!1),[A,L]=s.useState("system"!==p?p:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=s.useRef(null),F=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=s.useRef(null),V=s.useRef(!1),O=s.useCallback(t=>{j(e=>{var n;return(null==(n=e.find(e=>e.id===t.id))?void 0:n.delete)||il.dismiss(t.id),e.filter(e=>{let{id:n}=e;return n!==t.id})})},[]);return s.useEffect(()=>il.subscribe(t=>{t.dismiss?requestAnimationFrame(()=>{j(e=>e.map(e=>e.id===t.id?u(u({},e),{},{delete:!0}):e))}):setTimeout(()=>{Ko.flushSync(()=>{j(e=>{const n=e.findIndex(e=>e.id===t.id);return-1!==n?[...e.slice(0,n),u(u({},e[n]),t),...e.slice(n+1)]:[t,...e]})})})}),[S]),s.useEffect(()=>{if("system"!==p)return void L(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),"undefined"===typeof window)return;const t=window.matchMedia("(prefers-color-scheme: dark)");try{t.addEventListener("change",t=>{let{matches:e}=t;L(e?"dark":"light")})}catch(e){t.addListener(t=>{let{matches:e}=t;try{L(e?"dark":"light")}catch(fh){console.error(fh)}})}},[p]),s.useEffect(()=>{S.length<=1&&M(!1)},[S]),s.useEffect(()=>{const t=t=>{var e;var n;a.every(e=>t[e]||t.code===e)&&(M(!0),null==(n=R.current)||n.focus());"Escape"!==t.code||document.activeElement!==R.current&&!(null==(e=R.current)?void 0:e.contains(document.activeElement))||M(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[a]),s.useEffect(()=>{if(R.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,V.current=!1)}},[R.current]),s.createElement("section",{ref:e,"aria-label":"".concat(k," ").concat(F),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((e,n)=>{var r;const[a,p]=e.split("-");return N.length?s.createElement("ol",{key:e,dir:"auto"===y?dl():y,tabIndex:-1,ref:R,className:c,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":a,"data-x-position":p,style:u(u({"--front-toast-height":"".concat((null==(r=E[0])?void 0:r.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(b,"px")},g),pl(h,d)),onBlur:t=>{V.current&&!t.currentTarget.contains(t.relatedTarget)&&(V.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||V.current||(V.current=!0,D.current=t.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{_||M(!1)},onDragEnd:()=>M(!1),onPointerDown:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},N.filter(t=>!t.position&&0===n||t.position===e).map((n,r)=>{var a,c;return s.createElement(hl,{key:n.id,icons:w,index:r,toast:n,defaultRichColors:m,duration:null!=(a=null==x?void 0:x.duration)?a:f,className:null==x?void 0:x.className,descriptionClassName:null==x?void 0:x.descriptionClassName,invert:i,visibleToasts:v,closeButton:null!=(c=null==x?void 0:x.closeButton)?c:l,interacting:_,position:e,style:null==x?void 0:x.style,unstyled:null==x?void 0:x.unstyled,classNames:null==x?void 0:x.classNames,cancelButtonStyle:null==x?void 0:x.cancelButtonStyle,actionButtonStyle:null==x?void 0:x.actionButtonStyle,closeButtonAriaLabel:null==x?void 0:x.closeButtonAriaLabel,removeToast:O,toasts:N.filter(t=>t.position==n.position),heights:E.filter(t=>t.position==n.position),setHeights:z,expandByDefault:o,gap:b,expanded:T,swipeDirections:t.swipeDirections})})):null}))}),fl=Uo("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),gl=Uo("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),vl=Uo("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),xl=Uo("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yl=Uo("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),bl=Uo("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),wl=Uo("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kl=[{id:"command-center",icon:fl,label:"Command Center",highlight:!0},{id:"trade-journal",icon:gl,label:"Trade Journal"},{id:"chart",icon:vl,label:"Charts"},{id:"ib-trading",icon:xl,label:"IB Trading"},{id:"glossary",icon:yl,label:"Glossary & Logic"}],Sl=t=>{let{activeTab:e,setActiveTab:n}=t;const[i,r]=(0,s.useState)(!1);return(0,h.jsxs)(Fo.aside,{className:"fixed left-0 top-0 h-full bg-paper border-r border-white/5 z-40 flex flex-col",initial:{width:64},animate:{width:i?220:64},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,h.jsx)("div",{className:"p-4 border-b border-white/5",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:(0,h.jsx)(bl,{className:"w-5 h-5 text-white"})}),(0,h.jsx)(T,{children:i&&(0,h.jsx)(Fo.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"font-bold text-lg text-gradient whitespace-nowrap",children:"TradeCommand"})})]})}),(0,h.jsx)("nav",{className:"flex-1 py-4",children:kl.map(t=>(0,h.jsxs)("button",{"data-testid":"nav-".concat(t.id),onClick:()=>n(t.id),className:"w-full flex items-center gap-3 px-4 py-3 transition-all ".concat(e===t.id?"bg-primary/10 text-primary border-r-2 border-primary":t.highlight?"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10":"text-zinc-400 hover:text-white hover:bg-white/5"),children:[(0,h.jsx)(t.icon,{className:"w-5 h-5 flex-shrink-0 ".concat(t.highlight&&e!==t.id?"text-cyan-400":"")}),(0,h.jsx)(T,{children:i&&(0,h.jsx)(Fo.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"whitespace-nowrap flex items-center gap-2",children:t.label})}),e===t.id&&i&&(0,h.jsx)(wl,{className:"w-4 h-4 ml-auto"})]},t.id))}),(0,h.jsx)("div",{className:"p-4 border-t border-white/5",children:(0,h.jsx)(T,{children:i&&(0,h.jsx)(Fo.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-[10px] text-zinc-600 text-center",children:"v2.0 \u2022 Command Center"})})})]})},jl=Uo("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Nl=Uo("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Cl=t=>{let{value:e,className:n=""}=t;if(null===e||void 0===e)return(0,h.jsx)("span",{className:"text-zinc-500",children:"--"});const i=e>=0;return(0,h.jsxs)("span",{className:"font-mono ".concat(i?"text-green-400":"text-red-400"," ").concat(n),children:[i?"+":"","number"===typeof e?e.toFixed(2):e,"%"]})},El=t=>{let{indices:e=[],isConnected:n,lastUpdate:i}=t;return(0,h.jsx)("div",{className:"bg-paper/80 backdrop-blur-md border-b border-white/5 py-2 px-4 sticky top-0 z-30",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("div",{className:"flex items-center gap-6 overflow-x-auto",children:(0,h.jsx)(T,{mode:"popLayout",children:null===e||void 0===e?void 0:e.map((t,e)=>{var n;return(0,h.jsxs)(Fo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{delay:.05*e},className:"flex items-center gap-2 whitespace-nowrap",children:[(0,h.jsx)("span",{className:"text-zinc-500 text-sm",children:t.symbol}),(0,h.jsxs)("span",{className:"font-mono text-sm",children:["$",(null===(n=t.price)||void 0===n?void 0:n.toFixed(2))||"--"]}),(0,h.jsx)(Cl,{value:t.change_percent,className:"text-sm"})]},t.symbol)})})}),(0,h.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[n?(0,h.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,h.jsx)(jl,{className:"w-3 h-3"})," LIVE"]}):(0,h.jsxs)("span",{className:"flex items-center gap-1 text-zinc-500",children:[(0,h.jsx)(Nl,{className:"w-3 h-3"})," OFFLINE"]}),i&&(0,h.jsx)("span",{className:"text-zinc-500",children:i.toLocaleTimeString()})]})]})})},zl=Uo("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Tl=Uo("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),Ml=Uo("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_l=Uo("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pl=t=>{let{audioEnabled:e,setAudioEnabled:n,alertThreshold:i,setAlertThreshold:s,isOpen:r,onClose:a}=t;return r?(0,h.jsxs)(Fo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"fixed bottom-20 right-4 z-50 bg-paper border border-white/10 rounded-xl p-4 w-72 shadow-xl",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,h.jsx)($o,{className:"w-4 h-4"}),"Alert Settings"]}),(0,h.jsx)("button",{onClick:a,className:"text-zinc-500 hover:text-white",children:(0,h.jsx)(_l,{className:"w-4 h-4"})})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("span",{className:"text-sm text-zinc-400",children:"Audio Alerts"}),(0,h.jsx)("button",{onClick:()=>n(!e),className:"p-2 rounded-lg transition-all ".concat(e?"bg-primary/20 text-primary":"bg-zinc-800 text-zinc-500"),children:e?(0,h.jsx)(Ho,{className:"w-4 h-4"}):(0,h.jsx)(qo,{className:"w-4 h-4"})})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-sm text-zinc-400",children:"Alert Threshold"}),(0,h.jsxs)("span",{className:"text-sm font-mono text-primary",children:["\xb1",i,"%"]})]}),(0,h.jsx)("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:i,onChange:t=>s(parseFloat(t.target.value)),className:"w-full accent-primary","data-testid":"alert-threshold-slider"}),(0,h.jsxs)("div",{className:"flex justify-between text-xs text-zinc-500 mt-1",children:[(0,h.jsx)("span",{children:"0.5%"}),(0,h.jsx)("span",{children:"5%"}),(0,h.jsx)("span",{children:"10%"})]})]}),(0,h.jsxs)("p",{className:"text-xs text-zinc-500",children:["Alerts trigger when price moves \u2265 ",i,"% from the daily open."]})]})]}):null},Al=t=>{let{alerts:e,onDismiss:n,audioEnabled:i,setAudioEnabled:s}=t;return 0===e.length?null:(0,h.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2 max-h-[60vh] overflow-y-auto",children:(0,h.jsx)(T,{children:e.slice(0,5).map(t=>{var e,i;return(0,h.jsx)(Fo.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:"glass-card rounded-lg p-4 min-w-[280px] border-l-4 ".concat("bullish"===t.type?"border-l-green-500 bg-green-500/10":"bearish"===t.type?"border-l-red-500 bg-red-500/10":"border-l-blue-500 bg-blue-500/10"),children:(0,h.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:["bullish"===t.type?(0,h.jsx)(zl,{className:"w-5 h-5 text-green-400"}):"bearish"===t.type?(0,h.jsx)(Tl,{className:"w-5 h-5 text-red-400"}):(0,h.jsx)(Ml,{className:"w-5 h-5 text-yellow-400"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsxs)("span",{className:"font-mono text-sm ".concat(t.changePercent>0?"text-green-400":"text-red-400"),children:[t.changePercent>0?"+":"",null===(e=t.changePercent)||void 0===e?void 0:e.toFixed(2),"%"]})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-400",children:t.message}),(0,h.jsxs)("p",{className:"text-xs text-zinc-500 mt-1",children:["$",null===(i=t.price)||void 0===i?void 0:i.toFixed(2)," \u2022 ",new Date(t.timestamp).toLocaleTimeString()]})]})]}),(0,h.jsx)("button",{onClick:()=>n(t.id),className:"text-zinc-500 hover:text-white transition-colors","data-testid":"dismiss-alert-".concat(t.symbol),children:(0,h.jsx)(_l,{className:"w-4 h-4"})})]})},t.id)})})})};function Ll(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rl}=Object.prototype,{getPrototypeOf:Fl}=Object,{iterator:Dl,toStringTag:Vl}=Symbol,Ol=(Il=Object.create(null),t=>{const e=Rl.call(t);return Il[e]||(Il[e]=e.slice(8,-1).toLowerCase())});var Il;const Bl=t=>(t=t.toLowerCase(),e=>Ol(e)===t),Wl=t=>e=>typeof e===t,{isArray:Ul}=Array,$l=Wl("undefined");function Hl(t){return null!==t&&!$l(t)&&null!==t.constructor&&!$l(t.constructor)&&Xl(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ql=Bl("ArrayBuffer");const Kl=Wl("string"),Xl=Wl("function"),Gl=Wl("number"),Yl=t=>null!==t&&"object"===typeof t,Jl=t=>{if("object"!==Ol(t))return!1;const e=Fl(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Vl in t)&&!(Dl in t)},Ql=Bl("Date"),Zl=Bl("File"),tc=Bl("Blob"),ec=Bl("FileList"),nc=Bl("URLSearchParams"),[ic,sc,rc,ac]=["ReadableStream","Request","Response","Headers"].map(Bl);function oc(t,e){let n,i,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Ul(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Hl(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let a;for(n=0;n<r;n++)a=i[n],e.call(null,t[a],a,t)}}function lc(t,e){if(Hl(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i,s=n.length;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const cc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,uc=t=>!$l(t)&&t!==cc;const hc=(dc="undefined"!==typeof Uint8Array&&Fl(Uint8Array),t=>dc&&t instanceof dc);var dc;const pc=Bl("HTMLFormElement"),mc=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),fc=Bl("RegExp"),gc=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};oc(n,(n,s)=>{let r;!1!==(r=e(n,s,t))&&(i[s]=r||n)}),Object.defineProperties(t,i)};const vc=Bl("AsyncFunction"),xc=((t,e)=>{return t?setImmediate:e?(n="axios@".concat(Math.random()),i=[],cc.addEventListener("message",t=>{let{source:e,data:s}=t;e===cc&&s===n&&i.length&&i.shift()()},!1),t=>{i.push(t),cc.postMessage(n,"*")}):t=>setTimeout(t);var n,i})("function"===typeof setImmediate,Xl(cc.postMessage)),yc="undefined"!==typeof queueMicrotask?queueMicrotask.bind(cc):"undefined"!==typeof process&&process.nextTick||xc,bc={isArray:Ul,isArrayBuffer:ql,isBuffer:Hl,isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Xl(t.append)&&("formdata"===(e=Ol(t))||"object"===e&&Xl(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&ql(t.buffer),e},isString:Kl,isNumber:Gl,isBoolean:t=>!0===t||!1===t,isObject:Yl,isPlainObject:Jl,isEmptyObject:t=>{if(!Yl(t)||Hl(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(fh){return!1}},isReadableStream:ic,isRequest:sc,isResponse:rc,isHeaders:ac,isUndefined:$l,isDate:Ql,isFile:Zl,isBlob:tc,isRegExp:fc,isFunction:Xl,isStream:t=>Yl(t)&&Xl(t.pipe),isURLSearchParams:nc,isTypedArray:hc,isFileList:ec,forEach:oc,merge:function t(){const{caseless:e,skipUndefined:n}=uc(this)&&this||{},i={},s=(s,r)=>{const a=e&&lc(i,r)||r;Jl(i[a])&&Jl(s)?i[a]=t(i[a],s):Jl(s)?i[a]=t({},s):Ul(s)?i[a]=s.slice():n&&$l(s)||(i[a]=s)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&oc(arguments[r],s);return i},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return oc(e,(e,i)=>{n&&Xl(e)?t[i]=Ll(e,n):t[i]=e},{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let s,r,a;const o={};if(e=e||{},null==t)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],i&&!i(a,t,e)||o[a]||(e[a]=t[a],o[a]=!0);t=!1!==n&&Fl(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ol,kindOfTest:Bl,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Ul(t))return t;let e=t.length;if(!Gl(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Dl]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:pc,hasOwnProperty:mc,hasOwnProp:mc,reduceDescriptors:gc,freezeMethods:t=>{gc(t,(e,n)=>{if(Xl(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];Xl(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach(t=>{n[t]=!0})};return Ul(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,n){return e.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:lc,global:cc,isContextDefined:uc,isSpecCompliantForm:function(t){return!!(t&&Xl(t.append)&&"FormData"===t[Vl]&&t[Dl])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(Yl(t)){if(e.indexOf(t)>=0)return;if(Hl(t))return t;if(!("toJSON"in t)){e[i]=t;const s=Ul(t)?[]:{};return oc(t,(t,e)=>{const r=n(t,i+1);!$l(r)&&(s[e]=r)}),e[i]=void 0,s}}return t};return n(t,0)},isAsyncFn:vc,isThenable:t=>t&&(Yl(t)||Xl(t))&&Xl(t.then)&&Xl(t.catch),setImmediate:xc,asap:yc,isIterable:t=>null!=t&&Xl(t[Dl])};function wc(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}bc.inherits(wc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bc.toJSONObject(this.config),code:this.code,status:this.status}}});const kc=wc.prototype,Sc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Sc[t]={value:t}}),Object.defineProperties(wc,Sc),Object.defineProperty(kc,"isAxiosError",{value:!0}),wc.from=(t,e,n,i,s,r)=>{const a=Object.create(kc);bc.toFlatObject(t,a,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t);const o=t&&t.message?t.message:"Error",l=null==e&&t?t.code:e;return wc.call(a,o,l,n,i,s),t&&null==a.cause&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",r&&Object.assign(a,r),a};const jc=wc;function Nc(t){return bc.isPlainObject(t)||bc.isArray(t)}function Cc(t){return bc.endsWith(t,"[]")?t.slice(0,-2):t}function Ec(t,e,n){return t?t.concat(e).map(function(t,e){return t=Cc(t),!n&&e?"["+t+"]":t}).join(n?".":""):e}const zc=bc.toFlatObject(bc,{},null,function(t){return/^is[A-Z]/.test(t)});const Tc=function(t,e,n){if(!bc.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=bc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!bc.isUndefined(e[t])})).metaTokens,s=n.visitor||c,r=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&bc.isSpecCompliantForm(e);if(!bc.isFunction(s))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(bc.isDate(t))return t.toISOString();if(bc.isBoolean(t))return t.toString();if(!o&&bc.isBlob(t))throw new jc("Blob is not supported. Use a Buffer instead.");return bc.isArrayBuffer(t)||bc.isTypedArray(t)?o&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,s){let o=t;if(t&&!s&&"object"===typeof t)if(bc.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(bc.isArray(t)&&function(t){return bc.isArray(t)&&!t.some(Nc)}(t)||(bc.isFileList(t)||bc.endsWith(n,"[]"))&&(o=bc.toArray(t)))return n=Cc(n),o.forEach(function(t,i){!bc.isUndefined(t)&&null!==t&&e.append(!0===a?Ec([n],i,r):null===a?n:n+"[]",l(t))}),!1;return!!Nc(t)||(e.append(Ec(s,n,r),l(t)),!1)}const u=[],h=Object.assign(zc,{defaultVisitor:c,convertValue:l,isVisitable:Nc});if(!bc.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!bc.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),bc.forEach(n,function(n,r){!0===(!(bc.isUndefined(n)||null===n)&&s.call(e,n,bc.isString(r)?r.trim():r,i,h))&&t(n,i?i.concat(r):[r])}),u.pop()}}(t),e};function Mc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function _c(t,e){this._pairs=[],t&&Tc(t,this,e)}const Pc=_c.prototype;Pc.append=function(t,e){this._pairs.push([t,e])},Pc.toString=function(t){const e=t?function(e){return t.call(this,e,Mc)}:Mc;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};const Ac=_c;function Lc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rc(t,e,n){if(!e)return t;const i=n&&n.encode||Lc;bc.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(r=s?s(e,n):bc.isURLSearchParams(e)?e.toString():new Ac(e,n).toString(i),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const Fc=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){bc.forEach(this.handlers,function(e){null!==e&&t(e)})}},Dc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vc={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ac,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Oc="undefined"!==typeof window&&"undefined"!==typeof document,Ic="object"===typeof navigator&&navigator||void 0,Bc=Oc&&(!Ic||["ReactNative","NativeScript","NS"].indexOf(Ic.product)<0),Wc="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Uc=Oc&&window.location.href||"http://localhost",$c=u(u({},i),Vc);const Hc=function(t){function e(t,n,i,s){let r=t[s++];if("__proto__"===r)return!0;const a=Number.isFinite(+r),o=s>=t.length;if(r=!r&&bc.isArray(i)?i.length:r,o)return bc.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!a;i[r]&&bc.isObject(i[r])||(i[r]=[]);return e(t,n,i[r],s)&&bc.isArray(i[r])&&(i[r]=function(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}(i[r])),!a}if(bc.isFormData(t)&&bc.isFunction(t.entries)){const n={};return bc.forEachEntry(t,(t,i)=>{e(function(t){return bc.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),i,n,0)}),n}return null};const qc={transitional:Dc,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,s=bc.isObject(t);s&&bc.isHTMLForm(t)&&(t=new FormData(t));if(bc.isFormData(t))return i?JSON.stringify(Hc(t)):t;if(bc.isArrayBuffer(t)||bc.isBuffer(t)||bc.isStream(t)||bc.isFile(t)||bc.isBlob(t)||bc.isReadableStream(t))return t;if(bc.isArrayBufferView(t))return t.buffer;if(bc.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Tc(t,new $c.classes.URLSearchParams,u({visitor:function(t,e,n,i){return $c.isNode&&bc.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=bc.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Tc(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return s||i?(e.setContentType("application/json",!1),function(t,e,n){if(bc.isString(t))try{return(e||JSON.parse)(t),bc.trim(t)}catch(fh){if("SyntaxError"!==fh.name)throw fh}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||qc.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(bc.isResponse(t)||bc.isReadableStream(t))return t;if(t&&bc.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(fh){if(n){if("SyntaxError"===fh.name)throw jc.from(fh,jc.ERR_BAD_RESPONSE,this,null,this.response);throw fh}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$c.classes.FormData,Blob:$c.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bc.forEach(["delete","get","head","post","put","patch"],t=>{qc.headers[t]={}});const Kc=qc,Xc=bc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gc=Symbol("internals");function Yc(t){return t&&String(t).trim().toLowerCase()}function Jc(t){return!1===t||null==t?t:bc.isArray(t)?t.map(Jc):String(t)}function Qc(t,e,n,i,s){return bc.isFunction(i)?i.call(this,e,n):(s&&(e=n),bc.isString(e)?bc.isString(i)?-1!==e.indexOf(i):bc.isRegExp(i)?i.test(e):void 0:void 0)}class Zc{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function s(t,e,n){const s=Yc(e);if(!s)throw new Error("header name must be a non-empty string");const r=bc.findKey(i,s);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||e]=Jc(t))}const r=(t,e)=>bc.forEach(t,(t,n)=>s(t,n,e));if(bc.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(bc.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))r((t=>{const e={};let n,i,s;return t&&t.split("\n").forEach(function(t){s=t.indexOf(":"),n=t.substring(0,s).trim().toLowerCase(),i=t.substring(s+1).trim(),!n||e[n]&&Xc[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e})(t),e);else if(bc.isObject(t)&&bc.isIterable(t)){let n,i,s={};for(const e of t){if(!bc.isArray(e))throw TypeError("Object iterator must return a key-value pair");s[i=e[0]]=(n=s[i])?bc.isArray(n)?[...n,e[1]]:[n,e[1]]:e[1]}r(s,e)}else null!=t&&s(e,t,n);return this}get(t,e){if(t=Yc(t)){const n=bc.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(bc.isFunction(e))return e.call(this,t,n);if(bc.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Yc(t)){const n=bc.findKey(this,t);return!(!n||void 0===this[n]||e&&!Qc(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function s(t){if(t=Yc(t)){const s=bc.findKey(n,t);!s||e&&!Qc(0,n[s],s,e)||(delete n[s],i=!0)}}return bc.isArray(t)?t.forEach(s):s(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const s=e[n];t&&!Qc(0,this[s],s,t,!0)||(delete this[s],i=!0)}return i}normalize(t){const e=this,n={};return bc.forEach(this,(i,s)=>{const r=bc.findKey(n,s);if(r)return e[r]=Jc(i),void delete e[s];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete e[s],e[a]=Jc(i),n[a]=!0}),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return bc.forEach(this,(n,i)=>{null!=n&&!1!==n&&(e[i]=t&&bc.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[e,n]=t;return e+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.forEach(t=>e.set(t)),e}static accessor(t){const e=(this[Gc]=this[Gc]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=Yc(t);e[i]||(!function(t,e){const n=bc.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(t,n,s){return this[i].call(this,e,t,n,s)},configurable:!0})})}(n,t),e[i]=!0)}return bc.isArray(t)?t.forEach(i):i(t),this}}Zc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bc.reduceDescriptors(Zc.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}}),bc.freezeMethods(Zc);const tu=Zc;function eu(t,e){const n=this||Kc,i=e||n,s=tu.from(i.headers);let r=i.data;return bc.forEach(t,function(t){r=t.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function nu(t){return!(!t||!t.__CANCEL__)}function iu(t,e,n){jc.call(this,null==t?"canceled":t,jc.ERR_CANCELED,e,n),this.name="CanceledError"}bc.inherits(iu,jc,{__CANCEL__:!0});const su=iu;function ru(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new jc("Request failed with status code "+n.status,[jc.ERR_BAD_REQUEST,jc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const au=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s,r=0,a=0;return e=void 0!==e?e:1e3,function(o){const l=Date.now(),c=i[a];s||(s=l),n[r]=o,i[r]=l;let u=a,h=0;for(;u!==r;)h+=n[u++],u%=t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),l-s<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const ou=function(t,e){let n,i,s=0,r=1e3/e;const a=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,n=null,i&&(clearTimeout(i),i=null),t(...e)};return[function(){const t=Date.now(),e=t-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e>=r?a(l,t):(n=l,i||(i=setTimeout(()=>{i=null,a(n)},r-e)))},()=>n&&a(n)]},lu=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const s=au(50,250);return ou(n=>{const r=n.loaded,a=n.lengthComputable?n.total:void 0,o=r-i,l=s(o);i=r;t({loaded:r,total:a,progress:a?r/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:n,lengthComputable:null!=a,[e?"download":"upload"]:!0})},n)},cu=(t,e)=>{const n=null!=t;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},uu=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bc.asap(()=>t(...n))},hu=$c.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,$c.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL($c.origin),$c.navigator&&/(msie|trident)/i.test($c.navigator.userAgent)):()=>!0,du=$c.hasStandardBrowserEnv?{write(t,e,n,i,s,r,a){if("undefined"===typeof document)return;const o=["".concat(t,"=").concat(encodeURIComponent(e))];bc.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),bc.isString(i)&&o.push("path=".concat(i)),bc.isString(s)&&o.push("domain=".concat(s)),!0===r&&o.push("secure"),bc.isString(a)&&o.push("SameSite=".concat(a)),document.cookie=o.join("; ")},read(t){if("undefined"===typeof document)return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function pu(t,e,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(i||0==n)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const mu=t=>t instanceof tu?u({},t):t;function fu(t,e){e=e||{};const n={};function i(t,e,n,i){return bc.isPlainObject(t)&&bc.isPlainObject(e)?bc.merge.call({caseless:i},t,e):bc.isPlainObject(e)?bc.merge({},e):bc.isArray(e)?e.slice():e}function s(t,e,n,s){return bc.isUndefined(e)?bc.isUndefined(t)?void 0:i(void 0,t,0,s):i(t,e,0,s)}function r(t,e){if(!bc.isUndefined(e))return i(void 0,e)}function a(t,e){return bc.isUndefined(e)?bc.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function o(n,s,r){return r in e?i(n,s):r in t?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(t,e,n)=>s(mu(t),mu(e),0,!0)};return bc.forEach(Object.keys(u(u({},t),e)),function(i){const r=l[i]||s,a=r(t[i],e[i],i);bc.isUndefined(a)&&r!==o||(n[i]=a)}),n}const gu=t=>{const e=fu({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:o}=e;if(e.headers=a=tu.from(a),e.url=Rc(pu(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),bc.isFormData(n))if($c.hasStandardBrowserEnv||$c.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(bc.isFunction(n.getHeaders)){const t=n.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach(t=>{let[n,i]=t;e.includes(n.toLowerCase())&&a.set(n,i)})}if($c.hasStandardBrowserEnv&&(i&&bc.isFunction(i)&&(i=i(e)),i||!1!==i&&hu(e.url))){const t=s&&r&&du.read(r);t&&a.set(s,t)}return e},vu="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise(function(e,n){const i=gu(t);let s=i.data;const r=tu.from(i.headers).normalize();let a,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=i;function m(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(a),i.signal&&i.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const i=tu.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ru(function(t){e(t),m()},function(t){n(t),m()},{data:h&&"text"!==h&&"json"!==h?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:t,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new jc("Request aborted",jc.ECONNABORTED,t,f)),f=null)},f.onerror=function(e){const i=e&&e.message?e.message:"Network Error",s=new jc(i,jc.ERR_NETWORK,t,f);s.event=e||null,n(s),f=null},f.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const s=i.transitional||Dc;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new jc(e,s.clarifyTimeoutError?jc.ETIMEDOUT:jc.ECONNABORTED,t,f)),f=null},void 0===s&&r.setContentType(null),"setRequestHeader"in f&&bc.forEach(r.toJSON(),function(t,e){f.setRequestHeader(e,t)}),bc.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),h&&"json"!==h&&(f.responseType=i.responseType),p&&([l,u]=lu(p,!0),f.addEventListener("progress",l)),d&&f.upload&&([o,c]=lu(d),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(a=e=>{f&&(n(!e||e.type?new su(null,t,f):e),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(a),i.signal&&(i.signal.aborted?a():i.signal.addEventListener("abort",a)));const v=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);v&&-1===$c.protocols.indexOf(v)?n(new jc("Unsupported protocol "+v+":",jc.ERR_BAD_REQUEST,t)):f.send(s||null)})},xu=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,i=new AbortController;const s=function(t){if(!n){n=!0,a();const e=t instanceof Error?t:this.reason;i.abort(e instanceof jc?e:new su(e instanceof Error?e.message:e))}};let r=e&&setTimeout(()=>{r=null,s(new jc("timeout ".concat(e," of ms exceeded"),jc.ETIMEDOUT))},e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(s):t.removeEventListener("abort",s)}),t=null)};t.forEach(t=>t.addEventListener("abort",s));const{signal:o}=i;return o.unsubscribe=()=>bc.asap(a),o}};function yu(t,e){this.v=t,this.k=e}function bu(t){return function(){return new wu(t.apply(this,arguments))}}function wu(t){var e,n;function i(e,n){try{var r=t[e](n),a=r.value,o=a instanceof yu;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===e?"return":"next";if(!a.k||n.done)return i(l,n);n=t[l](n).value}s(r.done?"return":"normal",n)},function(t){i("throw",t)})}catch(t){s("throw",t)}}function s(t,s){switch(t){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,s){return new Promise(function(r,a){var o={key:t,arg:s,resolve:r,reject:a,next:null};n?n=n.next=o:(e=n=o,i(t,s))})},"function"!=typeof t.return&&(this.return=void 0)}function ku(t){return new yu(t,0)}function Su(t){var e={},n=!1;function i(e,i){return n=!0,i=new Promise(function(n){n(t[e](i))}),{done:!1,value:new yu(i,1)}}return e["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):i("return",t)}),e}function ju(t){var e,n,i,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new Nu(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Nu(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return Nu=function(t){this.s=t,this.n=t.next},Nu.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new Nu(t)}wu.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},wu.prototype.next=function(t){return this._invoke("next",t)},wu.prototype.throw=function(t){return this._invoke("throw",t)},wu.prototype.return=function(t){return this._invoke("return",t)};const Cu=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,s=0;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},Eu=function(){var t=bu(function*(t,e){var n,i=!1,s=!1;try{for(var r,a=ju(zu(t));i=!(r=yield ku(a.next())).done;i=!1){const t=r.value;yield*Su(ju(Cu(t,e)))}}catch(o){s=!0,n=o}finally{try{i&&null!=a.return&&(yield ku(a.return()))}finally{if(s)throw n}}});return function(e,n){return t.apply(this,arguments)}}(),zu=function(){var t=bu(function*(t){if(t[Symbol.asyncIterator])return void(yield*Su(ju(t)));const e=t.getReader();try{for(;;){const{done:t,value:n}=yield ku(e.read());if(t)break;yield n}}finally{yield ku(e.cancel())}});return function(e){return t.apply(this,arguments)}}(),Tu=(t,e,n,i)=>{const s=Eu(t,e);let r,a=0,o=t=>{r||(r=!0,i&&i(t))};return new ReadableStream({async pull(t){try{const{done:e,value:i}=await s.next();if(e)return o(),void t.close();let r=i.byteLength;if(n){let t=a+=r;n(t)}t.enqueue(new Uint8Array(i))}catch(e){throw o(e),e}},cancel:t=>(o(t),s.return())},{highWaterMark:2})},{isFunction:Mu}=bc,_u=(t=>{let{Request:e,Response:n}=t;return{Request:e,Response:n}})(bc.global),{ReadableStream:Pu,TextEncoder:Au}=bc.global,Lu=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return!!t(...n)}catch(fh){return!1}},Ru=t=>{t=bc.merge.call({skipUndefined:!0},_u,t);const{fetch:e,Request:n,Response:i}=t,s=e?Mu(e):"function"===typeof fetch,r=Mu(n),a=Mu(i);if(!s)return!1;const o=s&&Mu(Pu),l=s&&("function"===typeof Au?(c=new Au,t=>c.encode(t)):async t=>new Uint8Array(await new n(t).arrayBuffer()));var c;const h=r&&o&&Lu(()=>{let t=!1;const e=new n($c.origin,{body:new Pu,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),d=a&&o&&Lu(()=>bc.isReadableStream(new i("").body)),p={stream:d&&(t=>t.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!p[t]&&(p[t]=(e,n)=>{let i=e&&e[t];if(i)return i.call(e);throw new jc("Response type '".concat(t,"' is not supported"),jc.ERR_NOT_SUPPORT,n)})});const m=async(t,e)=>{const i=bc.toFiniteNumber(t.getContentLength());return null==i?(async t=>{if(null==t)return 0;if(bc.isBlob(t))return t.size;if(bc.isSpecCompliantForm(t)){const e=new n($c.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return bc.isArrayBufferView(t)||bc.isArrayBuffer(t)?t.byteLength:(bc.isURLSearchParams(t)&&(t+=""),bc.isString(t)?(await l(t)).byteLength:void 0)})(e):i};return async t=>{let{url:s,method:a,data:o,signal:l,cancelToken:c,timeout:f,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:y,withCredentials:b="same-origin",fetchOptions:w}=gu(t),k=e||fetch;x=x?(x+"").toLowerCase():"text";let S=xu([l,c&&c.toAbortSignal()],f),j=null;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(v&&h&&"get"!==a&&"head"!==a&&0!==(C=await m(y,o))){let t,e=new n(s,{method:"POST",body:o,duplex:"half"});if(bc.isFormData(o)&&(t=e.headers.get("content-type"))&&y.setContentType(t),e.body){const[t,n]=cu(C,lu(uu(v)));o=Tu(e.body,65536,t,n)}}bc.isString(b)||(b=b?"include":"omit");const e=r&&"credentials"in n.prototype,l=u(u({},w),{},{signal:S,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:e?b:void 0});j=r&&new n(s,l);let c=await(r?k(j,w):k(s,l));const f=d&&("stream"===x||"response"===x);if(d&&(g||f&&N)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=c[e]});const e=bc.toFiniteNumber(c.headers.get("content-length")),[n,s]=g&&cu(e,lu(uu(g),!0))||[];c=new i(Tu(c.body,65536,n,()=>{s&&s(),N&&N()}),t)}x=x||"text";let E=await p[bc.findKey(p,x)||"text"](c,t);return!f&&N&&N(),await new Promise((e,n)=>{ru(e,n,{data:E,headers:tu.from(c.headers),status:c.status,statusText:c.statusText,config:t,request:j})})}catch(E){if(N&&N(),E&&"TypeError"===E.name&&/Load failed|fetch/i.test(E.message))throw Object.assign(new jc("Network Error",jc.ERR_NETWORK,t,j),{cause:E.cause||E});throw jc.from(E,E&&E.code,t,j)}}},Fu=new Map,Du=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let a,o,l=r.length,c=Fu;for(;l--;)a=r[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:Ru(e)),c=o;return o},Vu=(Du(),{http:null,xhr:vu,fetch:{get:Du}});bc.forEach(Vu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(fh){}Object.defineProperty(t,"adapterName",{value:e})}});const Ou=t=>"- ".concat(t),Iu=t=>bc.isFunction(t)||null===t||!1===t;const Bu={getAdapter:function(t,e){t=bc.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let a=0;a<n;a++){let n;if(i=t[a],s=i,!Iu(i)&&(s=Vu[(n=String(i)).toLowerCase()],void 0===s))throw new jc("Unknown adapter '".concat(n,"'"));if(s&&(bc.isFunction(s)||(s=s.get(e))))break;r[n||"#"+a]=s}if(!s){const t=Object.entries(r).map(t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let e=n?t.length>1?"since :\n"+t.map(Ou).join("\n"):" "+Ou(t[0]):"as no adapter specified";throw new jc("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return s},adapters:Vu};function Wu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new su(null,t)}function Uu(t){Wu(t),t.headers=tu.from(t.headers),t.data=eu.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Bu.getAdapter(t.adapter||Kc.adapter,t)(t).then(function(e){return Wu(t),e.data=eu.call(t,t.transformResponse,e),e.headers=tu.from(e.headers),e},function(e){return nu(e)||(Wu(t),e&&e.response&&(e.response.data=eu.call(t,t.transformResponse,e.response),e.response.headers=tu.from(e.response.headers))),Promise.reject(e)})}const $u="1.13.2",Hu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hu[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const qu={};Hu.transitional=function(t,e,n){function i(t,e){return"[Axios v"+$u+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,s,r)=>{if(!1===t)throw new jc(i(s," has been removed"+(e?" in "+e:"")),jc.ERR_DEPRECATED);return e&&!qu[s]&&(qu[s]=!0,console.warn(i(s," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,s,r)}},Hu.spelling=function(t){return(e,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(t)),!0)};const Ku={assertOptions:function(t,e,n){if("object"!==typeof t)throw new jc("options must be an object",jc.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const e=t[r],n=void 0===e||a(e,r,t);if(!0!==n)throw new jc("option "+r+" must be "+n,jc.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new jc("Unknown option "+r,jc.ERR_BAD_OPTION)}},validators:Hu},Xu=Ku.validators;class Gu{constructor(t){this.defaults=t||{},this.interceptors={request:new Fc,response:new Fc}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(fh){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=fu(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:s}=e;void 0!==n&&Ku.assertOptions(n,{silentJSONParsing:Xu.transitional(Xu.boolean),forcedJSONParsing:Xu.transitional(Xu.boolean),clarifyTimeoutError:Xu.transitional(Xu.boolean)},!1),null!=i&&(bc.isFunction(i)?e.paramsSerializer={serialize:i}:Ku.assertOptions(i,{encode:Xu.function,serialize:Xu.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ku.assertOptions(e,{baseUrl:Xu.spelling("baseURL"),withXsrfToken:Xu.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=s&&bc.merge(s.common,s[e.method]);s&&bc.forEach(["delete","get","head","post","put","patch","common"],t=>{delete s[t]}),e.headers=tu.concat(r,s);const a=[];let o=!0;this.interceptors.request.forEach(function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,a.unshift(t.fulfilled,t.rejected))});const l=[];let c;this.interceptors.response.forEach(function(t){l.push(t.fulfilled,t.rejected)});let u,h=0;if(!o){const t=[Uu.bind(this),void 0];for(t.unshift(...a),t.push(...l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=a.length;let d=e;for(;h<u;){const t=a[h++],e=a[h++];try{d=t(d)}catch(p){e.call(this,p);break}}try{c=Uu.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Rc(pu((t=fu(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}bc.forEach(["delete","get","head","options"],function(t){Gu.prototype[t]=function(e,n){return this.request(fu(n||{},{method:t,url:e,data:(n||{}).data}))}}),bc.forEach(["post","put","patch"],function(t){function e(e){return function(n,i,s){return this.request(fu(s||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Gu.prototype[t]=e(),Gu.prototype[t+"Form"]=e(!0)});const Yu=Gu;class Ju{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(t){e=t});const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const i=new Promise(t=>{n.subscribe(t),e=t}).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t(function(t,i,s){n.reason||(n.reason=new su(t,i,s),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;const e=new Ju(function(e){t=e});return{token:e,cancel:t}}}const Qu=Ju;const Zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Zu).forEach(t=>{let[e,n]=t;Zu[n]=e});const th=Zu;const eh=function t(e){const n=new Yu(e),i=Ll(Yu.prototype.request,n);return bc.extend(i,Yu.prototype,n,{allOwnKeys:!0}),bc.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(fu(e,n))},i}(Kc);eh.Axios=Yu,eh.CanceledError=su,eh.CancelToken=Qu,eh.isCancel=nu,eh.VERSION=$u,eh.toFormData=Tc,eh.AxiosError=jc,eh.Cancel=eh.CanceledError,eh.all=function(t){return Promise.all(t)},eh.spread=function(t){return function(e){return t.apply(null,e)}},eh.isAxiosError=function(t){return bc.isObject(t)&&!0===t.isAxiosError},eh.mergeConfig=fu,eh.AxiosHeaders=tu,eh.formToJSON=t=>Hc(bc.isHTMLForm(t)?new FormData(t):t),eh.getAdapter=Bu.getAdapter,eh.HttpStatusCode=th,eh.default=eh;const nh=eh.create({baseURL:"",timeout:3e4}),ih=nh,sh=t=>{const[e,n]=(0,s.useState)(!1),[i,r]=(0,s.useState)(null),a=(0,s.useRef)(null),o=(0,s.useRef)(null),l=(0,s.useRef)(t);(0,s.useEffect)(()=>{l.current=t},[t]);const c=(0,s.useCallback)(()=>{try{const t=(()=>{const t="https:"===window.location.protocol?"wss:":"ws:",e=window.location.host;return e.includes("localhost:3000")?"ws://localhost:8001/ws/quotes":"".concat(t,"//").concat(e,"/ws/quotes")})();console.log("Connecting to WebSocket:",t);const e=new WebSocket(t);a.current=e,e.onopen=()=>{console.log("WebSocket connected"),n(!0)},e.onmessage=t=>{try{const e=JSON.parse(t.data);r(new Date),l.current&&l.current(e)}catch(fh){console.error("Error parsing WebSocket message:",fh)}},e.onclose=()=>{console.log("WebSocket disconnected"),n(!1),o.current=setTimeout(c,3e3)},e.onerror=t=>{console.error("WebSocket error:",t),n(!1)}}catch(fh){console.error("Failed to create WebSocket:",fh),n(!1)}},[]);(0,s.useEffect)(()=>(c(),()=>{a.current&&a.current.close(),o.current&&clearTimeout(o.current)}),[c]);return{isConnected:e,lastUpdate:i,subscribe:(0,s.useCallback)(t=>{a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({action:"subscribe",symbols:t}))},[]),unsubscribe:(0,s.useCallback)(t=>{a.current&&a.current.readyState===WebSocket.OPEN&&a.current.send(JSON.stringify({action:"unsubscribe",symbols:t}))},[])}},rh=()=>{let t=null;const e=()=>(t||(t=new(window.AudioContext||window.webkitAudioContext)),"suspended"===t.state&&t.resume(),t);return{playBullish:()=>{try{const t=e(),n=t.createOscillator(),i=t.createGain();n.connect(i),i.connect(t.destination),n.frequency.setValueAtTime(440,t.currentTime),n.frequency.exponentialRampToValueAtTime(880,t.currentTime+.2),i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3)}catch(fh){console.error("Audio playback failed:",fh)}},playBearish:()=>{try{const t=e(),n=t.createOscillator(),i=t.createGain();n.connect(i),i.connect(t.destination),n.frequency.setValueAtTime(880,t.currentTime),n.frequency.exponentialRampToValueAtTime(440,t.currentTime+.2),i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),n.start(t.currentTime),n.stop(t.currentTime+.3)}catch(fh){console.error("Audio playback failed:",fh)}},playUrgent:()=>{try{const t=e(),n=(e,n)=>{const i=t.createOscillator(),s=t.createGain();i.connect(s),s.connect(t.destination),i.frequency.setValueAtTime(n,e),s.gain.setValueAtTime(.4,e),s.gain.exponentialRampToValueAtTime(.01,e+.15),i.start(e),i.stop(e+.15)};n(t.currentTime,1e3),n(t.currentTime+.2,1200)}catch(fh){console.error("Audio playback failed:",fh)}}}},ah=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const[n,i]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(()=>{const t=localStorage.getItem("alertThreshold");return t?parseFloat(t):2}),c=(0,s.useRef)({}),u=(0,s.useRef)(null),h=(0,s.useRef)(new Set);(0,s.useEffect)(()=>{localStorage.setItem("alertThreshold",o.toString())},[o]);const d=(0,s.useCallback)(()=>{u.current||(u.current=rh())},[]),p=(0,s.useCallback)(t=>{if(!t||0===Object.keys(t).length)return;const n=[],s=Date.now(),a=e.length>0?e.map(t=>t.symbol):Object.keys(t);a.forEach(e=>{const i=t[e];if(!i)return;const a=c.current[e],l=i.price,d=i.change_percent||0;let p=!1,m="info",f="";if(Math.abs(d)>=o&&(p=!0,m=d>0?"bullish":"bearish",f="".concat(e," ").concat(d>0?"up":"down"," ").concat(Math.abs(d).toFixed(2),"%")),a&&l){const t=(l-a)/a*100;Math.abs(t)>=.5*o&&(p=!0,m=t>0?"bullish":"bearish",f="".concat(e," moved ").concat(t>0?"+":"").concat(t.toFixed(2),"% in real-time"))}const g="".concat(e,"-").concat(Math.floor(s/6e4));if(p&&!h.current.has(g)){if(h.current.add(g),h.current.size>100){const t=Array.from(h.current);h.current=new Set(t.slice(-50))}const t={id:"".concat(e,"-").concat(s),symbol:e,price:l,changePercent:d,type:m,message:f,timestamp:(new Date).toISOString(),read:!1};n.push(t),r&&u.current&&(Math.abs(d)>=2*o?u.current.playUrgent():"bullish"===m?u.current.playBullish():u.current.playBearish())}c.current[e]=l}),n.length>0&&i(t=>[...n,...t].slice(0,50))},[e,o,r]);(0,s.useEffect)(()=>{Object.keys(t).length>0&&p(t)},[t,p]);const m=(0,s.useCallback)(()=>{i([])},[]),f=(0,s.useCallback)(t=>{i(e=>e.filter(e=>e.id!==t))},[]);return{alerts:n,audioEnabled:r,setAudioEnabled:a,alertThreshold:o,setAlertThreshold:l,initializeAudio:d,clearAlerts:m,dismissAlert:f}},oh=Uo("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function lh(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function ch(t,e){return t.width===e.width&&t.height===e.height}var uh=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter(function(t){return t!==n})}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();var hh=function(){function t(t,e,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=lh({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(i=null===n||void 0===n?void 0:n.allowResizeObserver)||void 0===i||i,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return lh({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=lh(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;ch(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(n,t,e)})},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=lh(this._transformBitmapSize(t,this._canvasElementClientSize)),i=ch(this.bitmapSize,n)?null:n;null===e&&null===i||null!==e&&null!==i&&ch(e,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(e,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(n,t,e)})},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(t){return"devicePixelContentBoxSize"in t})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=dh(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new uh(t)}(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var n=dh(this._canvasElement);if(null!==n){var i=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:n.devicePixelRatio,s=this._canvasElement.getClientRects(),r=void 0!==s[0]?function(t,e){return lh({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(s[0],i):lh({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(r)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var n=e.find(function(e){return e.target===t._canvasElement});if(n&&n.devicePixelContentBoxSize&&n.devicePixelContentBoxSize[0]){var i=n.devicePixelContentBoxSize[0],s=lh({width:i.inlineSize,height:i.blockSize});t._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function dh(t){return t.ownerDocument.defaultView}var ph=function(){function t(t,e,n){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===n.width||0===n.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function mh(t,e){var n=t.canvasElementClientSize;if(0===n.width||0===n.height)return null;var i=t.bitmapSize;if(0===i.width||0===i.height)return null;var s=t.canvasElement.getContext("2d",e);return null===s?null:new ph(s,n,i)}const fh={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},gh={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},vh={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},xh={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},yh={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},bh={color:"#26a69a",base:0},wh={color:"#2196f3"},kh={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Sh,jh,Nh;function Ch(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function Eh(t,e,n,i){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(n,e+s),t.lineTo(i,e+s),t.stroke()}function zh(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Th(t){if(void 0===t)throw new Error("Value is undefined");return t}function Mh(t){if(null===t)throw new Error("Value is null");return t}function _h(t){return Mh(Th(t))}(Nh=Sh||(Sh={}))[Nh.Simple=0]="Simple",Nh[Nh.WithSteps=1]="WithSteps",Nh[Nh.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(jh||(jh={}));const Ph={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Ah(t){return t<0?0:t>255?255:Math.round(t)||0}function Lh(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const Rh=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Fh=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Dh=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Vh=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Oh(t){(t=t.toLowerCase())in Ph&&(t=Ph[t]);{const e=Vh.exec(t)||Dh.exec(t);if(e)return[Ah(parseInt(e[1],10)),Ah(parseInt(e[2],10)),Ah(parseInt(e[3],10)),Lh(e.length<5?1:parseFloat(e[4]))]}{const e=Fh.exec(t);if(e)return[Ah(parseInt(e[1],16)),Ah(parseInt(e[2],16)),Ah(parseInt(e[3],16)),1]}{const e=Rh.exec(t);if(e)return[Ah(17*parseInt(e[1],16)),Ah(17*parseInt(e[2],16)),Ah(17*parseInt(e[3],16)),1]}throw new Error("Cannot parse color: ".concat(t))}function Ih(t){return.199*t[0]+.687*t[1]+.114*t[2]}function Bh(t){const e=Oh(t);return{t:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")"),i:Ih(e)>160?"black":"white"}}class Wh{constructor(){this.h=[]}l(t,e,n){const i={o:t,_:e,u:!0===n};this.h.push(i)}v(t){const e=this.h.findIndex(e=>t===e.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,n){const i=[...this.h];this.h=this.h.filter(t=>!t.u),i.forEach(i=>i.o(t,e,n))}M(){return this.h.length>0}S(){this.h=[]}}function Uh(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const s of n)for(const e in s)void 0!==s[e]&&("object"!=typeof s[e]||void 0===t[e]||Array.isArray(s[e])?t[e]=s[e]:Uh(t[e],s[e]));return t}function $h(t){return"number"==typeof t&&isFinite(t)}function Hh(t){return"number"==typeof t&&t%1==0}function qh(t){return"string"==typeof t}function Kh(t){return"boolean"==typeof t}function Xh(t){const e=t;if(!e||"object"!=typeof e)return e;let n,i,s;for(i in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],n[i]=s&&"object"==typeof s?Xh(s):s);return n}function Gh(t){return null!==t}function Yh(t){return null===t?void 0:t}const Jh="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Qh(t,e,n){return void 0===e&&(e=Jh),"".concat(n=void 0!==n?"".concat(n," "):"").concat(t,"px ").concat(e)}class Zh{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=Qh(e,n),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class td{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,n){this.Y.forEach(i=>{i.X(t,e,n)})}}class ed{X(t,e,n){t.useBitmapCoordinateSpace(t=>this.K(t,e,n))}}class nd extends ed{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){let{context:e,horizontalPixelRatio:n,verticalPixelRatio:i}=t;if(null===this.G||null===this.G.tt)return;const s=this.G.tt,r=this.G,a=Math.max(1,Math.floor(n))%2/2,o=t=>{e.beginPath();for(let o=s.to-1;o>=s.from;--o){const s=r.it[o],l=Math.round(s.nt*n)+a,c=s.st*i,u=t*i+a;e.moveTo(l,c),e.arc(l,c,u,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,o(r.ht+r.et)),e.fillStyle=r.lt,o(r.ht)}}function id(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const sd={from:0,to:1};class rd{constructor(t,e){this.ut=new td,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(id),this.ct=this.dt.map(t=>{const e=new nd;return e.J(t),e}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=2===this.vt.W().mode,e=this.F.wt(),n=this.vt.xt(),i=this.F.St();e.forEach((e,s)=>{var r;const a=this.dt[s],o=e.kt(n);if(t||null===o||!e.yt())return void(a.tt=null);const l=Mh(e.Ct());a.lt=o.Tt,a.ht=o.ht,a.et=o.Pt,a.it[0]._t=o._t,a.it[0].st=e.Dt().Rt(o._t,l.Vt),a.rt=null!==(r=o.Ot)&&void 0!==r?r:this.F.Bt(a.it[0].st/e.Dt().At()),a.it[0].ot=n,a.it[0].nt=i.It(n),a.tt=sd})}}class ad extends ed{constructor(t){super(),this.zt=t}K(t){let{context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}=t;if(null===this.zt)return;const r=this.zt.Lt.yt,a=this.zt.Et.yt;if(!r&&!a)return;const o=Math.round(this.zt.nt*i),l=Math.round(this.zt.st*s);e.lineCap="butt",r&&o>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*i),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Ch(e,this.zt.Lt.Nt),function(t,e,n,i){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(e+s,0),t.lineTo(e+s,i),t.stroke()}(e,o,0,n.height)),a&&l>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*s),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Ch(e,this.zt.Et.Nt),Eh(e,l,0,n.width))}}class od{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new ad(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=Mh(this.jt.Ht()),n=e.$t().W().crosshair,i=this.Ft;if(2===n.mode)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=t&&this.jt.Ut(e),i.Lt.yt=t&&this.jt.qt(),i.Et.et=n.horzLine.width,i.Et.Nt=n.horzLine.style,i.Et.V=n.horzLine.color,i.Lt.et=n.vertLine.width,i.Lt.Nt=n.vertLine.style,i.Lt.V=n.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function ld(t,e,n,i,s,r){t.fillRect(e+r,n,i-2*r,r),t.fillRect(e+r,n+s-r,i-2*r,r),t.fillRect(e,n,r,s),t.fillRect(e+i-r,n,r,s)}function cd(t,e,n,i,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,n,i,s),t.restore()}function ud(t,e,n,i,s,r){t.beginPath(),t.roundRect?t.roundRect(e,n,i,s,r):(t.lineTo(e+i-r[1],n),0!==r[1]&&t.arcTo(e+i,n,e+i,n+r[1],r[1]),t.lineTo(e+i,n+s-r[2]),0!==r[2]&&t.arcTo(e+i,n+s,e+i-r[2],n+s,r[2]),t.lineTo(e+r[3],n+s),0!==r[3]&&t.arcTo(e,n+s,e,n+s-r[3],r[3]),t.lineTo(e,n+r[0]),0!==r[0]&&t.arcTo(e,n,e+r[0],n,r[0]))}function hd(t,e,n,i,s,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!a||!l||l===r)return ud(t,e,n,i,s,o),t.fillStyle=r,t.fill(),void t.restore();const c=a/2;var u;ud(t,e+c,n+c,i-a,s-a,(u=-c,o.map(t=>0===t?t:t+u))),"transparent"!==r&&(t.fillStyle=r,t.fill()),"transparent"!==l&&(t.lineWidth=a,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function dd(t,e,n,i,s,r,a){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,s);o.addColorStop(0,r),o.addColorStop(1,a),t.fillStyle=o,t.fillRect(e,n,i,s),t.restore()}class pd{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,n,i){if(!this.zt.yt||0===this.zt.Kt.length)return;const s=this.zt.V,r=this.Xt.t,a=t.useBitmapCoordinateSpace(t=>{const a=t.context;a.font=e.R;const o=this.Gt(t,e,n,i),l=o.Jt,c=(t,e)=>{o.Qt?hd(a,l.ti,l.ii,l.ni,l.si,t,l.ei,[l.ht,0,0,l.ht],e):hd(a,l.ri,l.ii,l.ni,l.si,t,l.ei,[0,l.ht,l.ht,0],e)};return c(r,"transparent"),this.zt.hi&&(a.fillStyle=s,a.fillRect(l.ri,l.li,l.ai-l.ri,l.oi)),c("transparent",r),this.zt._i&&(a.fillStyle=e.O,a.fillRect(o.Qt?l.ui-l.ei:0,l.ii,l.ei,l.ci-l.ii)),o});t.useMediaCoordinateSpace(t=>{let{context:n}=t;const i=a.di;n.font=e.R,n.textAlign=a.Qt?"right":"left",n.textBaseline="middle",n.fillStyle=s,n.fillText(this.zt.Kt,i.fi,(i.ii+i.ci)/2+i.pi)})}Gt(t,e,n,i){var s;const{context:r,bitmapSize:a,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=t,u=this.zt.hi||!this.zt.mi?e.T:0,h=this.zt.bi?e.C:0,d=e.L+this.Xt.wi,p=e.B+this.Xt.gi,m=e.A,f=e.I,g=this.zt.Kt,v=e.P,x=n.Mi(r,g),y=Math.ceil(n.xi(r,g)),b=v+d+p,w=e.C+m+f+y+u,k=Math.max(1,Math.floor(c));let S=Math.round(b*c);S%2!=k%2&&(S+=1);const j=h>0?Math.max(1,Math.floor(h*l)):0,N=Math.round(w*l),C=Math.round(u*l),E=null!==(s=this.Xt.Si)&&void 0!==s?s:this.Xt.ki,z=Math.round(E*c)-Math.floor(.5*c),T=Math.floor(z+k/2-S/2),M=T+S,_="right"===i,P=_?o.width-h:h,A=_?a.width-j:j;let L,R,F;return _?(L=A-N,R=A-C,F=P-u-m-h):(L=A+N,R=A+C,F=P+u+m),{Qt:_,Jt:{ii:T,li:z,ci:M,ni:N,si:S,ht:2*l,ei:j,ti:L,ri:A,ai:R,oi:k,ui:a.width},di:{ii:T/c,ci:M/c,fi:F,pi:x}}}}class md{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||pd)(this.Ci,this.yi),this.Ri=new(t||pd)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class fd extends md{constructor(t,e,n){super(),this.jt=t,this.Li=e,this.Ei=n}zi(t,e,n){if(t.yt=!1,2===this.jt.W().mode)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const s=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===s)return;const r=Bh(i.labelBackgroundColor);n.t=r.t,t.V=r.i;const a=2/12*this.Li.P();n.wi=a,n.gi=a;const o=this.Ei(this.Li);n.ki=o.ki,t.Kt=this.Li.Fi(o._t,s),t.yt=!0}}const gd=/[1-9]/g;class vd{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(null===this.zt||!1===this.zt.yt||0===this.zt.Kt.length)return;const n=t.useMediaCoordinateSpace(t=>{let{context:n}=t;return n.font=e.R,Math.round(e.Wi.xi(n,Mh(this.zt).Kt,gd))});if(n<=0)return;const i=e.ji,s=n+2*i,r=s/2,a=this.zt.Hi;let o=this.zt.ki,l=Math.floor(o-r)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-r)+.5):l+s>a&&(o-=Math.abs(a-(l+s)),l=Math.floor(o-r)+.5);const c=l+s,u=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(t=>{let{context:n,horizontalPixelRatio:i,verticalPixelRatio:s}=t;const r=Mh(this.zt);n.fillStyle=r.t;const a=Math.round(l*i),o=Math.round(0*s),h=Math.round(c*i),d=Math.round(u*s),p=Math.round(2*i);if(n.beginPath(),n.moveTo(a,o),n.lineTo(a,d-p),n.arcTo(a,d,a+p,d,p),n.lineTo(h-p,d),n.arcTo(h,d,h,d-p,p),n.lineTo(h,o),n.fill(),r.hi){const t=Math.round(r.ki*i),a=o,l=Math.round((a+e.T)*s);n.fillStyle=r.V;const c=Math.max(1,Math.floor(i)),u=Math.floor(.5*i);n.fillRect(t-u,a,c,l-a)}}),t.useMediaCoordinateSpace(t=>{let{context:n}=t;const s=Mh(this.zt),r=0+e.C+e.T+e.L+e.P/2;n.font=e.R,n.textAlign="left",n.textBaseline="middle",n.fillStyle=s.V;const a=e.Wi.Mi(n,"Apr0");n.translate(l+i,r+a),n.fillText(s.Kt,0,0)})}}class xd{constructor(t,e,n){this.ft=!0,this.Wt=new vd,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=n}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const n=this.$i.St();if(n.Ni())return;t.Hi=n.Hi();const i=this.Ei();if(null===i)return;t.ki=i.ki;const s=n.Ui(this.vt.xt());t.Kt=n.qi(Mh(s)),t.yt=!0;const r=Bh(e.labelBackgroundColor);t.t=r.t,t.V=r.i,t.hi=n.W().ticksVisible}}class yd{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var bd;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(bd||(bd={}));class wd extends yd{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new rd(t,this),this.fn=((t,e)=>n=>{const i=e(),s=t();if(n===Mh(this.tn).vn())return{_t:s,ki:i};{const t=Mh(n.Ct());return{_t:n.pn(i,t),ki:i}}})(()=>this.nn,()=>this.an);const n=((t,e)=>()=>{const n=this.$i.St().mn(t()),i=e();return n&&Number.isFinite(i)?{ot:n,ki:i}:null})(()=>this.sn,()=>this.Yt());this.bn=new xd(this,t,n),this.wn=new od(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,n){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,n)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const n=[];return this.tn===t&&n.push(this.Dn(this.rn,e,this.fn)),n}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,n){this.Bn(t,e,n)&&this.Vn()}Bn(t,e,n){const i=this.ln,s=this.an,r=this.nn,a=this.sn,o=this.tn,l=this.On(n);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=n;const c=null!==l?l.Ct():null;return null!==l&&null!==c?(this.nn=e,this.an=l.Rt(e,c)):(this.nn=NaN,this.an=NaN),i!==this.ln||s!==this.an||a!==this.sn||r!==this.nn||o!==this.tn}Tn(){const t=this.$i.wt().map(t=>t.In().An()).filter(Gh),e=0===t.length?null:Math.max(...t);this.sn=null!==e?e:NaN}Dn(t,e,n){let i=t.get(e);return void 0===i&&(i=new fd(this,e,n),t.set(e,i)),i}}function kd(t){return"left"===t||"right"===t}class Sd{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const n=function(t,e){return void 0===t?e:{Fn:Math.max(t.Fn,e.Fn),Wn:t.Wn||e.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return void 0===e?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((t,e)=>{this.Nn(e,t)})}static ss(){return new Sd(2)}static es(){return new Sd(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(t=>5===t.qn);-1!==t&&this.Ln.splice(t,1)}}function jd(t,e){if(!$h(t))return"n/a";if(!Hh(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Nd{constructor(t,e){if(e||(e=1),$h(t)&&Hh(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const e=this.Li/this.rs;let n=Math.floor(t),i="";const s=void 0!==this.os?this.os:NaN;if(e>1){let r=+(Math.round(t*e)-n*e).toFixed(this.os);r>=e&&(r-=e,n+=1),i="."+jd(+r.toFixed(this.os)*this.rs,s)}else n=Math.round(n*e)/e,s>0&&(i="."+jd(0,s));return n.toFixed(0)+i}}class Cd extends Nd{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return"".concat(super.format(t),"%")}}class Ed{constructor(t){this._s=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}us(t){let e;const n=Math.pow(10,this._s);return e=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}function zd(t,e,n,i,s,r,a){if(0===e.length||i.from>=e.length||i.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=t,u=e[i.from];let h=r(t,u),d=u;if(i.to-i.from<2){const e=s/2;o.beginPath();const n={nt:u.nt-e,st:u.st},i={nt:u.nt+e,st:u.st};o.moveTo(n.nt*l,n.st*c),o.lineTo(i.nt*l,i.st*c),a(t,h,n,i)}else{const s=(e,n)=>{a(t,h,d,n),o.beginPath(),h=e,d=n};let p=d;o.beginPath(),o.moveTo(u.nt*l,u.st*c);for(let a=i.from+1;a<i.to;++a){p=e[a];const i=r(t,p);switch(n){case 0:o.lineTo(p.nt*l,p.st*c);break;case 1:o.lineTo(p.nt*l,e[a-1].st*c),i!==h&&(s(i,p),o.lineTo(p.nt*l,e[a-1].st*c)),o.lineTo(p.nt*l,p.st*c);break;case 2:{const[t,n]=Pd(e,a-1,a);o.bezierCurveTo(t.nt*l,t.st*c,n.nt*l,n.st*c,p.nt*l,p.st*c);break}}1!==n&&i!==h&&(s(i,p),o.moveTo(p.nt*l,p.st*c))}(d!==p||d===p&&1===n)&&a(t,h,d,p)}}const Td=6;function Md(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function _d(t,e){return{nt:t.nt/e,st:t.st/e}}function Pd(t,e,n){const i=Math.max(0,e-1),s=Math.min(t.length-1,n+1);var r,a;return[(r=t[e],a=_d(Md(t[n],t[i]),Td),{nt:r.nt+a.nt,st:r.st+a.st}),Md(t[n],_d(Md(t[s],t[e]),Td))]}function Ad(t,e,n,i,s){const{context:r,horizontalPixelRatio:a,verticalPixelRatio:o}=e;r.lineTo(s.nt*a,t*o),r.lineTo(i.nt*a,t*o),r.closePath(),r.fillStyle=n,r.fill()}class Ld extends ed{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(null===this.G)return;const{it:n,tt:i,cs:s,et:r,Nt:a,ds:o}=this.G,l=null!==(e=this.G.fs)&&void 0!==e?e:this.G.vs?0:t.mediaSize.height;if(null===i)return;const c=t.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=r,Ch(c,a),c.lineWidth=1,zd(t,n,o,i,s,this.ps.bind(this),Ad.bind(null,l))}}function Rd(t,e,n){return Math.min(Math.max(t,e),n)}function Fd(t,e,n){return e-t<=n}function Dd(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Vd{bs(t,e){const n=this.ws,{gs:i,Ms:s,xs:r,Ss:a,ks:o,fs:l}=e;if(void 0===this.ys||void 0===n||n.gs!==i||n.Ms!==s||n.xs!==r||n.Ss!==a||n.fs!==l||n.ks!==o){const n=t.context.createLinearGradient(0,0,0,o);if(n.addColorStop(0,i),null!=l){const e=Rd(l*t.verticalPixelRatio/o,0,1);n.addColorStop(e,s),n.addColorStop(e,r)}n.addColorStop(1,a),this.ys=n,this.ws=e}return this.ys}}class Od extends Ld{constructor(){super(...arguments),this.Cs=new Vd}ps(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}}function Id(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class Bd extends ed{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(null===this.G)return;const{it:e,tt:n,cs:i,ds:s,et:r,Nt:a,Rs:o}=this.G;if(null===n)return;const l=t.context;l.lineCap="butt",l.lineWidth=r*t.verticalPixelRatio,Ch(l,a),l.lineJoin="round";const c=this.Ds.bind(this);void 0!==s&&zd(t,e,s,n,i,c,Id),o&&function(t,e,n,i,s){const{horizontalPixelRatio:r,verticalPixelRatio:a,context:o}=t;let l=null;const c=Math.max(1,Math.floor(r))%2/2,u=n*a+c;for(let h=i.to-1;h>=i.from;--h){const n=e[h];if(n){const e=s(t,n);e!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=e,l=e);const i=Math.round(n.nt*r)+c,h=n.st*a;o.moveTo(i,h),o.arc(i,h,u,0,2*Math.PI)}}o.fill()}(t,e,o,n,c)}}class Wd extends Bd{Ds(t,e){return e.lt}}function Ud(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-s;for(;0<r;){const a=r>>1,o=s+a;i(e[o],n)===t?(s=o+1,r-=a+1):r=a}return s}const $d=Ud.bind(null,!0),Hd=Ud.bind(null,!1);function qd(t,e){return t.ot<e}function Kd(t,e){return e<t.ot}function Xd(t,e,n){const i=e.Vs(),s=e.ui(),r=$d(t,i,qd),a=Hd(t,s,Kd);if(!n)return{from:r,to:a};let o=r,l=a;return r>0&&r<t.length&&t[r].ot>=i&&(o=r-1),a>0&&a<t.length&&t[a-1].ot<=s&&(l=a+1),{from:o,to:l}}class Gd{constructor(t,e,n){this.Os=!0,this.Bs=!0,this.As=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=e,this.Ns=n}bt(t){this.Os=!0,"data"===t&&(this.Bs=!0),"options"===t&&(this.As=!0)}gt(){return this.Ls.yt()?(this.Fs(),null===this.zs?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.As&&(this.js(),this.As=!1),this.Os&&(this.Ys(),this.Os=!1)}Ys(){const t=this.Ls.Dt(),e=this.Es.St();if(this.Us(),e.Ni()||t.Ni())return;const n=e.Zs();if(null===n)return;if(0===this.Ls.In().Xs())return;const i=this.Ls.Ct();null!==i&&(this.zs=Xd(this.Is,n,this.Ns),this.Ks(t,e,i.Vt),this.Gs())}}class Yd extends Gd{constructor(t,e){super(t,e,!0)}Ks(t,e,n){e.Js(this.Is,Yh(this.zs)),t.Qs(this.Is,n,Yh(this.zs))}te(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>{const n=e.Vt[3];return this.ne(e.se,n,t)})}}class Jd extends Yd{constructor(t,e){super(t,e),this.Ws=new td,this.ee=new Od,this.re=new Wd,this.Ws.Z([this.ee,this.re])}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class Qd extends ed{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}K(t){let{context:e,horizontalPixelRatio:n,verticalPixelRatio:i}=t;if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;this.le=this.oe(n),this.le>=2&&Math.max(1,Math.floor(n))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(n)):this.le;let s=null;const r=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*n);for(let a=this.zt.tt.from;a<this.zt.tt.to;++a){const t=this.zt.In[a];s!==t.ue&&(e.fillStyle=t.ue,s=t.ue);const o=Math.floor(.5*this.ae),l=Math.round(t.nt*n),c=l-o,u=this.ae,h=c+u-1,d=Math.min(t.ce,t.de),p=Math.max(t.ce,t.de),m=Math.round(d*i)-o,f=Math.round(p*i)+o,g=Math.max(f-m,this.ae);e.fillRect(c,m,u,g);const v=Math.ceil(1.5*this.le);if(r){if(this.zt.fe){const n=l-v;let s=Math.max(m,Math.round(t.ve*i)-o),r=s+u-1;r>m+g-1&&(r=m+g-1,s=r-u+1),e.fillRect(n,s,c-n,r-s+1)}const n=l+v;let s=Math.max(m,Math.round(t.pe*i)-o),r=s+u-1;r>m+g-1&&(r=m+g-1,s=r-u+1),e.fillRect(h+1,s,n-h,r-s+1)}}}oe(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(Mh(this.zt).he,t)))}}class Zd extends Gd{constructor(t,e){super(t,e,!1)}Ks(t,e,n){e.Js(this.Is,Yh(this.zs)),t.me(this.Is,n,Yh(this.zs))}be(t,e,n){return{ot:t,we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>this.ne(e.se,e,t))}}class tp extends Zd{constructor(){super(...arguments),this.Ws=new Qd}ne(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}}class ep extends Ld{constructor(){super(...arguments),this.Cs=new Vd}ps(t,e){const n=this.G;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:n.fs})}}class np extends Bd{constructor(){super(...arguments),this.Te=new Vd}Ds(t,e){const n=this.G;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:n.fs})}}class ip extends Yd{constructor(t,e){super(t,e),this.Ws=new td,this.De=new ep,this.Ve=new np,this.Ws.Z([this.De,this.Ve])}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Ls.Ct();if(null===t)return;const e=this.Ls.W(),n=this.Ls.Dt().Rt(e.baseValue.price,t.Vt),i=this.Es.St().he();this.De.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineType,fs:n,vs:!1,tt:this.zs,cs:i}),this.Ve.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:n,tt:this.zs,cs:i})}}class sp extends ed{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}K(t){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;const{horizontalPixelRatio:e}=t;this.le=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),i=Math.floor(t*n*e),s=Math.floor(t*e),r=Math.min(i,s);return Math.max(Math.floor(e),r)}(this.zt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;const n=this.zt.In;this.zt.Oe&&this.Be(t,n,this.zt.tt),this.zt._i&&this.Ae(t,n,this.zt.tt);const i=this.Ie(e);(!this.zt._i||this.le>2*i)&&this.ze(t,n,this.zt.tt)}Be(t,e,n){if(null===this.zt)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:r}=t;let a="",o=Math.min(Math.floor(s),Math.floor(this.zt.he*s));o=Math.max(Math.floor(s),Math.min(o,this.le));const l=Math.floor(.5*o);let c=null;for(let u=n.from;u<n.to;u++){const t=e[u];t.Le!==a&&(i.fillStyle=t.Le,a=t.Le);const n=Math.round(Math.min(t.ve,t.pe)*r),h=Math.round(Math.max(t.ve,t.pe)*r),d=Math.round(t.ce*r),p=Math.round(t.de*r);let m=Math.round(s*t.nt)-l;const f=m+o-1;null!==c&&(m=Math.max(c+1,m),m=Math.min(m,f));const g=f-m+1;i.fillRect(m,d,g,n-d),i.fillRect(m,h+1,g,p-h),c=f}}Ie(t){let e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));const n=Math.max(Math.floor(t),e);return this.le<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}Ae(t,e,n){if(null===this.zt)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:r}=t;let a="";const o=this.Ie(s);let l=null;for(let c=n.from;c<n.to;c++){const t=e[c];t.Ee!==a&&(i.fillStyle=t.Ee,a=t.Ee);let n=Math.round(t.nt*s)-Math.floor(.5*this.le);const u=n+this.le-1,h=Math.round(Math.min(t.ve,t.pe)*r),d=Math.round(Math.max(t.ve,t.pe)*r);if(null!==l&&(n=Math.max(l+1,n),n=Math.min(n,u)),this.zt.he*s>2*o)ld(i,n,h,u-n+1,d-h+1,o);else{const t=u-n+1;i.fillRect(n,h,t,d-h+1)}l=u}}ze(t,e,n){if(null===this.zt)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:r}=t;let a="";const o=this.Ie(s);for(let l=n.from;l<n.to;l++){const t=e[l];let n=Math.round(Math.min(t.ve,t.pe)*r),c=Math.round(Math.max(t.ve,t.pe)*r),u=Math.round(t.nt*s)-Math.floor(.5*this.le),h=u+this.le-1;if(t.ue!==a){const e=t.ue;i.fillStyle=e,a=e}this.zt._i&&(u+=o,n+=o,h-=o,c-=o),n>c||i.fillRect(u,n,h-u+1,c-n+1)}}}class rp extends Zd{constructor(){super(...arguments),this.Ws=new sp}ne(t,e,n){return Object.assign(Object.assign({},this.be(t,e,n)),n.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Oe:t.wickVisible,_i:t.borderVisible,tt:this.zs})}}class ap{constructor(t,e){this.Ne=t,this.Li=e}X(t,e,n){this.Ne.draw(t,this.Li,e,n)}}class op extends Gd{constructor(t,e,n){super(t,e,!1),this.wn=n,this.Ws=new ap(this.wn.renderer(),e=>{const n=t.Ct();return null===n?null:t.Dt().Rt(e,n.Vt)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>Object.assign(Object.assign({ot:e.se,nt:NaN},t.Hs(e.se)),{je:e.He}))}Ks(t,e){e.Js(this.Is,Yh(this.zs))}Gs(){this.wn.update({bars:this.Is.map(lp),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function lp(t){return{x:t.nt,time:t.ot,originalData:t.je,barColor:t.ue}}class cp extends ed{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}K(t){let{context:e,horizontalPixelRatio:n,verticalPixelRatio:i}=t;if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.$e.length||this.Ue(n);const s=Math.max(1,Math.floor(i)),r=Math.round(this.zt.qe*i)-Math.floor(s/2),a=r+s;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const t=this.zt.it[o],n=this.$e[o-this.zt.tt.from],l=Math.round(t.st*i);let c,u;e.fillStyle=t.ue,l<=r?(c=l,u=a):(c=r,u=l-Math.floor(s/2)+s),e.fillRect(n.Vs,c,n.ui-n.Vs+1,u-c)}}Ue(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.$e=[]);const e=Math.ceil(this.zt.he*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.zt.he*t)-e;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const e=this.zt.it[s],i=Math.round(e.nt*t);let r,a;if(n%2){const t=(n-1)/2;r=i-t,a=i+t}else{const t=n/2;r=i-t,a=i+t-1}this.$e[s-this.zt.tt.from]={Vs:r,ui:a,Ye:i,Ze:e.nt*t,ot:e.ot}}for(let s=this.zt.tt.from+1;s<this.zt.tt.to;s++){const t=this.$e[s-this.zt.tt.from],n=this.$e[s-this.zt.tt.from-1];t.ot===n.ot+1&&t.Vs-n.ui!==e+1&&(n.Ye>n.Ze?n.ui=t.Vs-e-1:t.Vs=n.ui+e+1)}let i=Math.ceil(this.zt.he*t);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const t=this.$e[s-this.zt.tt.from];t.ui<t.Vs&&(t.ui=t.Vs);const e=t.ui-t.Vs+1;i=Math.min(e,i)}if(e>0&&i<4)for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const t=this.$e[s-this.zt.tt.from];t.ui-t.Vs+1>i&&(t.Ye>t.Ze?t.ui-=1:t.Vs+=1)}}}class up extends Yd{constructor(){super(...arguments),this.Ws=new cp}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,Mh(this.Ls.Ct()).Vt)};this.Ws.J(t)}}class hp extends Yd{constructor(){super(...arguments),this.Ws=new Wd}ne(t,e,n){return Object.assign(Object.assign({},this.te(t,e)),n.Hs(t))}Gs(){const t=this.Ls.W(),e={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(e)}}const dp=/[2-9]/g;class pp{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.Xe=0,this.Ke=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Xe=0,this.Qe.clear(),this.Ke=1,this.Ge=1,this.Je={}}xi(t,e,n){return this.nr(t,e,n).width}Mi(t,e,n){const i=this.nr(t,e,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}nr(t,e,n){const i=n||dp,s=String(e).replace(i,"0");if(this.Qe.has(s))return Th(this.Qe.get(s)).sr;if(this.Xe===this.tr){const t=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(t),this.Ge++,this.Xe--}t.save(),t.textBaseline="middle";const r=t.measureText(s);return t.restore(),0===r.width&&e.length||(this.Qe.set(s,{sr:r,er:this.Ke}),this.Je[this.Ke]=s,this.Xe++,this.Ke++),r}}class mp{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,e,n){this.rr=t,this.k=e,this.hr=n}X(t){null!==this.k&&null!==this.rr&&this.rr.X(t,this.k,this.lr,this.hr)}}class fp{constructor(t,e,n){this._r=t,this.lr=new pp(50),this.ur=e,this.F=n,this.j=-1,this.Wt=new mp(this.lr)}gt(){const t=this.F.cr(this.ur);if(null===t)return null;const e=t.dr(this.ur)?t.vr():this.ur.Dt();if(null===e)return null;const n=t.pr(e);if("overlay"===n)return null;const i=this.F.mr();return i.P!==this.j&&(this.j=i.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),i,n),this.Wt}}class gp extends ed{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,e){var n;if(!(null===(n=this.zt)||void 0===n?void 0:n.yt))return null;const{st:i,et:s,wr:r}=this.zt;return e>=i-s-7&&e<=i+s+7?{gr:this.zt,wr:r}:null}K(t){let{context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}=t;if(null===this.zt)return;if(!1===this.zt.yt)return;const r=Math.round(this.zt.st*s);r<0||r>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*i),Ch(e,this.zt.Nt),Eh(e,r,0,n.width))}}class vp{constructor(t){this.Mr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new gp,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class xp extends vp{constructor(t){super(t)}kr(){this.Mr.yt=!1;const t=this.Ls.Dt(),e=t.yr().yr;if(2!==e&&3!==e)return;const n=this.Ls.W();if(!n.baseLineVisible||!this.Ls.yt())return;const i=this.Ls.Ct();null!==i&&(this.Mr.yt=!0,this.Mr.st=t.Rt(i.Vt,i.Vt),this.Mr.V=n.baseLineColor,this.Mr.et=n.baseLineWidth,this.Mr.Nt=n.baseLineStyle)}}class yp extends ed{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}K(t){let{context:e,horizontalPixelRatio:n,verticalPixelRatio:i}=t;const s=this.zt;if(null===s)return;const r=Math.max(1,Math.floor(n)),a=r%2/2,o=Math.round(s.Ze.x*n)+a,l=s.Ze.y*i;e.fillStyle=s.Cr,e.beginPath();const c=Math.max(2,1.5*s.Tr)*n;e.arc(o,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.Pr,e.beginPath(),e.arc(o,l,s.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.Rr,e.beginPath(),e.arc(o,l,s.ht*n+r/2,0,2*Math.PI,!1),e.stroke()}}const bp=[{Dr:0,Vr:.25,Or:4,Br:10,Ar:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Vr:.525,Or:10,Br:14,Ar:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Vr:1,Or:14,Br:14,Ar:0,Ir:0,zr:0,Lr:0}];function wp(t,e,n,i){return function(t,e){if("transparent"===t)return t;const n=Oh(t),i=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(e*i,")")}(t,n+(i-n)*e)}function kp(t,e){const n=t%2600/2600;let i;for(const l of bp)if(n>=l.Dr&&n<=l.Vr){i=l;break}zh(void 0!==i,"Last price animation internal logic error");const s=(n-i.Dr)/(i.Vr-i.Dr);return{Pr:wp(e,s,i.Ar,i.Ir),Rr:wp(e,s,i.zr,i.Lr),ht:(r=s,a=i.Or,o=i.Br,a+(o-a)*r)};var r,a,o}class Sp{constructor(t){this.Wt=new yp,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),2===this.Wr.W().lastPriceAnimation){const t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return 0!==this.Wr.W().lastPriceAnimation}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Wr.$t().St(),e=t.Zs(),n=this.Wr.Ct();if(null===e||null===n)return;const i=this.Wr.Yr(!0);if(i.Zr||!e.Xr(i.se))return;const s={x:t.It(i.se),y:this.Wr.Dt().Rt(i._t,n.Vt)},r=i.V,a=this.Wr.W().lineWidth,o=kp(this.Kr(),r);this.Wt.J({Cr:r,Tr:a,Pr:o.Pr,Rr:o.Rr,ht:o.ht,Ze:s})}qr(){const t=this.Wt.He();if(null!==t){const e=kp(this.Kr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ht=e.ht}}Kr(){return this.Ur()?performance.now()-this.Nr:2599}}function jp(t,e){return Dd(Math.min(Math.max(t,12),30)*e)}function Np(t,e){switch(t){case"arrowDown":case"arrowUp":return jp(e,1);case"circle":return jp(e,.8);case"square":return jp(e,.7)}}function Cp(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(jp(t,1))}function Ep(t){return Math.max(jp(t,.1),3)}function zp(t,e,n){return e?t:n?Math.ceil(t/2):0}function Tp(t,e,n,i,s){const r=Np("square",n),a=(r-1)/2,o=t-a,l=e-a;return i>=o&&i<=o+r&&s>=l&&s<=l+r}function Mp(t,e,n,i){const s=(Np("arrowUp",i)-1)/2*n.Gr,r=(Dd(i/2)-1)/2*n.Gr;e.beginPath(),t?(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st-s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st+s),e.lineTo(n.nt-r,n.st+s),e.lineTo(n.nt-r,n.st)):(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st+s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st-s),e.lineTo(n.nt-r,n.st-s),e.lineTo(n.nt-r,n.st)),e.fill()}class _p extends ed{constructor(){super(...arguments),this.zt=null,this.lr=new pp,this.j=-1,this.H="",this.Jr=""}J(t){this.zt=t}ar(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Jr=Qh(t,e),this.lr.ir())}br(t,e){if(null===this.zt||null===this.zt.tt)return null;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const i=this.zt.it[n];if(Ap(i,t,e))return{gr:i.Qr,wr:i.wr}}return null}K(t,e,n){let{context:i,horizontalPixelRatio:s,verticalPixelRatio:r}=t;if(null!==this.zt&&null!==this.zt.tt){i.textBaseline="middle",i.font=this.Jr;for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){const e=this.zt.it[t];void 0!==e.Kt&&(e.Kt.Hi=this.lr.xi(i,e.Kt.th),e.Kt.At=this.j,e.Kt.nt=e.nt-e.Kt.Hi/2),Pp(e,i,s,r)}}}}function Pp(t,e,n,i){e.fillStyle=t.V,void 0!==t.Kt&&function(t,e,n,i,s,r){t.save(),t.scale(s,r),t.fillText(e,n,i),t.restore()}(e,t.Kt.th,t.Kt.nt,t.Kt.st,n,i),function(t,e,n){if(0!==t.Xs){switch(t.ih){case"arrowDown":return void Mp(!1,e,n,t.Xs);case"arrowUp":return void Mp(!0,e,n,t.Xs);case"circle":return void function(t,e,n){const i=(Np("circle",n)-1)/2;t.beginPath(),t.arc(e.nt,e.st,i*e.Gr,0,2*Math.PI,!1),t.fill()}(e,n,t.Xs);case"square":return void function(t,e,n){const i=Np("square",n),s=(i-1)*e.Gr/2,r=e.nt-s,a=e.st-s;t.fillRect(r,a,i*e.Gr,i*e.Gr)}(e,n,t.Xs)}t.ih}}(t,e,function(t,e,n){const i=Math.max(1,Math.floor(e))%2/2;return{nt:Math.round(t.nt*e)+i,st:t.st*n,Gr:e}}(t,n,i))}function Ap(t,e,n){return!(void 0===t.Kt||!function(t,e,n,i,s,r){const a=i/2;return s>=t&&s<=t+n&&r>=e-a&&r<=e+a}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(t,e,n){if(0===t.Xs)return!1;switch(t.ih){case"arrowDown":case"arrowUp":return function(t,e,n,i,s,r){return Tp(e,n,i,s,r)}(0,t.nt,t.st,t.Xs,e,n);case"circle":return function(t,e,n,i,s){const r=2+Np("circle",n)/2,a=t-i,o=e-s;return Math.sqrt(a*a+o*o)<=r}(t.nt,t.st,t.Xs,e,n);case"square":return Tp(t.nt,t.st,t.Xs,e,n)}}(t,e,n)}function Lp(t,e,n,i,s,r,a,o,l){const c=$h(n)?n:n.xe,u=$h(n)?n:n.ge,h=$h(n)?n:n.Me,d=$h(e.size)?Math.max(e.size,0):1,p=Cp(o.he())*d,m=p/2;switch(t.Xs=p,e.position){case"inBar":return t.st=a.Rt(c,l),void(void 0!==t.Kt&&(t.Kt.st=t.st+m+r+.6*s));case"aboveBar":return t.st=a.Rt(u,l)-m-i.nh,void 0!==t.Kt&&(t.Kt.st=t.st-m-.6*s,i.nh+=1.2*s),void(i.nh+=p+r);case"belowBar":return t.st=a.Rt(h,l)+m+i.sh,void 0!==t.Kt&&(t.Kt.st=t.st+m+r+.6*s,i.sh+=1.2*s),void(i.sh+=p+r)}e.position}class Rp{constructor(t,e){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new _p,this.Wr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,"data"===t&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();const e=this.$i.W().layout;return this.Wt.ar(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const t=this.$i.St().he(),e=Ep(t),n=1.5*Cp(t)+2*e,i=this.dh();this.hh={above:zp(n,i.aboveBar,i.inBar),below:zp(n,i.belowBar,i.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return null===this.ah&&(this.ah=this.Wr.uh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const t=this.Wr.Dt(),e=this.$i.St(),n=this.Wr.uh();this.eh&&(this.zt.it=n.map(t=>({ot:t.time,nt:0,st:0,Xs:0,ih:t.shape,V:t.color,Qr:t.Qr,wr:t.id,Kt:void 0})),this.eh=!1);const i=this.$i.W().layout;this.zt.tt=null;const s=e.Zs();if(null===s)return;const r=this.Wr.Ct();if(null===r)return;if(0===this.zt.it.length)return;let a=NaN;const o=Ep(e.he()),l={nh:o,sh:o};this.zt.tt=Xd(this.zt.it,s,!0);for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const s=n[c];s.time!==a&&(l.nh=o,l.sh=o,a=s.time);const u=this.zt.it[c];u.nt=e.It(s.time),void 0!==s.text&&s.text.length>0&&(u.Kt={th:s.text,nt:0,st:0,Hi:0,At:0});const h=this.Wr.fh(s.time);null!==h&&Lp(u,s,h,l,i.fontSize,o,t,e,r.Vt)}this.ft=!1}}class Fp extends vp{constructor(t){super(t)}kr(){const t=this.Mr;t.yt=!1;const e=this.Ls.W();if(!e.priceLineVisible||!this.Ls.yt())return;const n=this.Ls.Yr(0===e.priceLineSource);n.Zr||(t.yt=!0,t.st=n.ki,t.V=this.Ls.ph(n.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class Dp extends md{constructor(t){super(),this.jt=t}zi(t,e,n){t.yt=!1,e.yt=!1;const i=this.jt;if(!i.yt())return;const s=i.W(),r=s.lastValueVisible,a=""!==i.mh(),o=0===s.seriesLastValueMode,l=i.Yr(!1);if(l.Zr)return;r&&(t.Kt=this.bh(l,r,o),t.yt=0!==t.Kt.length),(a||o)&&(e.Kt=this.wh(l,r,a,o),e.yt=e.Kt.length>0);const c=i.ph(l.V),u=Bh(c);n.t=u.t,n.ki=l.ki,e.Ot=i.$t().Bt(l.ki/i.Dt().At()),t.Ot=c,t.V=u.i,e.V=u.i}wh(t,e,n,i){let s="";const r=this.jt.mh();return n&&0!==r.length&&(s+="".concat(r," ")),e&&i&&(s+=this.jt.Dt().gh()?t.Mh:t.xh),s.trim()}bh(t,e,n){return e?n?this.jt.Dt().gh()?t.xh:t.Mh:t.Kt:""}}function Vp(t,e,n,i){const s=Number.isFinite(e),r=Number.isFinite(n);return s&&r?t(e,n):s||r?s?e:n:i}class Op{constructor(t,e){this.Sh=t,this.kh=e}yh(t){return null!==t&&this.Sh===t.Sh&&this.kh===t.kh}Ch(){return new Op(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return null===t?this:new Op(Vp(Math.min,this.Th(),t.Th(),-1/0),Vp(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!$h(t))return;if(0===this.kh-this.Sh)return;const e=.5*(this.kh+this.Sh);let n=this.kh-e,i=this.Sh-e;n*=t,i*=t,this.kh=e+n,this.Sh=e+i}Vh(t){$h(t)&&(this.kh+=t,this.Sh+=t)}Oh(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return null===t?null:new Op(t.minValue,t.maxValue)}}class Ip{constructor(t,e){this.Ah=t,this.Ih=e||null}zh(){return this.Ah}Lh(){return this.Ih}Oh(){return null===this.Ah?null:{priceRange:this.Ah.Oh(),margins:this.Ih||void 0}}static Bh(t){return null===t?null:new Ip(Op.Bh(t.priceRange),t.margins)}}class Bp extends vp{constructor(t,e){super(t),this.Eh=e}kr(){const t=this.Mr;t.yt=!1;const e=this.Eh.W();if(!this.Ls.yt()||!e.lineVisible)return;const n=this.Eh.Nh();null!==n&&(t.yt=!0,t.st=n,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.wr=this.Eh.W().id)}}class Wp extends md{constructor(t,e){super(),this.Wr=t,this.Eh=e}zi(t,e,n){t.yt=!1,e.yt=!1;const i=this.Eh.W(),s=i.axisLabelVisible,r=""!==i.title,a=this.Wr;if(!s||!a.yt())return;const o=this.Eh.Nh();if(null===o)return;r&&(e.Kt=i.title,e.yt=!0),e.Ot=a.$t().Bt(o/a.Dt().At()),t.Kt=this.Fh(i.price),t.yt=!0;const l=Bh(i.axisLabelColor||i.color);n.t=l.t;const c=i.axisLabelTextColor||l.i;t.V=c,e.V=c,n.ki=o}Fh(t){const e=this.Wr.Ct();return null===e?"":this.Wr.Dt().Fi(t,e.Vt)}}class Up{constructor(t,e){this.Wr=t,this.cn=e,this.Wh=new Bp(t,this),this._r=new Wp(t,this),this.jh=new fp(this._r,t,t.$t())}Hh(t){Uh(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const t=this.Wr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const n=t.Ct();return null===n?null:e.Rt(this.cn.price,n.Vt)}}class $p extends yd{constructor(t){super(),this.$i=t}$t(){return this.$i}}const Hp={Bar:(t,e,n,i)=>{var s;const r=e.upColor,a=e.downColor,o=Mh(t(n,i)),l=_h(o.Vt[0])<=_h(o.Vt[3]);return{ue:null!==(s=o.V)&&void 0!==s?s:l?r:a}},Candlestick:(t,e,n,i)=>{var s,r,a;const o=e.upColor,l=e.downColor,c=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,d=e.wickDownColor,p=Mh(t(n,i)),m=_h(p.Vt[0])<=_h(p.Vt[3]);return{ue:null!==(s=p.V)&&void 0!==s?s:m?o:l,Ee:null!==(r=p.Ot)&&void 0!==r?r:m?c:u,Le:null!==(a=p.Zh)&&void 0!==a?a:m?h:d}},Custom:(t,e,n,i)=>{var s;return{ue:null!==(s=Mh(t(n,i)).V)&&void 0!==s?s:e.color}},Area:(t,e,n,i)=>{var s,r,a,o;const l=Mh(t(n,i));return{ue:null!==(s=l.lt)&&void 0!==s?s:e.lineColor,lt:null!==(r=l.lt)&&void 0!==r?r:e.lineColor,Ts:null!==(a=l.Ts)&&void 0!==a?a:e.topColor,Ps:null!==(o=l.Ps)&&void 0!==o?o:e.bottomColor}},Baseline:(t,e,n,i)=>{var s,r,a,o,l,c;const u=Mh(t(n,i));return{ue:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Pe:null!==(s=u.Pe)&&void 0!==s?s:e.topLineColor,Re:null!==(r=u.Re)&&void 0!==r?r:e.bottomLineColor,Se:null!==(a=u.Se)&&void 0!==a?a:e.topFillColor1,ke:null!==(o=u.ke)&&void 0!==o?o:e.topFillColor2,ye:null!==(l=u.ye)&&void 0!==l?l:e.bottomFillColor1,Ce:null!==(c=u.Ce)&&void 0!==c?c:e.bottomFillColor2}},Line:(t,e,n,i)=>{var s,r;const a=Mh(t(n,i));return{ue:null!==(s=a.V)&&void 0!==s?s:e.color,lt:null!==(r=a.V)&&void 0!==r?r:e.color}},Histogram:(t,e,n,i)=>{var s;return{ue:null!==(s=Mh(t(n,i)).V)&&void 0!==s?s:e.color}}};class qp{constructor(t){this.Xh=(t,e)=>void 0!==e?e.Vt:this.Wr.In().Kh(t),this.Wr=t,this.Gh=Hp[t.Jh()]}Hs(t,e){return this.Gh(this.Xh,this.Wr.W(),t,e)}}var Kp;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Kp||(Kp={}));const Xp=30;class Gp{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Xs()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Xs()>0?this.el(0):null}An(){return this.Xs()>0?this.el(this.Qh.length-1):null}Xs(){return this.Qh.length}Ni(){return 0===this.Xs()}Xr(t){return null!==this.rl(t,0)}Kh(t){return this.hl(t)}hl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.rl(t,e);return null===n?null:Object.assign(Object.assign({},this.ll(n)),{se:this.el(n)})}ie(){return this.Qh}al(t,e,n){if(this.Ni())return null;let i=null;for(const s of n)i=Yp(i,this.ol(t,e,s));return i}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,e){const n=this._l(t);if(null===n&&0!==e)switch(e){case-1:return this.ul(t);case 1:return this.cl(t);default:throw new TypeError("Unknown search mode")}return n}ul(t){let e=this.dl(t);return e>0&&(e-=1),e!==this.Qh.length&&this.el(e)<t?e:null}cl(t){const e=this.fl(t);return e!==this.Qh.length&&t<this.el(e)?e:null}_l(t){const e=this.dl(t);return e===this.Qh.length||t<this.Qh[e].se?null:e}dl(t){return $d(this.Qh,t,(t,e)=>t.se<e)}fl(t){return Hd(this.Qh,t,(t,e)=>t.se>e)}vl(t,e,n){let i=null;for(let s=t;s<e;s++){const t=this.Qh[s].Vt[n];Number.isNaN(t)||(null===i?i={pl:t,ml:t}:(t<i.pl&&(i.pl=t),t>i.ml&&(i.ml=t)))}return i}ol(t,e,n){if(this.Ni())return null;let i=null;const s=Mh(this.sl()),r=Mh(this.An()),a=Math.max(t,s),o=Math.min(e,r),l=Math.ceil(a/Xp)*Xp,c=Math.max(l,Math.floor(o/Xp)*Xp);{const t=this.dl(a),s=this.fl(Math.min(o,l,e));i=Yp(i,this.vl(t,s,n))}let u=this.tl.get(n);void 0===u&&(u=new Map,this.tl.set(n,u));for(let h=Math.max(l+1,a);h<c;h+=Xp){const t=Math.floor(h/Xp);let e=u.get(t);if(void 0===e){const i=this.dl(t*Xp),s=this.fl((t+1)*Xp-1);e=this.vl(i,s,n),u.set(t,e)}i=Yp(i,e)}{const t=this.dl(c),e=this.fl(o);i=Yp(i,this.vl(t,e,n))}return i}}function Yp(t,e){return null===t?e:null===e?t:{pl:Math.min(t.pl,e.pl),ml:Math.max(t.ml,e.ml)}}class Jp{constructor(t){this.bl=t}X(t,e,n){this.bl.draw(t)}wl(t,e,n){var i,s;null===(s=(i=this.bl).drawBackground)||void 0===s||s.call(i,t)}}class Qp{constructor(t){this.Qe=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(null===e)return null;if((null===(t=this.Qe)||void 0===t?void 0:t.gl)===e)return this.Qe.Ml;const n=new Jp(e);return this.Qe={gl:e,Ml:n},n}xl(){var t,e,n;return null!==(n=null===(e=(t=this.wn).zOrder)||void 0===e?void 0:e.call(t))&&void 0!==n?n:"normal"}}function Zp(t){var e,n,i,s,r;return{Kt:t.text(),ki:t.coordinate(),Si:null===(e=t.fixedCoordinate)||void 0===e?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:null===(i=null===(n=t.visible)||void 0===n?void 0:n.call(t))||void 0===i||i,hi:null===(r=null===(s=t.tickVisible)||void 0===s?void 0:s.call(t))||void 0===r||r}}class tm{constructor(t,e){this.Wt=new vd,this.Sl=t,this.kl=e}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},Zp(this.Sl))),this.Wt}}class em extends md{constructor(t,e){super(),this.Sl=t,this.Li=e}zi(t,e,n){const i=Zp(this.Sl);n.t=i.t,t.V=i.V;const s=2/12*this.Li.P();n.wi=s,n.gi=s,n.ki=i.ki,n.Si=i.Si,t.Kt=i.Kt,t.yt=i.yt,t.hi=i.hi}}class nm{constructor(t,e){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=e}Vl(){return this.Dl}Vn(){var t,e;null===(e=(t=this.Dl).updateAllViews)||void 0===e||e.call(t)}Pn(){var t,e,n,i;const s=null!==(n=null===(e=(t=this.Dl).paneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.yl)||void 0===i?void 0:i.gl)===s)return this.yl.Ml;const r=s.map(t=>new Qp(t));return this.yl={gl:s,Ml:r},r}Qi(){var t,e,n,i;const s=null!==(n=null===(e=(t=this.Dl).timeAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Cl)||void 0===i?void 0:i.gl)===s)return this.Cl.Ml;const r=this.Wr.$t().St(),a=s.map(t=>new tm(t,r));return this.Cl={gl:s,Ml:a},a}Rn(){var t,e,n,i;const s=null!==(n=null===(e=(t=this.Dl).priceAxisViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Tl)||void 0===i?void 0:i.gl)===s)return this.Tl.Ml;const r=this.Wr.Dt(),a=s.map(t=>new em(t,r));return this.Tl={gl:s,Ml:a},a}Ol(){var t,e,n,i;const s=null!==(n=null===(e=(t=this.Dl).priceAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Pl)||void 0===i?void 0:i.gl)===s)return this.Pl.Ml;const r=s.map(t=>new Qp(t));return this.Pl={gl:s,Ml:r},r}Bl(){var t,e,n,i;const s=null!==(n=null===(e=(t=this.Dl).timeAxisPaneViews)||void 0===e?void 0:e.call(t))&&void 0!==n?n:[];if((null===(i=this.Rl)||void 0===i?void 0:i.gl)===s)return this.Rl.Ml;const r=s.map(t=>new Qp(t));return this.Rl={gl:s,Ml:r},r}Al(t,e){var n,i,s;return null!==(s=null===(i=(n=this.Dl).autoscaleInfo)||void 0===i?void 0:i.call(n,t,e))&&void 0!==s?s:null}br(t,e){var n,i,s;return null!==(s=null===(i=(n=this.Dl).hitTest)||void 0===i?void 0:i.call(n,t,e))&&void 0!==s?s:null}}function im(t,e,n,i){t.forEach(t=>{e(t).forEach(t=>{t.xl()===n&&i.push(t)})})}function sm(t){return t.Pn()}function rm(t){return t.Ol()}function am(t){return t.Bl()}class om extends $p{constructor(t,e,n,i,s){super(t),this.zt=new Gp,this.Wh=new Fp(this),this.Il=[],this.zl=new xp(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=e,this.Hl=n;const r=new Dp(this);this.rn=[r],this.jh=new fp(r,this,t),"Area"!==n&&"Line"!==n&&"Baseline"!==n||(this.Ll=new Sp(this)),this.$l(),this.Ul(s)}S(){null!==this.Wl&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){const e={Zr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return e;const i=this.$t().St().Zs(),s=this.Ct();if(null===i||null===s)return e;let r,a;if(t){const t=this.zt.nl();if(null===t)return e;r=t,a=t.se}else{const t=this.zt.hl(i.ui(),-1);if(null===t)return e;if(r=this.zt.Kh(t.se),null===r)return e;a=t.se}const o=r.Vt[3],l=this.$s().Hs(a,{Vt:r}),c=n.Rt(o,s.Vt);return{Zr:!1,_t:o,Kt:n.Fi(o,s.Vt),Mh:n.ql(o),xh:n.Yl(o,s.Vt),V:l.ue,ki:c,se:a}}$s(){return null!==this.El||(this.El=new qp(this)),this.El}W(){return this.cn}Hh(t){const e=t.priceScaleId;void 0!==e&&e!==this.cn.priceScaleId&&this.$t().Zl(this,e),Uh(this.cn,t),void 0!==t.priceFormat&&(this.$l(),this.$t().Xl()),this.$t().Kl(this),this.$t().Gl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),null!==this.Ll&&(e&&e.Ql?this.Ll.Hr():0===t.length&&this.Ll.jr());const n=this.$t().cr(this);this.$t().ta(n),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();const e=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(e),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){const e=new Up(this,t);return this.Il.push(e),this.$t().Kl(this),e}ea(t){const e=this.Il.indexOf(t);-1!==e&&this.Il.splice(e,1),this.$t().Kl(this)}Jh(){return this.Hl}Ct(){const t=this.ra();return null===t?null:{Vt:t.Vt[3],ha:t.ot}}ra(){const t=this.$t().St().Zs();if(null===t)return null;const e=t.Vs();return this.zt.hl(e,1)}In(){return this.zt}fh(t){const e=this.zt.Kh(t);return null===e?null:"Bar"===this.Hl||"Candlestick"===this.Hl||"Custom"===this.Hl?{we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3]}:e.Vt[3]}la(t){const e=[];im(this.jl,sm,"top",e);const n=this.Ll;return null!==n&&n.yt()?(null===this.Wl&&n.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),n.$r(),e.unshift(n),e):e}Pn(){const t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);const e=this.Il.map(t=>t.Uh());return t.push(...e),im(this.jl,sm,"normal",t),t}_a(){return this.ua(sm,"bottom")}ca(t){return this.ua(rm,t)}da(t){return this.ua(am,t)}fa(t,e){return this.jl.map(n=>n.br(t,e)).filter(t=>null!==t)}Ji(t){return[this.jh,...this.Il.map(t=>t.qh())]}Rn(t,e){if(e!==this.Yi&&!this.oa())return[];const n=[...this.rn];for(const i of this.Il)n.push(i.Yh());return this.jl.forEach(t=>{n.push(...t.Rn())}),n}Qi(){const t=[];return this.jl.forEach(e=>{t.push(...e.Qi())}),t}Al(t,e){if(void 0!==this.cn.autoscaleInfoProvider){const n=this.cn.autoscaleInfoProvider(()=>{const n=this.va(t,e);return null===n?null:n.Oh()});return Ip.Bh(n)}return this.va(t,e)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.Il)e.bt();this.Wh.bt(),this.zl.bt(),null===(t=this.Ll)||void 0===t||t.bt(),this.jl.forEach(t=>t.Vn())}Dt(){return Mh(super.Dt())}kt(t){if("Line"!==this.Hl&&"Area"!==this.Hl&&"Baseline"!==this.Hl||!this.cn.crosshairMarkerVisible)return null;const e=this.zt.Kh(t);return null===e?null:{_t:e.Vt[3],ht:this.wa(),Ot:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new nm(t,this))}ka(t){this.jl=this.jl.filter(e=>e.Vl()!==t)}ya(){if(this.wn instanceof op!=0)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof op!=0)return t=>this.wn.We(t)}oa(){return!kd(this.Dt().Ta())}va(t,e){if(!Hh(t)||!Hh(e)||this.zt.Ni())return null;const n="Line"===this.Hl||"Area"===this.Hl||"Baseline"===this.Hl||"Histogram"===this.Hl?[3]:[2,1],i=this.zt.al(t,e,n);let s=null!==i?new Op(i.pl,i.ml):null;if("Histogram"===this.Jh()){const t=this.cn.base,e=new Op(t,t);s=null!==s?s.ts(e):e}let r=this.dn._h();return this.jl.forEach(n=>{const i=n.Al(t,e);if(null==i?void 0:i.priceRange){const t=new Op(i.priceRange.minValue,i.priceRange.maxValue);s=null!==s?s.ts(t):t}var a,o,l,c;(null==i?void 0:i.margins)&&(a=r,o=i.margins,r={above:Math.max(null!==(l=null==a?void 0:a.above)&&void 0!==l?l:0,o.above),below:Math.max(null!==(c=null==a?void 0:a.below)&&void 0!==c?c:0,o.below)})}),new Ip(s,r)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new Ed(this.cn.priceFormat.precision);break;case"percent":this.ba=new Cd(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new Nd(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Pa()}Jl(){const t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);const e=Mh(this.zt.sl());this.Fl=this.Nl.map((n,i)=>{const s=Mh(t.Da(n.time,!0)),r=s<e?1:-1;return{time:Mh(this.zt.hl(s,r)).se,position:n.position,shape:n.shape,color:n.color,id:n.id,Qr:i,text:n.text,size:n.size,originalTime:n.originalTime}})}Ul(t){switch(this.dn=new Rp(this,this.$t()),this.Hl){case"Bar":this.wn=new tp(this,this.$t());break;case"Candlestick":this.wn=new rp(this,this.$t());break;case"Line":this.wn=new hp(this,this.$t());break;case"Custom":this.wn=new op(this,this.$t(),Th(t));break;case"Area":this.wn=new Jd(this,this.$t());break;case"Baseline":this.wn=new ip(this,this.$t());break;case"Histogram":this.wn=new up(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(t,e){const n=[];return im(this.jl,t,e,n),n}}class lm{constructor(t){this.cn=t}Va(t,e,n){let i=t;if(0===this.cn.mode)return i;const s=n.vn(),r=s.Ct();if(null===r)return i;const a=s.Rt(t,r),o=n.Oa().filter(t=>t instanceof om).reduce((t,i)=>{if(n.dr(i)||!i.yt())return t;const s=i.Dt(),r=i.In();if(s.Ni()||!r.Xr(e))return t;const a=r.Kh(e);if(null===a)return t;const o=_h(i.Ct());return t.concat([s.Rt(a.Vt[3],o.Vt)])},[]);if(0===o.length)return i;o.sort((t,e)=>Math.abs(t-a)-Math.abs(e-a));const l=o[0];return i=s.pn(l,r),i}}class cm extends ed{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K(t){let{context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}=t;if(null===this.zt)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,()=>{const t=Mh(this.zt);if(t.Ba){e.strokeStyle=t.Aa,Ch(e,t.Ia),e.beginPath();for(const s of t.za){const t=Math.round(s.La*i);e.moveTo(t,-r),e.lineTo(t,n.height+r)}e.stroke()}if(t.Ea){e.strokeStyle=t.Na,Ch(e,t.Fa),e.beginPath();for(const i of t.Wa){const t=Math.round(i.La*s);e.moveTo(-r,t),e.lineTo(n.width+r,t)}e.stroke()}})}}class um{constructor(t){this.Wt=new cm,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Aa:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(t=>({La:t.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class hm{constructor(t){this.wn=new um(t)}Uh(){return this.wn}}const dm={Ha:4,$a:1e-4};function pm(t,e){const n=100*(t-e)/e;return e<0?-n:n}function mm(t,e){const n=pm(t.Th(),e),i=pm(t.Ph(),e);return new Op(n,i)}function fm(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function gm(t,e){const n=fm(t.Th(),e),i=fm(t.Ph(),e);return new Op(n,i)}function vm(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.log10(n+e.$a)+e.Ha;return t<0?-i:i}function xm(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.pow(10,n-e.Ha)-e.$a;return t<0?-i:i}function ym(t,e){if(null===t)return null;const n=vm(t.Th(),e),i=vm(t.Ph(),e);return new Op(n,i)}function bm(t,e){if(null===t)return null;const n=xm(t.Th(),e),i=xm(t.Ph(),e);return new Op(n,i)}function wm(t){if(null===t)return dm;const e=Math.abs(t.Ph()-t.Th());if(e>=1||e<1e-15)return dm;const n=Math.ceil(Math.abs(Math.log10(e))),i=dm.Ha+n;return{Ha:i,$a:1/Math.pow(10,i)}}class km{constructor(t,e){if(this.Ua=t,this.qa=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let t=this.Ua;1!==t;){if(t%2==0)this.Ya.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.Ya.push(2,2.5),t/=5}if(this.Ya.length>100)throw new Error("something wrong with base")}}}Za(t,e,n){const i=0===this.Ua?0:1/this.Ua;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),r=0,a=this.qa[0];for(;;){const t=Fd(s,i,1e-14)&&s>i+1e-14,e=Fd(s,n*a,1e-14),o=Fd(s,1,1e-14);if(!(t&&e&&o))break;s/=a,a=this.qa[++r%this.qa.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.Ya.length>0&&(o=s,Math.abs(o-1)<1e-14))for(r=0,a=this.Ya[0];Fd(s,n*a,1e-14)&&s>i+1e-14;)s/=a,a=this.Ya[++r%this.Ya.length];var o;return s}}class Sm{constructor(t,e,n,i){this.Xa=[],this.Li=t,this.Ua=e,this.Ka=n,this.Ga=i}Za(t,e){if(t<e)throw new Error("high < low");const n=this.Li.At(),i=(t-e)*this.Ja()/n,s=new km(this.Ua,[2,2.5,2]),r=new km(this.Ua,[2,2,2.5]),a=new km(this.Ua,[2.5,2,2]),o=[];return o.push(s.Za(t,e,i),r.Za(t,e,i),a.Za(t,e,i)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let n=1;n<t.length;++n)t[n]<e&&(e=t[n]);return e}(o)}Qa(){const t=this.Li,e=t.Ct();if(null===e)return void(this.Xa=[]);const n=t.At(),i=this.Ka(n-1,e),s=this.Ka(0,e),r=this.Li.W().entireTextOnly?this.io()/2:0,a=r,o=n-1-r,l=Math.max(i,s),c=Math.min(i,s);if(l===c)return void(this.Xa=[]);let u=this.Za(l,c),h=l%u;h+=h<0?u:0;const d=l>=c?1:-1;let p=null,m=0;for(let f=l-h;f>c;f-=u){const n=this.Ga(f,e,!0);null!==p&&Math.abs(n-p)<this.Ja()||n<a||n>o||(m<this.Xa.length?(this.Xa[m].La=n,this.Xa[m].no=t.so(f)):this.Xa.push({La:n,no:t.so(f)}),m++,p=n,t.eo()&&(u=this.Za(f*d,c)))}this.Xa.length=m}ja(){return this.Xa}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function jm(t){return t.slice().sort((t,e)=>Mh(t.Xi())-Mh(e.Xi()))}var Nm;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Nm||(Nm={}));const Cm=new Cd,Em=new Nd(100,1);class zm{constructor(t,e,n,i){this.ro=0,this.ho=null,this.Ah=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new Wh,this.fo=new Wh,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=Em,this.Mo=wm(null),this.xo=t,this.cn=e,this.So=n,this.ko=i,this.yo=new Sm(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(Uh(this.cn,t),this.Pa(),void 0!==t.mode&&this.Po({yr:t.mode}),void 0!==t.scaleMargins){const e=Th(t.scaleMargins.top),n=Th(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(e));if(n<0||n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(e+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(e+n));this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return 1===this.cn.mode}gh(){return 2===this.cn.mode}Vo(){return 3===this.cn.mode}yr(){return{Wn:this.cn.autoScale,Oo:this.cn.invertScale,yr:this.cn.mode}}Po(t){const e=this.yr();let n=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.yr&&(this.cn.mode=t.yr,2!==t.yr&&3!==t.yr||(this.cn.autoScale=!0),this.ao.oo=!1),1===e.yr&&t.yr!==e.yr&&(function(t,e){if(null===t)return!1;const n=xm(t.Th(),e),i=xm(t.Ph(),e);return isFinite(n)&&isFinite(i)}(this.Ah,this.Mo)?(n=bm(this.Ah,this.Mo),null!==n&&this.Bo(n)):this.cn.autoScale=!0),1===t.yr&&t.yr!==e.yr&&(n=ym(this.Ah,this.Mo),null!==n&&this.Bo(n));const i=e.yr!==this.cn.mode;i&&(2===e.yr||this.gh())&&this.Pa(),i&&(3===e.yr||this.Vo())&&this.Pa(),void 0!==t.Oo&&e.Oo!==t.Oo&&(this.cn.invertScale=t.Oo,this.Ao()),this.fo.m(e,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}At(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const t=this.At()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Ah}Bo(t,e){const n=this.Ah;(e||null===n&&null!==t||null!==n&&!n.yh(t))&&(this.mo=null,this.Ah=t)}Ni(){return this.Fo(),0===this.ro||!this.Ah||this.Ah.Ni()}Wo(t){return this.Oo()?t:this.At()-1-t}Rt(t,e){return this.gh()?t=pm(t,e):this.Vo()&&(t=fm(t,e)),this.To(t,e)}Qs(t,e,n){this.Fo();const i=this.No(),s=Mh(this.zh()),r=s.Th(),a=s.Ph(),o=this.Lo()-1,l=this.Oo(),c=o/(a-r),u=void 0===n?0:n.from,h=void 0===n?t.length:n.to,d=this.jo();for(let p=u;p<h;p++){const n=t[p],s=n._t;if(isNaN(s))continue;let a=s;null!==d&&(a=d(n._t,e));const o=i+c*(a-r),u=l?o:this.ro-1-o;n.st=u}}me(t,e,n){this.Fo();const i=this.No(),s=Mh(this.zh()),r=s.Th(),a=s.Ph(),o=this.Lo()-1,l=this.Oo(),c=o/(a-r),u=void 0===n?0:n.from,h=void 0===n?t.length:n.to,d=this.jo();for(let p=u;p<h;p++){const n=t[p];let s=n.we,a=n.ge,o=n.Me,u=n.xe;null!==d&&(s=d(n.we,e),a=d(n.ge,e),o=d(n.Me,e),u=d(n.xe,e));let h=i+c*(s-r),m=l?h:this.ro-1-h;n.ve=m,h=i+c*(a-r),m=l?h:this.ro-1-h,n.ce=m,h=i+c*(o-r),m=l?h:this.ro-1-h,n.de=m,h=i+c*(u-r),m=l?h:this.ro-1-h,n.pe=m}}pn(t,e){const n=this.Co(t,e);return this.Ho(n,e)}Ho(t,e){let n=t;return this.gh()?n=function(t,e){return e<0&&(t=-t),t/100*e+e}(n,e):this.Vo()&&(n=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(n,e)),n}Oa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let e=0;e<this.vo.length;e++){const n=this.vo[e];null===n.Xi()&&n.Ki(e+1),t.push(n)}return t=jm(t),this.po=t,this.po}Uo(t){-1===this.vo.indexOf(t)&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){const e=this.vo.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.vo.splice(e,1),0===this.vo.length&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(const e of this.vo){const n=e.Ct();null!==n&&(null===t||n.ha<t.ha)&&(t=n)}return null===t?null:t.Vt}Oo(){return this.cn.invertScale}ja(){const t=null===this.Ct();if(null!==this.mo&&(t||this.mo.Zo===t))return this.mo.ja;this.yo.Qa();const e=this.yo.ja();return this.mo={ja:e,Zo:t},this.do.m(),e}Xo(){return this.do}Ko(t){this.gh()||this.Vo()||null===this.bo&&null===this.lo&&(this.Ni()||(this.bo=this.ro-t,this.lo=Mh(this.zh()).Ch()))}Go(t){if(this.gh()||this.Vo())return;if(null===this.bo)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let e=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1));const n=Mh(this.lo).Ch();e=Math.max(e,.1),n.Dh(e),this.Bo(n)}Jo(){this.gh()||this.Vo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||null===this.wo&&null===this.lo&&(this.Ni()||(this.wo=t,this.lo=Mh(this.zh()).Ch()))}t_(t){if(this.Do())return;if(null===this.wo)return;const e=Mh(this.zh()).Rh()/(this.Lo()-1);let n=t-this.wo;this.Oo()&&(n*=-1);const i=n*e,s=Mh(this.lo).Ch();s.Vh(i),this.Bo(s,!0),this.mo=null}i_(){this.Do()||null!==this.wo&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,e){switch(this.cn.mode){case 2:return this.n_(pm(t,e));case 3:return this.ma().format(fm(t,e));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,Mh(this.s_()).ma())}Yl(t,e){return t=pm(t,e),this.n_(t,Cm)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}Vn(){this.vo.forEach(t=>t.Vn())}Pa(){this.mo=null;const t=this.s_();let e=100;null!==t&&(e=Math.round(1/t.pa())),this.ba=Em,this.gh()?(this.ba=Cm,e=100):this.Vo()?(this.ba=new Nd(100,1),e=100):null!==t&&(this.ba=t.ma()),this.yo=new Sm(this,e,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Oo()?this.cn.scaleMargins.bottom*this.At()+this.co:this.cn.scaleMargins.top*this.At()+this.uo}No(){return this.Oo()?this.cn.scaleMargins.top*this.At()+this.uo:this.cn.scaleMargins.bottom*this.At()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,e){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?vm(t,this.Mo):t;const n=Mh(this.zh()),i=this.No()+(this.Lo()-1)*(t-n.Th())/n.Rh();return this.Wo(i)}Co(t,e){if(this.Fo(),this.Ni())return 0;const n=this.Wo(t),i=Mh(this.zh()),s=i.Th()+i.Rh()*((n-this.No())/(this.Lo()-1));return this.eo()?xm(s,this.Mo):s}Ao(){this.mo=null,this.yo.Qa()}h_(){const t=this.ao._o;if(null===t)return;let e=null;const n=this.e_();let i=0,s=0;for(const o of n){if(!o.yt())continue;const n=o.Ct();if(null===n)continue;const r=o.Al(t.Vs(),t.ui());let a=r&&r.zh();if(null!==a){switch(this.cn.mode){case 1:a=ym(a,this.Mo);break;case 2:a=mm(a,n.Vt);break;case 3:a=gm(a,n.Vt)}if(e=null===e?a:e.ts(Mh(a)),null!==r){const t=r.Lh();null!==t&&(i=Math.max(i,t.above),s=Math.max(s,t.below))}}}if(i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.mo=null,this.Ro()),null!==e){if(e.Th()===e.Ph()){const t=this.s_(),n=5*(null===t||this.gh()||this.Vo()?1:t.pa());this.eo()&&(e=bm(e,this.Mo)),e=new Op(e.Th()-n,e.Ph()+n),this.eo()&&(e=ym(e,this.Mo))}if(this.eo()){const t=bm(e,this.Mo),n=wm(t);if(r=n,a=this.Mo,r.Ha!==a.Ha||r.$a!==a.$a){const i=null!==this.lo?bm(this.lo,this.Mo):null;this.Mo=n,e=ym(t,n),null!==i&&(this.lo=ym(i,n))}}this.Bo(e)}else null===this.Ah&&(this.Bo(new Op(-.5,.5)),this.Mo=wm(null));var r,a;this.ao.oo=!0}jo(){return this.gh()?pm:this.Vo()?fm:this.eo()?t=>vm(t,this.Mo):null}l_(t,e,n){return void 0===e?(void 0===n&&(n=this.ma()),n.format(t)):e(t)}Fh(t,e){return this.l_(t,this.ko.priceFormatter,e)}n_(t,e){return this.l_(t,this.ko.percentageFormatter,e)}}class Tm{constructor(t,e){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new Wh,this.kl=t,this.$i=e,this.c_=new hm(this);const n=e.W();this.d_=this.f_("left",n.leftPriceScale),this.v_=this.f_("right",n.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(n)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){const e=Array.from(this.a_.values());for(const n of e){const e=Mh(n[0].Dt());e.Hh(t.overlayPriceScales),t.localization&&e.Pa()}}}b_(t){switch(t){case"left":return this.d_;case"right":return this.v_}return this.a_.has(t)?Th(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(t=>{t.S&&t.S()}),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}At(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach(e=>{if(this.dr(e)){const n=e.Dt();null!==n&&n.zo(t)}}),this.S_()}Oa(){return this.vo}dr(t){const e=t.Dt();return null===e||this.d_!==e&&this.v_!==e}Uo(t,e,n){const i=void 0!==n?n:this.y_().k_+1;this.C_(t,e,i)}Yo(t){const e=this.vo.indexOf(t);zh(-1!==e,"removeDataSource: invalid data source"),this.vo.splice(e,1);const n=Mh(t.Dt()).Ta();if(this.a_.has(n)){const e=Th(this.a_.get(n)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.a_.delete(n))}const i=t.Dt();i&&i.Oa().indexOf(t)>=0&&i.Yo(t),null!==i&&(i.qo(),this.T_(i)),this.po=null}pr(t){return t===this.d_?"left":t===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(t,e){t.Ko(e)}V_(t,e){t.Go(e),this.S_()}O_(t){t.Jo()}B_(t,e){t.Qo(e)}A_(t,e){t.t_(e),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.v_.Oa().length?t=this.v_:this.$i.W().leftPriceScale.visible&&0!==this.d_.Oa().length?t=this.d_:0!==this.vo.length&&(t=this.vo[0].Dt()),null===t&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){null!==t&&t.Do()&&this.z_(t)}L_(t){const e=this.kl.Zs();t.Po({Wn:!0}),null!==e&&t.r_(e),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(t=>{this.dr(t)&&this.T_(t.Dt())}),this.S_(),this.$i.$h()}$o(){return null===this.po&&(this.po=jm(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){const e=t.e_();if(e&&e.length>0&&!this.kl.Ni()){const e=this.kl.Zs();null!==e&&t.r_(e)}t.Vn()}y_(){const t=this.$o();if(0===t.length)return{j_:0,k_:0};let e=0,n=0;for(let i=0;i<t.length;i++){const s=t[i].Xi();null!==s&&(s<e&&(e=s),s>n&&(n=s))}return{j_:e,k_:n}}C_(t,e,n){let i=this.b_(e);if(null===i&&(i=this.f_(e,this.$i.W().overlayPriceScales)),this.vo.push(t),!kd(e)){const n=this.a_.get(e)||[];n.push(t),this.a_.set(e,n)}i.Uo(t),t.Gi(i),t.Ki(n),this.T_(i),this.po=null}p_(t,e,n){e.yr!==n.yr&&this.z_(t)}f_(t,e){const n=Object.assign({visible:!0,autoScale:!0},Xh(e)),i=new zm(t,n,this.$i.W().layout,this.$i.W().localization);return i.zo(this.At()),i}}class Mm{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.Xe=0,this.Ke=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=e,this.tr=n}q_(t){const e=t.time,n=this.U_.cacheKey(e),i=this.Qe.get(n);if(void 0!==i)return i.Y_;if(this.Xe===this.tr){const t=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(Th(t)),this.Ge++,this.Xe--}const s=this.H_(t);return this.Qe.set(n,{Y_:s,er:this.Ke}),this.Je.set(this.Ke,n),this.Xe++,this.Ke++,s}}class _m{constructor(t,e){zh(t<=e,"right should be >= left"),this.Z_=t,this.X_=e}Vs(){return this.Z_}ui(){return this.X_}K_(){return this.X_-this.Z_+1}Xr(t){return this.Z_<=t&&t<=this.X_}yh(t){return this.Z_===t.Vs()&&this.X_===t.ui()}}function Pm(t,e){return null===t||null===e?t===e:t.yh(e)}class Am{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,e){this.iu(e),this.Qe=null;for(let n=e;n<t.length;++n){const e=t[n];let i=this.G_.get(e.timeWeight);void 0===i&&(i=[],this.G_.set(e.timeWeight,i)),i.push({index:n,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}nu(t,e){const n=Math.ceil(e/t);return null!==this.Qe&&this.Qe.su===n||(this.Qe={ja:this.eu(n),su:n}),this.Qe.ja}iu(t){if(0===t)return void this.G_.clear();const e=[];this.G_.forEach((n,i)=>{t<=n[0].index?e.push(i):n.splice($d(n,t,e=>e.index<t),1/0)});for(const n of e)this.G_.delete(n)}eu(t){let e=[];for(const n of Array.from(this.G_.keys()).sort((t,e)=>e-t)){if(!this.G_.get(n))continue;const i=e;e=[];const s=i.length;let r=0;const a=Th(this.G_.get(n)),o=a.length;let l=1/0,c=-1/0;for(let n=0;n<o;n++){const o=a[n],u=o.index;for(;r<s;){const t=i[r],n=t.index;if(!(n<u)){l=n;break}r++,e.push(t),c=n,l=1/0}if(l-u>=t&&u-c>=t)e.push(o),c=u;else if(this.J_)return i}for(;r<s;r++)e.push(i[r])}return e}}class Lm{constructor(t){this.ru=t}hu(){return null===this.ru?null:new _m(Math.floor(this.ru.Vs()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new Lm(null)}}function Rm(t,e){return t.weight>e.weight?t:e}class Fm{constructor(t,e,n,i){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new Am,this.cu=new Map,this.du=Lm.au(),this.fu=!0,this.vu=new Wh,this.pu=new Wh,this.mu=new Wh,this.bu=null,this.wu=null,this.gu=[],this.cn=e,this.ko=n,this.Mu=e.rightOffset,this.xu=e.barSpacing,this.$i=t,this.U_=i,this.Su(),this.uu.Q_(e.uniformDistribution)}W(){return this.cn}ku(t){Uh(this.ko,t),this.yu(),this.Su()}Hh(t,e){var n;Uh(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var e,n;return null!==(n=null===(e=this._u[t])||void 0===e?void 0:e.time)&&void 0!==n?n:null}Ui(t){var e;return null!==(e=this._u[t])&&void 0!==e?e:null}Da(t,e){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return e?this._u.length-1:null;const n=$d(this._u,this.U_.key(t),(t,e)=>this.U_.key(t.time)<e);return this.U_.key(t)<this.U_.key(this._u[n].time)?e?n:null:n}Ni(){return 0===this.o_||0===this._u.length||null===this.ou}Ra(){return this._u.length>0}Zs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const t=this.Zs();if(null===t)return null;const e={from:t.Vs(),to:t.ui()};return this.Vu(e)}Vu(t){const e=Math.round(t.from),n=Math.round(t.to),i=Mh(this.Ou()),s=Mh(this.Bu());return{from:Mh(this.Ui(Math.max(i,e))),to:Mh(this.Ui(Math.min(s,n)))}}Au(t){return{from:Mh(this.Da(t.from,!0)),to:Mh(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0)return;if(this.o_===t)return;const e=this.Ru(),n=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==n){const e=this.xu*t/n;this.xu=e}if(this.cn.fixLeftEdge&&null!==e&&e.Vs()<=0){const e=n-t;this.Mu-=Math.round(e/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(t){if(this.Ni()||!Hh(t))return 0;const e=this.Lu()+this.Mu-t;return this.o_-(e+.5)*this.xu-1}Js(t,e){const n=this.Lu(),i=void 0===e?0:e.from,s=void 0===e?t.length:e.to;for(let r=i;r<s;r++){const e=t[r].ot,i=n+this.Mu-e,s=this.o_-(i+.5)*this.xu-1;t[r].nt=s}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(null!==this.wu)return this.wu;const t=this.xu,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(e/t),i=Mh(this.Zs()),s=Math.max(i.Vs(),i.Vs()-n),r=Math.max(i.ui(),i.ui()-n),a=this.uu.nu(t,e),o=this.Ou()+n,l=this.Bu()-n,c=this.Hu(),u=this.cn.fixLeftEdge||c,h=this.cn.fixRightEdge||c;let d=0;for(const p of a){if(!(s<=p.index&&p.index<=r))continue;let t;d<this.gu.length?(t=this.gu[d],t.coord=this.It(p.index),t.label=this.$u(p),t.weight=p.weight):(t={needAlignCoordinate:!1,coord:this.It(p.index),label:this.$u(p),weight:p.weight},this.gu.push(t)),this.xu>e/2&&!c?t.needAlignCoordinate=!1:t.needAlignCoordinate=u&&p.index<=o||h&&p.index>=l,d++}return this.gu.length=d,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,e){const n=this.Nu(t),i=this.he(),s=i+e*(i/10);this.Gn(s),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(n-this.Nu(t)))}Ko(t){this.wo&&this.i_(),null===this.bo&&null===this.bu&&(this.Ni()||(this.bo=t,this.Zu()))}Go(t){if(null===this.bu)return;const e=Rd(this.o_-t,0,this.o_),n=Rd(this.o_-Mh(this.bo),0,this.o_);0!==e&&0!==n&&this.Gn(this.bu.he*e/n)}Jo(){null!==this.bo&&(this.bo=null,this.Xu())}Qo(t){null===this.wo&&null===this.bu&&(this.Ni()||(this.wo=t,this.Zu()))}t_(t){if(null===this.wo)return;const e=(this.wo-t)/this.he();this.Mu=Mh(this.bu).ju+e,this.fu=!0,this.zu()}i_(){null!==this.wo&&(this.wo=null,this.Xu())}Ku(){this.Gu(this.cn.rightOffset)}Gu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Mu,i=performance.now();this.$i.Zn({Ju:t=>(t-i)/e>=1,Qu:s=>{const r=(s-i)/e;return r>=1?t:n+(t-n)*r}})}bt(t,e){this.fu=!0,this._u=t,this.uu.tu(t,e),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){const e=t.K_();this.Wu(this.o_/e),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const t=this.Ou(),e=this.Bu();null!==t&&null!==e&&this.ec(new _m(t,e+this.cn.rightOffset))}hc(t){const e=new _m(t.from,t.to);this.ec(e)}qi(t){return void 0!==this.ko.timeFormatter?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Ou(){return 0===this._u.length?null:0}Bu(){return 0===this._u.length?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){const e=this.lc(t),n=this.Lu()+this.Mu-e;return Math.round(1e6*n)/1e6}Wu(t){const e=this.xu;this.xu=t,this.Iu(),e!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(Lm.au());const t=this.Lu(),e=this.o_/this.xu,n=this.Mu+t,i=new _m(n-e+1,n);this.oc(new Lm(i))}Iu(){const t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),0!==this.o_){const t=.5*this.o_;this.xu>t&&(this.xu=t,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this._u.length?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const t=this.uc();this.Mu>t&&(this.Mu=t,this.fu=!0);const e=this.cc();null!==e&&this.Mu<e&&(this.Mu=e,this.fu=!0)}cc(){const t=this.Ou(),e=this.ou;return null===t||null===e?null:t-e-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}uc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Zu(){this.bu={he:this.he(),ju:this.ju()}}Xu(){this.bu=null}$u(t){let e=this.cu.get(t.weight);return void 0===e&&(e=new Mm(t=>this.dc(t),this.U_),this.cu.set(t.weight,e)),e.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){const e=this.du;this.du=t,Pm(e.hu(),this.du.hu())||this.vu.m(),Pm(e.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const t=this.Ou();if(null===t)return;const e=this.Zs();if(null===e)return;const n=e.Vs()-t;if(n<0){const t=this.Mu-n-1;this.Jn(t)}this.Iu()}Tu(){this.zu(),this.Iu()}}class Dm{X(t,e,n){t.useMediaCoordinateSpace(t=>this.K(t,e,n))}wl(t,e,n){t.useMediaCoordinateSpace(t=>this.fc(t,e,n))}fc(t,e,n){}}class Vm extends Dm{constructor(t){super(),this.vc=new Map,this.zt=t}K(t){}fc(t){if(!this.zt.yt)return;const{context:e,mediaSize:n}=t;let i=0;for(const r of this.zt.mc){if(0===r.Kt.length)continue;e.font=r.R;const t=this.bc(e,r.Kt);t>n.width?r.Yu=n.width/t:r.Yu=1,i+=r.wc*r.Yu}let s=0;switch(this.zt.gc){case"top":s=0;break;case"center":s=Math.max((n.height-i)/2,0);break;case"bottom":s=Math.max(n.height-i,0)}e.fillStyle=this.zt.V;for(const r of this.zt.mc){e.save();let t=0;switch(this.zt.Mc){case"left":e.textAlign="left",t=r.wc/2;break;case"center":e.textAlign="center",t=n.width/2;break;case"right":e.textAlign="right",t=n.width-1-r.wc/2}e.translate(t,s),e.textBaseline="top",e.font=r.R,e.scale(r.Yu,r.Yu),e.fillText(r.Kt,0,r.xc),e.restore(),s+=r.wc*r.Yu}}bc(t,e){const n=this.Sc(t.font);let i=n.get(e);return void 0===i&&(i=t.measureText(e).width,n.set(e,i)),i}Sc(t){let e=this.vc.get(t);return void 0===e&&(e=new Map,this.vc.set(t,e)),e}}class Om{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",mc:[],gc:"center",Mc:"center"},this.Wt=new Vm(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.Mc=t.horzAlign,e.gc=t.vertAlign,e.mc=[{Kt:t.text,R:Qh(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}}class Im extends yd{constructor(t,e){super(),this.cn=e,this.wn=new Om(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var Bm,Wm,Um,$m,Hm;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Bm||(Bm={}));class qm{constructor(t,e,n){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new Wh,this.Pc=new Wh,this.Rc=null,this.Dc=t,this.cn=e,this.U_=n,this.Vc=new Zh(this),this.kl=new Fm(this,e.timeScale,this.cn.localization,n),this.vt=new wd(this,e.crosshair),this.Oc=new lm(e.crosshair),this.Bc=new Im(this,e.watermark),this.Ac(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Xl(){this.Ec(Sd.es())}$h(){this.Ec(Sd.ss())}aa(){this.Ec(new Sd(1))}Kl(t){const e=this.Nc(t);this.Ec(e)}Fc(){return this.Cc}Wc(t){const e=this.Cc;this.Cc=t,null!==e&&this.Kl(e.jc),null!==t&&this.Kl(t.jc)}W(){return this.cn}Hh(t){Uh(this.cn,t),this.kc.forEach(e=>e.m_(t)),void 0!==t.timeScale&&this.kl.Hh(t.timeScale),void 0!==t.localization&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Xl()}Hc(t,e){if("left"===t)return void this.Hh({leftPriceScale:e});if("right"===t)return void this.Hh({rightPriceScale:e});const n=this.$c(t);null!==n&&(n.Dt.Hh(e),this.Tc.m())}$c(t){for(const e of this.kc){const n=e.b_(t);if(null!==n)return{Ht:e,Dt:n}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Zc(){return this.Pc}Xc(t,e){t.zo(e),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach(e=>e.x_(t)),this.Fu()}Ac(t){const e=new Tm(this.kl,this);void 0!==t?this.kc.splice(t,0,e):this.kc.push(e);const n=void 0===t?this.kc.length-1:t,i=Sd.es();return i.Nn(n,{Fn:0,Wn:!0}),this.Ec(i),e}D_(t,e,n){t.D_(e,n)}V_(t,e,n){t.V_(e,n),this.Gl(),this.Ec(this.Kc(t,2))}O_(t,e){t.O_(e),this.Ec(this.Kc(t,2))}B_(t,e,n){e.Do()||t.B_(e,n)}A_(t,e,n){e.Do()||(t.A_(e,n),this.Gl(),this.Ec(this.Kc(t,2)))}I_(t,e){e.Do()||(t.I_(e),this.Ec(this.Kc(t,2)))}L_(t,e){t.L_(e),this.Ec(this.Kc(t,2))}Gc(t){this.kl.Ko(t)}Jc(t,e){const n=this.St();if(n.Ni()||0===e)return;const i=n.Hi();t=Math.max(1,Math.min(t,i)),n.Yu(t,e),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,e,n,i,s){this.vt.gn(t,e);let r=NaN,a=this.kl.Eu(t);const o=this.kl.Zs();null!==o&&(a=Math.min(Math.max(o.Vs(),a),o.ui()));const l=i.vn(),c=l.Ct();null!==c&&(r=l.pn(e,c)),r=this.Oc.Va(r,a,i),this.vt.kn(a,r,i),this.aa(),s||this.Pc.m(this.vt.xt(),{x:t,y:e},n)}ld(t,e,n){const i=n.vn(),s=i.Ct(),r=i.Rt(t,Mh(s)),a=this.kl.Da(e,!0),o=this.kl.It(Mh(a));this.hd(o,r,null,n,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){const t=this.vt.Ht();if(null!==t){const e=this.vt.xn(),n=this.vt.Sn();this.hd(e,n,null,t)}this.vt.Vn()}od(t,e,n){const i=this.kl.mn(0);void 0!==e&&void 0!==n&&this.kl.bt(e,n);const s=this.kl.mn(0),r=this.kl.Lu(),a=this.kl.Zs();if(null!==a&&null!==i&&null!==s){const e=a.Xr(r),o=this.U_.key(i)>this.U_.key(s),l=null!==t&&t>r&&!o,c=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(!(void 0===n)||c)&&this.kl.W().shiftVisibleRangeOnNewBar;if(l&&!u){const e=t-r;this.kl.Jn(this.kl.ju()-e)}}this.kl.qu(t)}ta(t){null!==t&&t.N_()}cr(t){const e=this.kc.find(e=>e.$o().includes(t));return void 0===e?null:e}Fu(){this.Bc.Vn(),this.kc.forEach(t=>t.N_()),this.Gl()}S(){this.kc.forEach(t=>t.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Vc}mr(){return this.Vc.W()}w_(){return this.Tc}ud(t,e,n){const i=this.kc[0],s=this.dd(e,t,i,n);return this.yc.push(s),1===this.yc.length?this.Xl():this.$h(),s}fd(t){const e=this.cr(t),n=this.yc.indexOf(t);zh(-1!==n,"Series not found"),this.yc.splice(n,1),Mh(e).Yo(t),t.S&&t.S()}Zl(t,e){const n=Mh(this.cr(t));n.Yo(t);const i=this.$c(e);if(null===i){const i=t.Xi();n.Uo(t,e,i)}else{const s=i.Ht===n?t.Xi():void 0;i.Ht.Uo(t,e,s)}}rc(){const t=Sd.ss();t.$n(),this.Ec(t)}vd(t){const e=Sd.ss();e.Yn(t),this.Ec(e)}Kn(){const t=Sd.ss();t.Kn(),this.Ec(t)}Gn(t){const e=Sd.ss();e.Gn(t),this.Ec(e)}Jn(t){const e=Sd.ss();e.Jn(t),this.Ec(e)}Zn(t){const e=Sd.ss();e.Zn(t),this.Ec(e)}Un(){const t=Sd.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(t){const e=this.Lc,n=this.Ic;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Rc||this.Rc.Ts!==n||this.Rc.Ps!==e)this.Rc={Ts:n,Ps:e,bd:new Map};else{const e=this.Rc.bd.get(t);if(void 0!==e)return e}const i=function(t,e,n){const[i,s,r,a]=Oh(t),[o,l,c,u]=Oh(e),h=[Ah(i+n*(o-i)),Ah(s+n*(l-s)),Ah(r+n*(c-r)),Lh(a+n*(u-a))];return"rgba(".concat(h[0],", ").concat(h[1],", ").concat(h[2],", ").concat(h[3],")")}(n,e,t/100);return this.Rc.bd.set(t,i),i}Kc(t,e){const n=new Sd(e);if(null!==t){const i=this.kc.indexOf(t);n.Nn(i,{Fn:e})}return n}Nc(t,e){return void 0===e&&(e=2),this.Kc(this.cr(t),e)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach(t=>t.W_().Uh().bt())}dd(t,e,n,i){const s=new om(this,t,e,n,i),r=void 0!==t.priceScaleId?t.priceScaleId:this.pd();return n.Uo(s,r),kd(r)||s.Hh(t),s}zc(t){const e=this.cn.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}}function Km(t){return!$h(t)&&!qh(t)}function Xm(t){return $h(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Wm||(Wm={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Um||(Um={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}($m||($m={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Hm||(Hm={}));const Gm=t=>t.getUTCFullYear();class Ym{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.wd=t,this.gd=e}q_(t){return function(t,e,n){return e.replace(/yyyy/g,(t=>jd(Gm(t),4))(t)).replace(/yy/g,(t=>jd(Gm(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,n)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,n)).replace(/MM/g,(t=>jd((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>jd((t=>t.getUTCDate())(t),2))(t))}(t,this.wd,this.gd)}}class Jm{constructor(t){this.Md=t||"%h:%m:%s"}q_(t){return this.Md.replace("%h",jd(t.getUTCHours(),2)).replace("%m",jd(t.getUTCMinutes(),2)).replace("%s",jd(t.getUTCSeconds(),2))}}const Qm={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};class Zm{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=Object.assign(Object.assign({},Qm),t);this.Cd=new Ym(e.xd,e.yd),this.Td=new Jm(e.Sd),this.Pd=e.kd}q_(t){return"".concat(this.Cd.q_(t)).concat(this.Pd).concat(this.Td.q_(t))}}function tf(t){return 60*t*60*1e3}function ef(t){return 60*t*1e3}const nf=[{Rd:1e3,Dd:10},{Rd:ef(1),Dd:20},{Rd:ef(5),Dd:21},{Rd:ef(30),Dd:22},{Rd:tf(1),Dd:30},{Rd:tf(3),Dd:31},{Rd:tf(6),Dd:32},{Rd:tf(12),Dd:33}];function sf(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=nf.length-1;n>=0;--n)if(Math.floor(e.getTime()/nf[n].Rd)!==Math.floor(t.getTime()/nf[n].Rd))return nf[n].Dd;return 0}function rf(t){let e=t;if(qh(t)&&(e=of(t)),!Km(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Vd:Math.round(n.getTime()/1e3),Od:e}}function af(t){if(!Xm(t))throw new Error("time must be of type isUTCTimestamp");return{Vd:t}}function of(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function lf(t){qh(t.time)&&(t.time=of(t.time))}class cf{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(lf)}(t):lf(t)}createConverterToInternalObj(t){return Mh(function(t){return 0===t.length?null:Km(t[0].time)||qh(t[0].time)?rf:af}(t))}key(t){return"object"==typeof t&&"Vd"in t?t.Vd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Od?new Date(1e3*e.Vd).getTime():new Date(Date.UTC(e.Od.year,e.Od.month-1,e.Od.day)).getTime()}convertHorzItemToInternal(t){return Xm(e=t)?af(e):Km(e)?rf(e):rf(of(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new Zm({xd:e,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:t.locale}):this.Bd=new Ym(e,t.locale)}formatHorzItem(t){const e=t;return this.Bd.q_(new Date(1e3*e.Vd))}formatTickmark(t,e){const n=function(t,e,n){switch(t){case 0:case 10:return e?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(void 0!==i.tickMarkFormatter){const s=i.tickMarkFormatter(t.originalTime,n,e.locale);if(null!==s)return s}return function(t,e,n){const i={};switch(e){case 0:i.year="numeric";break;case 1:i.month="short";break;case 2:i.day="numeric";break;case 3:i.hour12=!1,i.hour="2-digit",i.minute="2-digit";break;case 4:i.hour12=!1,i.hour="2-digit",i.minute="2-digit",i.second="2-digit"}const s=void 0===t.Od?new Date(1e3*t.Vd):new Date(Date.UTC(t.Od.year,t.Od.month-1,t.Od.day));return new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()).toLocaleString(n,i)}(t.time,n,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Rm,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let n=0===e?null:t[e-1].time.Vd,i=null!==n?new Date(1e3*n):null,s=0;for(let r=e;r<t.length;++r){const e=t[r],a=new Date(1e3*e.time.Vd);null!==i&&(e.timeWeight=sf(a,i)),s+=e.time.Vd-(n||e.time.Vd),n=e.time.Vd,i=a}if(0===e&&t.length>1){const e=Math.ceil(s/(t.length-1)),n=new Date(1e3*(t[0].time.Vd-e));t[0].timeWeight=sf(new Date(1e3*t[0].time.Vd),n)}}(t,e)}static Ad(t){return Uh({localization:{dateFormat:"dd MMM 'yy"}},null!=t?t:{})}}const uf="undefined"!=typeof window;function hf(){return!!uf&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function df(){return!!uf&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function pf(t){return t+t%2}function mf(t,e){return t.Id-e.Id}function ff(t,e,n){const i=(t.Id-e.Id)/(t.ot-e.ot);return Math.sign(i)*Math.min(Math.abs(i),n)}class gf{constructor(t,e,n,i){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=e,this.Ud=n,this.rs=i}qd(t,e){if(null!==this.zd){if(this.zd.ot===e)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:e,Id:t}}Dr(t,e){if(null===this.zd||null===this.Ld)return;if(e-this.zd.ot>50)return;let n=0;const i=ff(this.zd,this.Ld,this.$d),s=mf(this.zd,this.Ld),r=[i],a=[s];if(n+=s,null!==this.Ed){const t=ff(this.Ld,this.Ed,this.$d);if(Math.sign(t)===Math.sign(i)){const e=mf(this.Ld,this.Ed);if(r.push(t),a.push(e),n+=e,null!==this.Nd){const t=ff(this.Ed,this.Nd,this.$d);if(Math.sign(t)===Math.sign(i)){const e=mf(this.Ed,this.Nd);r.push(t),a.push(e),n+=e}}}}let o=0;for(let l=0;l<r.length;++l)o+=a[l]/n*r[l];Math.abs(o)<this.Hd||(this.Fd={Id:t,ot:e},this.jd=o,this.Wd=function(t,e){const n=Math.log(e);return Math.log(1*n/-t)/n}(Math.abs(o),this.Ud))}Qu(t){const e=Mh(this.Fd),n=t-e.ot;return e.Id+this.jd*(Math.pow(this.Ud,n)-1)/Math.log(this.Ud)}Ju(t){return null===this.Fd||this.Yd(t)===this.Wd}Yd(t){const e=t-Mh(this.Fd).ot;return Math.min(e,this.Wd)}}class vf{constructor(t,e){this.Zd=void 0,this.Xd=void 0,this.Kd=void 0,this.en=!1,this.Gd=t,this.Jd=e,this.Qd()}bt(){this.Qd()}tf(){this.Zd&&this.Gd.removeChild(this.Zd),this.Xd&&this.Gd.removeChild(this.Xd),this.Zd=void 0,this.Xd=void 0}if(){return this.en!==this.nf()||this.Kd!==this.sf()}sf(){return Ih(Oh(this.Jd.W().layout.textColor))>160?"dark":"light"}nf(){return this.Jd.W().layout.attributionLogo}ef(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Qd(){this.if()&&(this.tf(),this.en=this.nf(),this.en&&(this.Kd=this.sf(),this.Xd=document.createElement("style"),this.Xd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Zd=document.createElement("a"),this.Zd.href="https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart".concat(this.ef()),this.Zd.title="Charting by TradingView",this.Zd.id="tv-attr-logo",this.Zd.target="_blank",this.Zd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Zd.toggleAttribute("data-dark","dark"===this.Kd),this.Gd.appendChild(this.Xd),this.Gd.appendChild(this.Zd)))}}function xf(t,e){const n=Mh(t.ownerDocument).createElement("canvas");t.appendChild(n);const i=function(t,e){if("device-pixel-content-box"===e.type)return new hh(t,e.transform,e.options);throw new Error("Unsupported binding target")}(n,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return i.resizeCanvasElement(e),i}function yf(t){var e;t.width=1,t.height=1,null===(e=t.getContext("2d"))||void 0===e||e.clearRect(0,0,1,1)}function bf(t,e,n,i){t.wl&&t.wl(e,n,i)}function wf(t,e,n,i){t.X(e,n,i)}function kf(t,e,n,i){const s=t(n,i);for(const r of s){const t=r.gt();null!==t&&e(t)}}class Sf{constructor(t,e,n){this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.cf=null,this.df=!1,this.ff=null,this.vf=null,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=null,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=0,this.Tf=!1,this.Pf=!1,this.Rf=!1,this.Df=0,this.Vf=null,this.Of=!df(),this.Bf=t=>{this.Af(t)},this.If=t=>{if(this.zf(t)){const e=this.Lf(t);if(++this.af,this._f&&this.af>1){const{Ef:n}=this.Nf(Cf(t),this.uf);n<30&&!this.bf&&this.Ff(e,this.jf.Wf),this.Hf()}}else{const e=this.Lf(t);if(++this.rf,this.hf&&this.rf>1){const{Ef:n}=this.Nf(Cf(t),this.lf);n<5&&!this.mf&&this.$f(e,this.jf.Uf),this.qf()}}},this.Yf=t,this.jf=e,this.cn=n,this.Zf()}S(){null!==this.wf&&(this.wf(),this.wf=null),null!==this.gf&&(this.gf(),this.gf=null),null!==this.xf&&(this.xf(),this.xf=null),null!==this.Sf&&(this.Sf(),this.Sf=null),null!==this.kf&&(this.kf(),this.kf=null),null!==this.Mf&&(this.Mf(),this.Mf=null),this.Xf(),this.qf()}Kf(t){this.xf&&this.xf();const e=this.Gf.bind(this);if(this.xf=()=>{this.Yf.removeEventListener("mousemove",e)},this.Yf.addEventListener("mousemove",e),this.zf(t))return;const n=this.Lf(t);this.$f(n,this.jf.Jf),this.Of=!0}qf(){null!==this.hf&&clearTimeout(this.hf),this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Hf(){null!==this._f&&clearTimeout(this._f),this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Gf(t){if(this.Rf||null!==this.vf)return;if(this.zf(t))return;const e=this.Lf(t);this.$f(e,this.jf.Qf),this.Of=!0}tv(t){const e=zf(t.changedTouches,Mh(this.Vf));if(null===e)return;if(this.Df=Ef(t),null!==this.yf)return;if(this.Pf)return;this.Tf=!0;const n=this.Nf(Cf(e),Mh(this.vf)),{iv:i,nv:s,Ef:r}=n;if(this.pf||!(r<5)){if(!this.pf){const t=.5*i,e=s>=t&&!this.cn.sv(),n=t>s&&!this.cn.ev();e||n||(this.Pf=!0),this.pf=!0,this.bf=!0,this.Xf(),this.Hf()}if(!this.Pf){const n=this.Lf(t,e);this.Ff(n,this.jf.rv),Nf(t)}}}hv(t){if(0!==t.button)return;const e=this.Nf(Cf(t),Mh(this.ff)),{Ef:n}=e;if(n>=5&&(this.mf=!0,this.qf()),this.mf){const e=this.Lf(t);this.$f(e,this.jf.lv)}}Nf(t,e){const n=Math.abs(e.nt-t.nt),i=Math.abs(e.st-t.st);return{iv:n,nv:i,Ef:n+i}}av(t){let e=zf(t.changedTouches,Mh(this.Vf));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Vf=null,this.Df=Ef(t),this.Xf(),this.vf=null,this.kf&&(this.kf(),this.kf=null);const n=this.Lf(t,e);if(this.Ff(n,this.jf.ov),++this.af,this._f&&this.af>1){const{Ef:t}=this.Nf(Cf(e),this.uf);t<30&&!this.bf&&this.Ff(n,this.jf.Wf),this.Hf()}else this.bf||(this.Ff(n,this.jf._v),this.jf._v&&Nf(t));0===this.af&&Nf(t),0===t.touches.length&&this.df&&(this.df=!1,Nf(t))}Af(t){if(0!==t.button)return;const e=this.Lf(t);if(this.ff=null,this.Rf=!1,this.Sf&&(this.Sf(),this.Sf=null),hf()&&this.Yf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Bf),!this.zf(t))if(this.$f(e,this.jf.uv),++this.rf,this.hf&&this.rf>1){const{Ef:n}=this.Nf(Cf(t),this.lf);n<5&&!this.mf&&this.$f(e,this.jf.Uf),this.qf()}else this.mf||this.$f(e,this.jf.cv)}Xf(){null!==this.cf&&(clearTimeout(this.cf),this.cf=null)}dv(t){if(null!==this.Vf)return;const e=t.changedTouches[0];this.Vf=e.identifier,this.Df=Ef(t);const n=this.Yf.ownerDocument.documentElement;this.bf=!1,this.pf=!1,this.Pf=!1,this.vf=Cf(e),this.kf&&(this.kf(),this.kf=null);{const e=this.tv.bind(this),i=this.av.bind(this);this.kf=()=>{n.removeEventListener("touchmove",e),n.removeEventListener("touchend",i)},n.addEventListener("touchmove",e,{passive:!1}),n.addEventListener("touchend",i,{passive:!1}),this.Xf(),this.cf=setTimeout(this.fv.bind(this,t),240)}const i=this.Lf(t,e);this.Ff(i,this.jf.vv),this._f||(this.af=0,this._f=setTimeout(this.Hf.bind(this),500),this.uf=Cf(e))}pv(t){if(0!==t.button)return;const e=this.Yf.ownerDocument.documentElement;hf()&&e.addEventListener("mouseleave",this.Bf),this.mf=!1,this.ff=Cf(t),this.Sf&&(this.Sf(),this.Sf=null);{const t=this.hv.bind(this),n=this.Af.bind(this);this.Sf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",n)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",n)}if(this.Rf=!0,this.zf(t))return;const n=this.Lf(t);this.$f(n,this.jf.mv),this.hf||(this.rf=0,this.hf=setTimeout(this.qf.bind(this),500),this.lf=Cf(t))}Zf(){this.Yf.addEventListener("mouseenter",this.Kf.bind(this)),this.Yf.addEventListener("touchcancel",this.Xf.bind(this));{const t=this.Yf.ownerDocument,e=t=>{this.jf.bv&&(t.composed&&this.Yf.contains(t.composedPath()[0])||t.target&&this.Yf.contains(t.target)||this.jf.bv())};this.gf=()=>{t.removeEventListener("touchstart",e)},this.wf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}df()&&(this.Mf=()=>{this.Yf.removeEventListener("dblclick",this.If)},this.Yf.addEventListener("dblclick",this.If)),this.Yf.addEventListener("mouseleave",this.wv.bind(this)),this.Yf.addEventListener("touchstart",this.dv.bind(this),{passive:!0}),function(t){uf&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1})}(this.Yf),this.Yf.addEventListener("mousedown",this.pv.bind(this)),this.gv(),this.Yf.addEventListener("touchmove",()=>{},{passive:!1})}gv(){void 0===this.jf.Mv&&void 0===this.jf.xv&&void 0===this.jf.Sv||(this.Yf.addEventListener("touchstart",t=>this.kv(t.touches),{passive:!0}),this.Yf.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.yf&&void 0!==this.jf.xv){const e=jf(t.touches[0],t.touches[1])/this.Cf;this.jf.xv(this.yf,e),Nf(t)}},{passive:!1}),this.Yf.addEventListener("touchend",t=>{this.kv(t.touches)}))}kv(t){1===t.length&&(this.Tf=!1),2!==t.length||this.Tf||this.df?this.yv():this.Cv(t)}Cv(t){const e=this.Yf.getBoundingClientRect()||{left:0,top:0};this.yf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Cf=jf(t[0],t[1]),void 0!==this.jf.Mv&&this.jf.Mv(),this.Xf()}yv(){null!==this.yf&&(this.yf=null,void 0!==this.jf.Sv&&this.jf.Sv())}wv(t){if(this.xf&&this.xf(),this.zf(t))return;if(!this.Of)return;const e=this.Lf(t);this.$f(e,this.jf.Tv),this.Of=!df()}fv(t){const e=zf(t.touches,Mh(this.Vf));if(null===e)return;const n=this.Lf(t,e);this.Ff(n,this.jf.Pv),this.bf=!0,this.df=!0}zf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Ef(t)<this.Df+500}Ff(t,e){e&&e.call(this.jf,t)}$f(t,e){e&&e.call(this.jf,t)}Lf(t,e){const n=e||t,i=this.Yf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Rv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Dv:t.type,Vv:n.target,Ov:t.view,Bv:()=>{"touchstart"!==t.type&&Nf(t)}}}}function jf(t,e){const n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function Nf(t){t.cancelable&&t.preventDefault()}function Cf(t){return{nt:t.pageX,st:t.pageY}}function Ef(t){return t.timeStamp||performance.now()}function zf(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Tf(t){return{jc:t.jc,Av:{wr:t.Iv.externalId},zv:t.Iv.cursorStyle}}function Mf(t,e,n){for(const i of t){const t=i.gt();if(null!==t&&t.br){const s=t.br(e,n);if(null!==s)return{Ov:i,Av:s}}}return null}function _f(t,e){return n=>{var i,s,r,a;return(null!==(s=null===(i=n.Dt())||void 0===i?void 0:i.Ta())&&void 0!==s?s:"")!==e?[]:null!==(a=null===(r=n.ca)||void 0===r?void 0:r.call(n,t))&&void 0!==a?a:[]}}function Pf(t,e,n,i){if(!t.length)return;let s=0;const r=n/2,a=t[0].At(i,!0);let o=1===e?r-(t[0].Vi()-a/2):t[0].Vi()-a/2-r;o=Math.max(0,o);for(let l=1;l<t.length;l++){const r=t[l],a=t[l-1],c=a.At(i,!1),u=r.Vi(),h=a.Vi();if(1===e?u>h-c:u<h+c){const i=h-c*e;r.Oi(i);const a=i-e*c/2;if((1===e?a<0:a>n)&&o>0){const i=1===e?-1-a:a-n,r=Math.min(i,o);for(let n=s;n<t.length;n++)t[n].Oi(t[n].Vi()+e*r);o-=r}}else s=l,o=1===e?h-c-u:u-(h+c)}}class Af{constructor(t,e,n,i){this.Li=null,this.Lv=null,this.Ev=!1,this.Nv=new pp(200),this.Jr=null,this.Fv=0,this.Wv=!1,this.jv=()=>{this.Wv||this.tn.Hv().$t().$h()},this.$v=()=>{this.Wv||this.tn.Hv().$t().$h()},this.tn=t,this.cn=e,this.So=e.layout,this.Vc=n,this.Uv="left"===i,this.qv=_f("normal",i),this.Yv=_f("top",i),this.Zv=_f("bottom",i),this.Xv=document.createElement("div"),this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Xv.style.width="25px",this.Xv.style.left="0",this.Xv.style.position="relative",this.Kv=xf(this.Xv,lh({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const s=this.Kv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Gv=xf(this.Xv,lh({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0";const a={mv:this.Jv.bind(this),vv:this.Jv.bind(this),lv:this.Qv.bind(this),rv:this.Qv.bind(this),bv:this.tp.bind(this),uv:this.ip.bind(this),ov:this.ip.bind(this),Uf:this.np.bind(this),Wf:this.np.bind(this),Jf:this.sp.bind(this),Tv:this.ep.bind(this)};this.rp=new Sf(this.Gv.canvasElement,a,{sv:()=>!this.cn.handleScroll.vertTouchDrag,ev:()=>!0})}S(){this.rp.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),yf(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),yf(this.Kv.canvasElement),this.Kv.dispose(),null!==this.Li&&this.Li.Xo().p(this),this.Li=null}hp(){return this.Xv}P(){return this.So.fontSize}lp(){const t=this.Vc.W();return this.Jr!==t.R&&(this.Nv.ir(),this.Jr=t.R),t}ap(){if(null===this.Li)return 0;let t=0;const e=this.lp(),n=Mh(this.Kv.canvasElement.getContext("2d"));n.save();const i=this.Li.ja();n.font=this.op(),i.length>0&&(t=Math.max(this.Nv.xi(n,i[0].no),this.Nv.xi(n,i[i.length-1].no)));const s=this._p();for(let o=s.length;o--;){const e=this.Nv.xi(n,s[o].Kt());e>t&&(t=e)}const r=this.Li.Ct();if(null!==r&&null!==this.Lv){const e=this.Li.pn(1,r),i=this.Li.pn(this.Lv.height-2,r);t=Math.max(t,this.Nv.xi(n,this.Li.Fi(Math.floor(Math.min(e,i))+.11111111111111,r)),this.Nv.xi(n,this.Li.Fi(Math.ceil(Math.max(e,i))-.11111111111111,r)))}n.restore();const a=t||34;return pf(Math.ceil(e.C+e.T+e.A+e.I+5+a))}up(t){null!==this.Lv&&ch(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width="".concat(t.width,"px"),this.Xv.style.height="".concat(t.height,"px"))}cp(){return Mh(this.Lv).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Xo().p(this),this.Li=t,t.Xo().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const t=this.tn.dp();this.tn.Hv().$t().L_(t,Mh(this.Dt()))}fp(t){if(null===this.Lv)return;if(1!==t){this.vp(),this.Kv.applySuggestedBitmapSize();const t=mh(this.Kv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.pp(t),this.Ae(t)}),this.tn.mp(t,this.Zv),this.bp(t),this.tn.mp(t,this.qv),this.wp(t))}this.Gv.applySuggestedBitmapSize();const e=mh(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:n}=t;e.clearRect(0,0,n.width,n.height)}),this.gp(e),this.tn.mp(e,this.Yv))}Mp(){return this.Kv.bitmapSize}xp(t,e,n){const i=this.Mp();i.width>0&&i.height>0&&t.drawImage(this.Kv.canvasElement,e,n)}bt(){var t;null===(t=this.Li)||void 0===t||t.ja()}Jv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),n=this.tn.dp();this.Ev=!0,e.D_(n,this.Li,t.localY)}Qv(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),n=this.tn.dp(),i=this.Li;e.V_(n,i,t.localY)}tp(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Hv().$t(),e=this.tn.dp(),n=this.Li;this.Ev&&(this.Ev=!1,t.O_(e,n))}ip(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),n=this.tn.dp();this.Ev=!1,e.O_(n,this.Li)}np(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}sp(t){null!==this.Li&&(!this.tn.Hv().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Vo()||this.Sp(1))}ep(t){this.Sp(0)}_p(){const t=[],e=null===this.Li?void 0:this.Li;return(n=>{for(let i=0;i<n.length;++i){const s=n[i].Rn(this.tn.dp(),e);for(let e=0;e<s.length;e++)t.push(s[e])}})(this.tn.dp().$o()),t}pp(t){let{context:e,bitmapSize:n}=t;const{width:i,height:s}=n,r=this.tn.dp().$t(),a=r.q(),o=r.md();a===o?cd(e,0,0,i,s,a):dd(e,0,0,i,s,a,o)}Ae(t){let{context:e,bitmapSize:n,horizontalPixelRatio:i}=t;if(null===this.Lv||null===this.Li||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.lp().C*i));let r;r=this.Uv?n.width-s:0,e.fillRect(r,0,s,n.height)}bp(t){if(null===this.Lv||null===this.Li)return;const e=this.Li.ja(),n=this.Li.W(),i=this.lp(),s=this.Uv?this.Lv.width-i.T:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:r,horizontalPixelRatio:a,verticalPixelRatio:o}=t;r.fillStyle=n.borderColor;const l=Math.max(1,Math.floor(o)),c=Math.floor(.5*o),u=Math.round(i.T*a);r.beginPath();for(const n of e)r.rect(Math.floor(s*a),Math.round(n.La*o)-c,u,l);r.fill()}),t.useMediaCoordinateSpace(t=>{let{context:r}=t;var a;r.font=this.op(),r.fillStyle=null!==(a=n.textColor)&&void 0!==a?a:this.So.textColor,r.textAlign=this.Uv?"right":"left",r.textBaseline="middle";const o=this.Uv?Math.round(s-i.A):Math.round(s+i.T+i.A),l=e.map(t=>this.Nv.Mi(r,t.no));for(let n=e.length;n--;){const t=e[n];r.fillText(t.no,o,t.La+l[n])}})}vp(){if(null===this.Lv||null===this.Li)return;const t=[],e=this.Li.$o().slice(),n=this.tn.dp(),i=this.lp();this.Li===n.vr()&&this.tn.dp().$o().forEach(t=>{n.dr(t)&&e.push(t)});const s=this.Li;e.forEach(e=>{e.Rn(n,s).forEach(e=>{e.Oi(null),e.Bi()&&t.push(e)})}),t.forEach(t=>t.Oi(t.ki())),this.Li.W().alignLabels&&this.kp(t,i)}kp(t,e){if(null===this.Lv)return;const n=this.Lv.height/2,i=t.filter(t=>t.ki()<=n),s=t.filter(t=>t.ki()>n);i.sort((t,e)=>e.ki()-t.ki()),s.sort((t,e)=>t.ki()-e.ki());for(const r of t){const t=Math.floor(r.At(e)/2),n=r.ki();n>-t&&n<t&&r.Oi(t),n>this.Lv.height-t&&n<this.Lv.height+t&&r.Oi(this.Lv.height-t)}Pf(i,1,this.Lv.height,e),Pf(s,-1,this.Lv.height,e)}wp(t){if(null===this.Lv)return;const e=this._p(),n=this.lp(),i=this.Uv?"right":"left";e.forEach(e=>{e.Ai()&&e.gt(Mh(this.Li)).X(t,n,this.Nv,i)})}gp(t){if(null===this.Lv||null===this.Li)return;const e=this.tn.Hv().$t(),n=[],i=this.tn.dp(),s=e.Yc().Rn(i,this.Li);s.length&&n.push(s);const r=this.lp(),a=this.Uv?"right":"left";n.forEach(e=>{e.forEach(e=>{e.gt(Mh(this.Li)).X(t,r,this.Nv,a)})})}Sp(t){this.Xv.style.cursor=1===t?"ns-resize":"default"}do(){const t=this.ap();this.Fv<t&&this.tn.Hv().$t().Xl(),this.Fv=t}op(){return Qh(this.So.fontSize,this.So.fontFamily)}}function Lf(t,e){var n,i;return null!==(i=null===(n=t._a)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Rf(t,e){var n,i;return null!==(i=null===(n=t.Pn)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Ff(t,e){var n,i;return null!==(i=null===(n=t.Ji)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}function Df(t,e){var n,i;return null!==(i=null===(n=t.la)||void 0===n?void 0:n.call(t,e))&&void 0!==i?i:[]}class Vf{constructor(t,e){this.Lv=lh({width:0,height:0}),this.yp=null,this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=!1,this.Dp=new Wh,this.Vp=new Wh,this.Op=0,this.Bp=!1,this.Ap=null,this.Ip=!1,this.zp=null,this.Lp=null,this.Wv=!1,this.jv=()=>{this.Wv||null===this.Ep||this.$i().$h()},this.$v=()=>{this.Wv||null===this.Ep||this.$i().$h()},this.Jd=t,this.Ep=e,this.Ep.F_().l(this.Np.bind(this),this,!0),this.Fp=document.createElement("td"),this.Fp.style.padding="0",this.Fp.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Fp.appendChild(n),this.Kv=xf(n,lh({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const i=this.Kv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gv=xf(n,lh({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Hp=document.createElement("tr"),this.Hp.appendChild(this.Wp),this.Hp.appendChild(this.Fp),this.Hp.appendChild(this.jp),this.$p(),this.rp=new Sf(this.Gv.canvasElement,this,{sv:()=>null===this.Ap&&!this.Jd.W().handleScroll.vertTouchDrag,ev:()=>null===this.Ap&&!this.Jd.W().handleScroll.horzTouchDrag})}S(){null!==this.yp&&this.yp.S(),null!==this.Cp&&this.Cp.S(),this.Tp=null,this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),yf(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),yf(this.Kv.canvasElement),this.Kv.dispose(),null!==this.Ep&&this.Ep.F_().p(this),this.rp.S()}dp(){return Mh(this.Ep)}Up(t){var e,n;null!==this.Ep&&this.Ep.F_().p(this),this.Ep=t,null!==this.Ep&&this.Ep.F_().l(Vf.prototype.Np.bind(this),this,!0),this.$p(),this.Jd.qp().indexOf(this)===this.Jd.qp().length-1?(this.Tp=null!==(e=this.Tp)&&void 0!==e?e:new vf(this.Fp,this.Jd),this.Tp.bt()):(null===(n=this.Tp)||void 0===n||n.tf(),this.Tp=null)}Hv(){return this.Jd}hp(){return this.Hp}$p(){if(null!==this.Ep&&(this.Yp(),0!==this.$i().wt().length)){if(null!==this.yp){const t=this.Ep.P_();this.yp.Gi(Mh(t))}if(null!==this.Cp){const t=this.Ep.R_();this.Cp.Gi(Mh(t))}}}Zp(){null!==this.yp&&this.yp.bt(),null!==this.Cp&&this.Cp.bt()}g_(){return null!==this.Ep?this.Ep.g_():0}M_(t){this.Ep&&this.Ep.M_(t)}Jf(t){if(!this.Ep)return;this.Xp();const e=t.localX,n=t.localY;this.Kp(e,n,t)}mv(t){this.Xp(),this.Gp(),this.Kp(t.localX,t.localY,t)}Qf(t){var e;if(!this.Ep)return;this.Xp();const n=t.localX,i=t.localY;this.Kp(n,i,t);const s=this.br(n,i);this.Jd.Jp(null!==(e=null==s?void 0:s.zv)&&void 0!==e?e:null),this.$i().Wc(s&&{jc:s.jc,Av:s.Av})}cv(t){null!==this.Ep&&(this.Xp(),this.Qp(t))}Uf(t){null!==this.Ep&&this.tm(this.Vp,t)}Wf(t){this.Uf(t)}lv(t){this.Xp(),this.im(t),this.Kp(t.localX,t.localY,t)}uv(t){null!==this.Ep&&(this.Xp(),this.Bp=!1,this.nm(t))}_v(t){null!==this.Ep&&this.Qp(t)}Pv(t){if(this.Bp=!0,null===this.Ap){const e={x:t.localX,y:t.localY};this.sm(e,e,t)}}Tv(t){null!==this.Ep&&(this.Xp(),this.Ep.$t().Wc(null),this.rm())}hm(){return this.Dp}lm(){return this.Vp}Mv(){this.Op=1,this.$i().Un()}xv(t,e){if(!this.Jd.W().handleScale.pinch)return;const n=5*(e-this.Op);this.Op=e,this.$i().Jc(t.nt,n)}vv(t){this.Bp=!1,this.Ip=null!==this.Ap,this.Gp();const e=this.$i().Yc();null!==this.Ap&&e.yt()&&(this.zp={x:e.Yt(),y:e.Zt()},this.Ap={x:t.localX,y:t.localY})}rv(t){if(null===this.Ep)return;const e=t.localX,n=t.localY;if(null===this.Ap)this.im(t);else{this.Ip=!1;const i=Mh(this.zp),s=i.x+(e-this.Ap.x),r=i.y+(n-this.Ap.y);this.Kp(s,r,t)}}ov(t){0===this.Hv().W().trackingMode.exitMode&&(this.Ip=!0),this.am(),this.nm(t)}br(t,e){const n=this.Ep;return null===n?null:function(t,e,n){const i=t.$o(),s=function(t,e,n){var i,s;let r,a;for(const c of t){const t=null!==(s=null===(i=c.fa)||void 0===i?void 0:i.call(c,e,n))&&void 0!==s?s:[];for(const e of t)o=e.zOrder,(!(l=null==r?void 0:r.zOrder)||"top"===o&&"top"!==l||"normal"===o&&"bottom"===l)&&(r=e,a=c)}var o,l;return r&&a?{Iv:r,jc:a}:null}(i,e,n);if("top"===(null==s?void 0:s.Iv.zOrder))return Tf(s);for(const r of i){if(s&&s.jc===r&&"bottom"!==s.Iv.zOrder&&!s.Iv.isBackground)return Tf(s);const i=Mf(r.Pn(t),e,n);if(null!==i)return{jc:r,Ov:i.Ov,Av:i.Av};if(s&&s.jc===r&&"bottom"!==s.Iv.zOrder&&s.Iv.isBackground)return Tf(s)}return(null==s?void 0:s.Iv)?Tf(s):null}(n,t,e)}om(t,e){Mh("left"===e?this.yp:this.Cp).up(lh({width:t,height:this.Lv.height}))}_m(){return this.Lv}up(t){ch(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Fp.style.width=t.width+"px",this.Fp.style.height=t.height+"px")}um(){const t=Mh(this.Ep);t.T_(t.P_()),t.T_(t.R_());for(const e of t.Oa())if(t.dr(e)){const n=e.Dt();null!==n&&t.T_(n),e.Vn()}}Mp(){return this.Kv.bitmapSize}xp(t,e,n){const i=this.Mp();i.width>0&&i.height>0&&t.drawImage(this.Kv.canvasElement,e,n)}fp(t){if(0===t)return;if(null===this.Ep)return;if(t>1&&this.um(),null!==this.yp&&this.yp.fp(t),null!==this.Cp&&this.Cp.fp(t),1!==t){this.Kv.applySuggestedBitmapSize();const t=mh(this.Kv);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.pp(t)}),this.Ep&&(this.dm(t,Lf),this.fm(t),this.vm(t),this.dm(t,Rf),this.dm(t,Ff)))}this.Gv.applySuggestedBitmapSize();const e=mh(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:n}=t;e.clearRect(0,0,n.width,n.height)}),this.pm(e),this.dm(e,Df))}bm(){return this.yp}wm(){return this.Cp}mp(t,e){this.dm(t,e)}Np(){null!==this.Ep&&this.Ep.F_().p(this),this.Ep=null}Qp(t){this.tm(this.Dp,t)}tm(t,e){const n=e.localX,i=e.localY;t.M()&&t.m(this.$i().St().Eu(n),{x:n,y:i},e)}pp(t){let{context:e,bitmapSize:n}=t;const{width:i,height:s}=n,r=this.$i(),a=r.q(),o=r.md();a===o?cd(e,0,0,i,s,o):dd(e,0,0,i,s,a,o)}fm(t){const e=Mh(this.Ep).W_().Uh().gt();null!==e&&e.X(t,!1)}vm(t){const e=this.$i().qc();this.gm(t,Rf,bf,e),this.gm(t,Rf,wf,e)}pm(t){this.gm(t,Rf,wf,this.$i().Yc())}dm(t,e){const n=Mh(this.Ep).$o();for(const i of n)this.gm(t,e,bf,i);for(const i of n)this.gm(t,e,wf,i)}gm(t,e,n,i){const s=Mh(this.Ep),r=s.$t().Fc(),a=null!==r&&r.jc===i,o=null!==r&&a&&void 0!==r.Av?r.Av.gr:void 0;kf(e,e=>n(e,t,a,o),i,s)}Yp(){if(null===this.Ep)return;const t=this.Jd,e=this.Ep.P_().W().visible,n=this.Ep.R_().W().visible;e||null===this.yp||(this.Wp.removeChild(this.yp.hp()),this.yp.S(),this.yp=null),n||null===this.Cp||(this.jp.removeChild(this.Cp.hp()),this.Cp.S(),this.Cp=null);const i=t.$t()._d();e&&null===this.yp&&(this.yp=new Af(this,t.W(),i,"left"),this.Wp.appendChild(this.yp.hp())),n&&null===this.Cp&&(this.Cp=new Af(this,t.W(),i,"right"),this.jp.appendChild(this.Cp.hp()))}Mm(t){return t.Rv&&this.Bp||null!==this.Ap}xm(t){return Math.max(0,Math.min(t,this.Lv.width-1))}Sm(t){return Math.max(0,Math.min(t,this.Lv.height-1))}Kp(t,e,n){this.$i().hd(this.xm(t),this.Sm(e),n,Mh(this.Ep))}rm(){this.$i().ad()}am(){this.Ip&&(this.Ap=null,this.rm())}sm(t,e,n){this.Ap=t,this.Ip=!1,this.Kp(e.x,e.y,n);const i=this.$i().Yc();this.zp={x:i.Yt(),y:i.Zt()}}$i(){return this.Jd.$t()}nm(t){if(!this.Rp)return;const e=this.$i(),n=this.dp();if(e.I_(n,n.vn()),this.Pp=null,this.Rp=!1,e.sd(),null!==this.Lp){const t=performance.now(),n=e.St();this.Lp.Dr(n.ju(),t),this.Lp.Ju(t)||e.Zn(this.Lp)}}Xp(){this.Ap=null}Gp(){if(this.Ep){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Mh(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Ep.vn().Ni()&&this.$i().St().Ni()}}im(t){if(null===this.Ep)return;const e=this.$i(),n=e.St();if(n.Ni())return;const i=this.Jd.W(),s=i.handleScroll,r=i.kineticScroll;if((!s.pressedMouseMove||t.Rv)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!t.Rv))return;const a=this.Ep.vn(),o=performance.now();if(null!==this.Pp||this.Mm(t)||(this.Pp={x:t.clientX,y:t.clientY,Vd:o,km:t.localX,ym:t.localY}),null!==this.Pp&&!this.Rp&&(this.Pp.x!==t.clientX||this.Pp.y!==t.clientY)){if(t.Rv&&r.touch||!t.Rv&&r.mouse){const t=n.he();this.Lp=new gf(.2/t,7/t,.997,15/t),this.Lp.qd(n.ju(),this.Pp.Vd)}else this.Lp=null;a.Ni()||e.B_(this.Ep,a,t.localY),e.td(t.localX),this.Rp=!0}this.Rp&&(a.Ni()||e.A_(this.Ep,a,t.localY),e.nd(t.localX),null!==this.Lp&&this.Lp.qd(n.ju(),o))}}class Of{constructor(t,e,n,i,s){this.ft=!0,this.Lv=lh({width:0,height:0}),this.jv=()=>this.fp(3),this.Uv="left"===t,this.Vc=n._d,this.cn=e,this.Cm=i,this.Tm=s,this.Xv=document.createElement("div"),this.Xv.style.width="25px",this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Kv=xf(this.Xv,lh({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv)}S(){this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),yf(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Xv}_m(){return this.Lv}up(t){ch(this.Lv,t)||(this.Lv=t,this.Kv.resizeCanvasElement(t),this.Xv.style.width="".concat(t.width,"px"),this.Xv.style.height="".concat(t.height,"px"),this.ft=!0)}fp(t){if(t<3&&!this.ft)return;if(0===this.Lv.width||0===this.Lv.height)return;this.ft=!1,this.Kv.applySuggestedBitmapSize();const e=mh(this.Kv);null!==e&&e.useBitmapCoordinateSpace(t=>{this.pp(t),this.Ae(t)})}Mp(){return this.Kv.bitmapSize}xp(t,e,n){const i=this.Mp();i.width>0&&i.height>0&&t.drawImage(this.Kv.canvasElement,e,n)}Ae(t){let{context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}=t;if(!this.Cm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Vc.W().C*i),a=Math.floor(this.Vc.W().C*s),o=this.Uv?n.width-r:0;e.fillRect(o,0,r,a)}pp(t){let{context:e,bitmapSize:n}=t;cd(e,0,0,n.width,n.height,this.Tm())}}function If(t){return e=>{var n,i;return null!==(i=null===(n=e.da)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:[]}}const Bf=If("normal"),Wf=If("top"),Uf=If("bottom");class $f{constructor(t,e){this.Pm=null,this.Rm=null,this.k=null,this.Dm=!1,this.Lv=lh({width:0,height:0}),this.Vm=new Wh,this.Nv=new pp(5),this.Wv=!1,this.jv=()=>{this.Wv||this.Jd.$t().$h()},this.$v=()=>{this.Wv||this.Jd.$t().$h()},this.Jd=t,this.U_=e,this.cn=t.W().layout,this.Zd=document.createElement("tr"),this.Om=document.createElement("td"),this.Om.style.padding="0",this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Xv=document.createElement("td"),this.Xv.style.height="25px",this.Xv.style.padding="0",this.Am=document.createElement("div"),this.Am.style.width="100%",this.Am.style.height="100%",this.Am.style.position="relative",this.Am.style.overflow="hidden",this.Xv.appendChild(this.Am),this.Kv=xf(this.Am,lh({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const n=this.Kv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gv=xf(this.Am,lh({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Zd.appendChild(this.Om),this.Zd.appendChild(this.Xv),this.Zd.appendChild(this.Bm),this.Im(),this.Jd.$t().w_().l(this.Im.bind(this),this),this.rp=new Sf(this.Gv.canvasElement,this,{sv:()=>!0,ev:()=>!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.rp.S(),null!==this.Pm&&this.Pm.S(),null!==this.Rm&&this.Rm.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),yf(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),yf(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Zd}zm(){return this.Pm}Lm(){return this.Rm}mv(t){if(this.Dm)return;this.Dm=!0;const e=this.Jd.$t();!e.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}vv(t){this.mv(t)}bv(){const t=this.Jd.$t();!t.St().Ni()&&this.Dm&&(this.Dm=!1,this.Jd.W().handleScale.axisPressedMouseMove.time&&t.rd())}lv(t){const e=this.Jd.$t();!e.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&e.ed(t.localX)}rv(t){this.lv(t)}uv(){this.Dm=!1;const t=this.Jd.$t();t.St().Ni()&&!this.Jd.W().handleScale.axisPressedMouseMove.time||t.rd()}ov(){this.uv()}Uf(){this.Jd.W().handleScale.axisDoubleClickReset.time&&this.Jd.$t().Kn()}Wf(){this.Uf()}Jf(){this.Jd.$t().W().handleScale.axisPressedMouseMove.time&&this.Sp(1)}Tv(){this.Sp(0)}_m(){return this.Lv}Em(){return this.Vm}Nm(t,e,n){ch(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width="".concat(t.width,"px"),this.Xv.style.height="".concat(t.height,"px"),this.Vm.m(t)),null!==this.Pm&&this.Pm.up(lh({width:e,height:t.height})),null!==this.Rm&&this.Rm.up(lh({width:n,height:t.height}))}Fm(){const t=this.Wm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.jm)}bt(){this.Jd.$t().St().ja()}Mp(){return this.Kv.bitmapSize}xp(t,e,n){const i=this.Mp();i.width>0&&i.height>0&&t.drawImage(this.Kv.canvasElement,e,n)}fp(t){if(0===t)return;if(1!==t){this.Kv.applySuggestedBitmapSize();const e=mh(this.Kv);null!==e&&(e.useBitmapCoordinateSpace(t=>{this.pp(t),this.Ae(t),this.Hm(e,Uf)}),this.bp(e),this.Hm(e,Bf)),null!==this.Pm&&this.Pm.fp(t),null!==this.Rm&&this.Rm.fp(t)}this.Gv.applySuggestedBitmapSize();const e=mh(this.Gv);null!==e&&(e.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:n}=t;e.clearRect(0,0,n.width,n.height)}),this.$m([...this.Jd.$t().wt(),this.Jd.$t().Yc()],e),this.Hm(e,Wf))}Hm(t,e){const n=this.Jd.$t().wt();for(const i of n)kf(e,e=>bf(e,t,!1,void 0),i,void 0);for(const i of n)kf(e,e=>wf(e,t,!1,void 0),i,void 0)}pp(t){let{context:e,bitmapSize:n}=t;cd(e,0,0,n.width,n.height,this.Jd.$t().md())}Ae(t){let{context:e,bitmapSize:n,verticalPixelRatio:i}=t;if(this.Jd.W().timeScale.borderVisible){e.fillStyle=this.Um();const t=Math.max(1,Math.floor(this.Wm().C*i));e.fillRect(0,0,n.width,t)}}bp(t){const e=this.Jd.$t().St(),n=e.ja();if(!n||0===n.length)return;const i=this.U_.maxTickMarkWeight(n),s=this.Wm(),r=e.W();r.borderVisible&&r.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:e,horizontalPixelRatio:i,verticalPixelRatio:r}=t;e.strokeStyle=this.Um(),e.fillStyle=this.Um();const a=Math.max(1,Math.floor(i)),o=Math.floor(.5*i);e.beginPath();const l=Math.round(s.T*r);for(let s=n.length;s--;){const t=Math.round(n[s].coord*i);e.rect(t-o,0,a,l)}e.fill()}),t.useMediaCoordinateSpace(t=>{let{context:e}=t;const r=s.C+s.T+s.L+s.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.$(),e.font=this.op();for(const s of n)if(s.weight<i){const t=s.needAlignCoordinate?this.qm(e,s.coord,s.label):s.coord;e.fillText(s.label,t,r)}this.Jd.W().timeScale.allowBoldLabels&&(e.font=this.Ym());for(const s of n)if(s.weight>=i){const t=s.needAlignCoordinate?this.qm(e,s.coord,s.label):s.coord;e.fillText(s.label,t,r)}})}qm(t,e,n){const i=this.Nv.xi(t,n),s=i/2,r=Math.floor(e-s)+.5;return r<0?e+=Math.abs(0-r):r+i>this.Lv.width&&(e-=Math.abs(this.Lv.width-(r+i))),e}$m(t,e){const n=this.Wm();for(const i of t)for(const t of i.Qi())t.gt().X(e,n)}Um(){return this.Jd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}op(){return Qh(this.j(),this.cn.fontFamily)}Ym(){return Qh(this.j(),this.cn.fontFamily,"bold")}Wm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new pp,jm:0});const t=this.k,e=this.op();if(t.R!==e){const n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.B=3*n/12,t.ji=9*n/12,t.N=0,t.jm=4*n/12,t.Wi.ir()}return this.k}Sp(t){this.Xv.style.cursor=1===t?"ew-resize":"default"}Im(){const t=this.Jd.$t(),e=t.W();e.leftPriceScale.visible||null===this.Pm||(this.Om.removeChild(this.Pm.hp()),this.Pm.S(),this.Pm=null),e.rightPriceScale.visible||null===this.Rm||(this.Bm.removeChild(this.Rm.hp()),this.Rm.S(),this.Rm=null);const n={_d:this.Jd.$t()._d()},i=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,s=()=>t.md();e.leftPriceScale.visible&&null===this.Pm&&(this.Pm=new Of("left",e,n,i,s),this.Om.appendChild(this.Pm.hp())),e.rightPriceScale.visible&&null===this.Rm&&(this.Rm=new Of("right",e,n,i,s),this.Bm.appendChild(this.Rm.hp()))}}const Hf=!!uf&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!uf&&((null===(qf=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===qf?void 0:qf.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var qf;class Kf{constructor(t,e,n){var i;this.Zm=[],this.Xm=0,this.ro=0,this.o_=0,this.Km=0,this.Gm=0,this.Jm=null,this.Qm=!1,this.Dp=new Wh,this.Vp=new Wh,this.Pc=new Wh,this.tb=null,this.ib=null,this.Gd=t,this.cn=e,this.U_=n,this.Zd=document.createElement("div"),this.Zd.classList.add("tv-lightweight-charts"),this.Zd.style.overflow="hidden",this.Zd.style.direction="ltr",this.Zd.style.width="100%",this.Zd.style.height="100%",(i=this.Zd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.nb=document.createElement("table"),this.nb.setAttribute("cellspacing","0"),this.Zd.appendChild(this.nb),this.sb=this.eb.bind(this),Xf(this.cn)&&this.rb(!0),this.$i=new qm(this.Dc.bind(this),this.cn,n),this.$t().Zc().l(this.hb.bind(this),this),this.lb=new $f(this,this.U_),this.nb.appendChild(this.lb.hp());const s=e.autoSize&&this.ab();let r=this.cn.width,a=this.cn.height;if(s||0===r||0===a){const e=t.getBoundingClientRect();r=r||e.width,a=a||e.height}this.ob(r,a),this._b(),t.appendChild(this.Zd),this.ub(),this.$i.St().sc().l(this.$i.Xl.bind(this.$i),this),this.$i.w_().l(this.$i.Xl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}qp(){return this.Zm}cb(){return this.lb}S(){this.rb(!1),0!==this.Xm&&window.cancelAnimationFrame(this.Xm),this.$i.Zc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const t of this.Zm)this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S();this.Zm=[],Mh(this.lb).S(),null!==this.Zd.parentElement&&this.Zd.parentElement.removeChild(this.Zd),this.Pc.S(),this.Dp.S(),this.Vp.S(),this.fb()}ob(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ro===e&&this.o_===t)return;const i=function(t){const e=Math.floor(t.width),n=Math.floor(t.height);return lh({width:e-e%2,height:n-n%2})}(lh({width:t,height:e}));this.ro=i.height,this.o_=i.width;const s=this.ro+"px",r=this.o_+"px";Mh(this.Zd).style.height=s,Mh(this.Zd).style.width=r,this.nb.style.height=s,this.nb.style.width=r,n?this.pb(Sd.es(),performance.now()):this.$i.Xl()}fp(t){void 0===t&&(t=Sd.es());for(let e=0;e<this.Zm.length;e++)this.Zm[e].fp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.lb.fp(t.jn())}Hh(t){const e=Xf(this.cn);this.$i.Hh(t);const n=Xf(this.cn);n!==e&&this.rb(n),this.ub(),this.mb(t)}hm(){return this.Dp}lm(){return this.Vp}Zc(){return this.Pc}bb(){null!==this.Jm&&(this.pb(this.Jm,performance.now()),this.Jm=null);const t=this.wb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=Mh(e.getContext("2d"));return this.wb(n),e}gb(t){return("left"!==t||this.Mb())&&("right"!==t||this.xb())?0===this.Zm.length?0:Mh("left"===t?this.Zm[0].bm():this.Zm[0].wm()).cp():0}Sb(){return this.cn.autoSize&&null!==this.tb}kb(){return this.Zd}Jp(t){this.ib=t,this.ib?this.kb().style.setProperty("cursor",t):this.kb().style.removeProperty("cursor")}yb(){return this.ib}Cb(){return Th(this.Zm[0])._m()}mb(t){(void 0!==t.autoSize||!this.tb||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.tb&&this.ab(),!1===t.autoSize&&null!==this.tb&&this.fb(),t.autoSize||void 0===t.width&&void 0===t.height||this.ob(t.width||this.o_,t.height||this.ro))}wb(t){let e=0,n=0;const i=this.Zm[0],s=(e,n)=>{let i=0;for(let s=0;s<this.Zm.length;s++){const r=this.Zm[s],a=Mh("left"===e?r.bm():r.wm()),o=a.Mp();null!==t&&a.xp(t,n,i),i+=o.height}};this.Mb()&&(s("left",0),e+=Mh(i.bm()).Mp().width);for(let a=0;a<this.Zm.length;a++){const i=this.Zm[a],s=i.Mp();null!==t&&i.xp(t,e,n),n+=s.height}e+=i.Mp().width,this.xb()&&(s("right",e),e+=Mh(i.wm()).Mp().width);const r=(e,n,i)=>{Mh("left"===e?this.lb.zm():this.lb.Lm()).xp(Mh(t),n,i)};if(this.cn.timeScale.visible){const e=this.lb.Mp();if(null!==t){let s=0;this.Mb()&&(r("left",s,n),s=Mh(i.bm()).Mp().width),this.lb.xp(t,s,n),s+=e.width,this.xb()&&r("right",s,n)}n+=e.height}return lh({width:e,height:n})}Tb(){let t=0,e=0,n=0;for(const p of this.Zm)this.Mb()&&(e=Math.max(e,Mh(p.bm()).ap(),this.cn.leftPriceScale.minimumWidth)),this.xb()&&(n=Math.max(n,Mh(p.wm()).ap(),this.cn.rightPriceScale.minimumWidth)),t+=p.g_();e=pf(e),n=pf(n);const i=this.o_,s=this.ro,r=Math.max(i-e-n,0),a=this.cn.timeScale.visible;let o=a?Math.max(this.lb.Fm(),this.cn.timeScale.minimumHeight):0;var l;o=(l=o)+l%2;const c=0+o,u=s<c?0:s-c,h=u/t;let d=0;for(let p=0;p<this.Zm.length;++p){const t=this.Zm[p];t.Up(this.$i.Uc()[p]);let i=0,s=0;s=p===this.Zm.length-1?u-d:Math.round(t.g_()*h),i=Math.max(s,2),d+=i,t.up(lh({width:r,height:i})),this.Mb()&&t.om(e,"left"),this.xb()&&t.om(n,"right"),t.dp()&&this.$i.Xc(t.dp(),i)}this.lb.Nm(lh({width:a?r:0,height:o}),a?e:0,a?n:0),this.$i.x_(r),this.Km!==e&&(this.Km=e),this.Gm!==n&&(this.Gm=n)}rb(t){t?this.Zd.addEventListener("wheel",this.sb,{passive:!1}):this.Zd.removeEventListener("wheel",this.sb)}Pb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Hf?1/window.devicePixelRatio:1}eb(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;const e=this.Pb(t),n=e*t.deltaX/100,i=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==i&&this.cn.handleScale.mouseWheel){const e=Math.sign(i)*Math.min(1,Math.abs(i)),n=t.clientX-this.Zd.getBoundingClientRect().left;this.$t().Jc(n,e)}0!==n&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*n)}pb(t,e){var n;const i=t.jn();3===i&&this.Rb(),3!==i&&2!==i||(this.Db(t),this.Vb(t,e),this.lb.bt(),this.Zm.forEach(t=>{t.Zp()}),3===(null===(n=this.Jm)||void 0===n?void 0:n.jn())&&(this.Jm.ts(t),this.Rb(),this.Db(this.Jm),this.Vb(this.Jm,e),t=this.Jm,this.Jm=null)),this.fp(t)}Vb(t,e){for(const n of t.Qn())this.ns(n,e)}Db(t){const e=this.$i.Uc();for(let n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].E_()}ns(t,e){const n=this.$i.St();switch(t.qn){case 0:n.rc();break;case 1:n.hc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.Uu();break;case 5:t.Vt.Ju(e)||n.Jn(t.Vt.Qu(e))}}Dc(t){null!==this.Jm?this.Jm.ts(t):this.Jm=t,this.Qm||(this.Qm=!0,this.Xm=window.requestAnimationFrame(t=>{if(this.Qm=!1,this.Xm=0,null!==this.Jm){const e=this.Jm;this.Jm=null,this.pb(e,t);for(const n of e.Qn())if(5===n.qn&&!n.Vt.Ju(t)){this.$t().Zn(n.Vt);break}}}))}Rb(){this._b()}_b(){const t=this.$i.Uc(),e=t.length,n=this.Zm.length;for(let i=e;i<n;i++){const t=Th(this.Zm.pop());this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S()}for(let i=n;i<e;i++){const e=new Vf(this,t[i]);e.hm().l(this.Ob.bind(this),this),e.lm().l(this.Bb.bind(this),this),this.Zm.push(e),this.nb.insertBefore(e.hp(),this.lb.hp())}for(let i=0;i<e;i++){const e=t[i],n=this.Zm[i];n.dp()!==e?n.Up(e):n.$p()}this.ub(),this.Tb()}Ab(t,e,n){var i;const s=new Map;let r;if(null!==t&&this.$i.wt().forEach(e=>{const n=e.In().hl(t);null!==n&&s.set(e,n)}),null!==t){const e=null===(i=this.$i.St().Ui(t))||void 0===i?void 0:i.originalTime;void 0!==e&&(r=e)}const a=this.$t().Fc(),o=null!==a&&a.jc instanceof om?a.jc:void 0,l=null!==a&&void 0!==a.Av?a.Av.wr:void 0;return{Ib:r,se:null!=t?t:void 0,zb:null!=e?e:void 0,Lb:o,Eb:s,Nb:l,Fb:null!=n?n:void 0}}Ob(t,e,n){this.Dp.m(()=>this.Ab(t,e,n))}Bb(t,e,n){this.Vp.m(()=>this.Ab(t,e,n))}hb(t,e,n){this.Pc.m(()=>this.Ab(t,e,n))}ub(){const t=this.cn.timeScale.visible?"":"none";this.lb.hp().style.display=t}Mb(){return this.Zm[0].dp().P_().W().visible}xb(){return this.Zm[0].dp().R_().W().visible}ab(){return"ResizeObserver"in window&&(this.tb=new ResizeObserver(t=>{const e=t.find(t=>t.target===this.Gd);e&&this.ob(e.contentRect.width,e.contentRect.height)}),this.tb.observe(this.Gd,{box:"border-box"}),!0)}fb(){null!==this.tb&&this.tb.disconnect(),this.tb=null}}function Xf(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Gf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n}function Yf(t,e,n,i){const s=n.value,r={se:e,ot:t,Vt:[s,s,s,s],Ib:i};return void 0!==n.color&&(r.V=n.color),r}function Jf(t,e,n,i){const s=n.value,r={se:e,ot:t,Vt:[s,s,s,s],Ib:i};return void 0!==n.lineColor&&(r.lt=n.lineColor),void 0!==n.topColor&&(r.Ts=n.topColor),void 0!==n.bottomColor&&(r.Ps=n.bottomColor),r}function Qf(t,e,n,i){const s=n.value,r={se:e,ot:t,Vt:[s,s,s,s],Ib:i};return void 0!==n.topLineColor&&(r.Pe=n.topLineColor),void 0!==n.bottomLineColor&&(r.Re=n.bottomLineColor),void 0!==n.topFillColor1&&(r.Se=n.topFillColor1),void 0!==n.topFillColor2&&(r.ke=n.topFillColor2),void 0!==n.bottomFillColor1&&(r.ye=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(r.Ce=n.bottomFillColor2),r}function Zf(t,e,n,i){const s={se:e,ot:t,Vt:[n.open,n.high,n.low,n.close],Ib:i};return void 0!==n.color&&(s.V=n.color),s}function tg(t,e,n,i){const s={se:e,ot:t,Vt:[n.open,n.high,n.low,n.close],Ib:i};return void 0!==n.color&&(s.V=n.color),void 0!==n.borderColor&&(s.Ot=n.borderColor),void 0!==n.wickColor&&(s.Zh=n.wickColor),s}function eg(t,e,n,i,s){const r=Th(s)(n),a=Math.max(...r),o=Math.min(...r),l=r[r.length-1],c=[l,a,o,l],u=n,{time:h,color:d}=u;return{se:e,ot:t,Vt:c,Ib:i,He:Gf(u,["time","color"]),V:d}}function ng(t){return void 0!==t.Vt}function ig(t,e){return void 0!==e.customValues&&(t.Wb=e.customValues),t}function sg(t){return(e,n,i,s,r,a)=>function(t,e){return e?e(t):void 0===(n=t).open&&void 0===n.value;var n}(i,a)?ig({ot:e,se:n,Ib:s},i):ig(t(e,n,i,s,r),i)}function rg(t){return{Candlestick:sg(tg),Bar:sg(Zf),Area:sg(Jf),Baseline:sg(Qf),Histogram:sg(Yf),Line:sg(Yf),Custom:sg(eg)}[t]}function ag(t){return{se:0,jb:new Map,ha:t}}function og(t,e){if(void 0!==t&&0!==t.length)return{Hb:e.key(t[0].ot),$b:e.key(t[t.length-1].ot)}}function lg(t){let e;return t.forEach(t=>{void 0===e&&(e=t.Ib)}),Th(e)}class cg{constructor(t){this.Ub=new Map,this.qb=new Map,this.Yb=new Map,this.Zb=[],this.U_=t}S(){this.Ub.clear(),this.qb.clear(),this.Yb.clear(),this.Zb=[]}Xb(t,e){let n=0!==this.Ub.size,i=!1;const s=this.qb.get(t);if(void 0!==s)if(1===this.qb.size)n=!1,i=!0,this.Ub.clear();else for(const o of this.Zb)o.pointData.jb.delete(t)&&(i=!0);let r=[];if(0!==e.length){const n=e.map(t=>t.time),s=this.U_.createConverterToInternalObj(e),a=rg(t.Jh()),o=t.ya(),l=t.Ca();r=e.map((e,r)=>{const c=s(e.time),u=this.U_.key(c);let h=this.Ub.get(u);void 0===h&&(h=ag(c),this.Ub.set(u,h),i=!0);const d=a(c,h.se,e,n[r],o,l);return h.jb.set(t,d),d})}n&&this.Kb(),this.Gb(t,r);let a=-1;if(i){const t=[];this.Ub.forEach(e=>{t.push({timeWeight:0,time:e.ha,pointData:e,originalTime:lg(e.jb)})}),t.sort((t,e)=>this.U_.key(t.time)-this.U_.key(e.time)),a=this.Jb(t)}return this.Qb(t,a,function(t,e,n){const i=og(t,n),s=og(e,n);if(void 0!==i&&void 0!==s)return{Ql:i.$b>=s.$b&&i.Hb>=s.Hb}}(this.qb.get(t),s,this.U_))}fd(t){return this.Xb(t,[])}tw(t,e){const n=e;!function(t){void 0===t.Ib&&(t.Ib=t.time)}(n),this.U_.preprocessData(e);const i=this.U_.createConverterToInternalObj([e])(e.time),s=this.Yb.get(t);if(void 0!==s&&this.U_.key(i)<this.U_.key(s))throw new Error("Cannot update oldest data, last time=".concat(s,", new time=").concat(i));let r=this.Ub.get(this.U_.key(i));const a=void 0===r;void 0===r&&(r=ag(i),this.Ub.set(this.U_.key(i),r));const o=rg(t.Jh()),l=t.ya(),c=t.Ca(),u=o(i,r.se,e,n.Ib,l,c);r.jb.set(t,u),this.iw(t,u);const h={Ql:ng(u)};if(!a)return this.Qb(t,-1,h);const d={timeWeight:0,time:r.ha,pointData:r,originalTime:lg(r.jb)},p=$d(this.Zb,this.U_.key(d.time),(t,e)=>this.U_.key(t.time)<e);this.Zb.splice(p,0,d);for(let m=p;m<this.Zb.length;++m)ug(this.Zb[m].pointData,m);return this.U_.fillWeightsForPoints(this.Zb,p),this.Qb(t,p,h)}iw(t,e){let n=this.qb.get(t);void 0===n&&(n=[],this.qb.set(t,n));const i=0!==n.length?n[n.length-1]:null;null===i||this.U_.key(e.ot)>this.U_.key(i.ot)?ng(e)&&n.push(e):ng(e)?n[n.length-1]=e:n.splice(-1,1),this.Yb.set(t,e.ot)}Gb(t,e){0!==e.length?(this.qb.set(t,e.filter(ng)),this.Yb.set(t,e[e.length-1].ot)):(this.qb.delete(t),this.Yb.delete(t))}Kb(){for(const t of this.Zb)0===t.pointData.jb.size&&this.Ub.delete(this.U_.key(t.time))}Jb(t){let e=-1;for(let n=0;n<this.Zb.length&&n<t.length;++n){const i=this.Zb[n],s=t[n];if(this.U_.key(i.time)!==this.U_.key(s.time)){e=n;break}s.timeWeight=i.timeWeight,ug(s.pointData,n)}if(-1===e&&this.Zb.length!==t.length&&(e=Math.min(this.Zb.length,t.length)),-1===e)return-1;for(let n=e;n<t.length;++n)ug(t[n].pointData,n);return this.U_.fillWeightsForPoints(t,e),this.Zb=t,e}nw(){if(0===this.qb.size)return null;let t=0;return this.qb.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].se))}),t}Qb(t,e,n){const i={sw:new Map,St:{Lu:this.nw()}};if(-1!==e)this.qb.forEach((e,s)=>{i.sw.set(s,{He:e,ew:s===t?n:void 0})}),this.qb.has(t)||i.sw.set(t,{He:[],ew:n}),i.St.rw=this.Zb,i.St.hw=e;else{const e=this.qb.get(t);i.sw.set(t,{He:e||[],ew:n})}return i}}function ug(t,e){t.se=e,t.jb.forEach(t=>{t.se=e})}function hg(t){const e={value:t.Vt[3],time:t.Ib};return void 0!==t.Wb&&(e.customValues=t.Wb),e}function dg(t){const e=hg(t);return void 0!==t.V&&(e.color=t.V),e}function pg(t){const e=hg(t);return void 0!==t.lt&&(e.lineColor=t.lt),void 0!==t.Ts&&(e.topColor=t.Ts),void 0!==t.Ps&&(e.bottomColor=t.Ps),e}function mg(t){const e=hg(t);return void 0!==t.Pe&&(e.topLineColor=t.Pe),void 0!==t.Re&&(e.bottomLineColor=t.Re),void 0!==t.Se&&(e.topFillColor1=t.Se),void 0!==t.ke&&(e.topFillColor2=t.ke),void 0!==t.ye&&(e.bottomFillColor1=t.ye),void 0!==t.Ce&&(e.bottomFillColor2=t.Ce),e}function fg(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.Ib};return void 0!==t.Wb&&(e.customValues=t.Wb),e}function gg(t){const e=fg(t);return void 0!==t.V&&(e.color=t.V),e}function vg(t){const e=fg(t),{V:n,Ot:i,Zh:s}=t;return void 0!==n&&(e.color=n),void 0!==i&&(e.borderColor=i),void 0!==s&&(e.wickColor=s),e}function xg(t){return{Area:pg,Line:dg,Baseline:mg,Histogram:dg,Bar:gg,Candlestick:vg,Custom:yg}[t]}function yg(t){const e=t.Ib;return Object.assign(Object.assign({},t.He),{time:e})}const bg={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},wg={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},kg={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Jh,attributionLogo:!0},Sg={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},jg={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},Ng={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Jh,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Cg(){return{width:0,height:0,autoSize:!1,layout:kg,crosshair:bg,grid:wg,overlayPriceScales:Object.assign({},Sg),leftPriceScale:Object.assign(Object.assign({},Sg),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Sg),{visible:!0}),timeScale:jg,watermark:Ng,localization:{locale:uf?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Eg{constructor(t,e){this.lw=t,this.aw=e}applyOptions(t){this.lw.$t().Hc(this.aw,t)}options(){return this.Li().W()}width(){return kd(this.aw)?this.lw.gb(this.aw):0}Li(){return Mh(this.lw.$t().$c(this.aw)).Dt}}function zg(t,e,n){const i=Gf(t,["time","originalTime"]),s=Object.assign({time:e},i);return void 0!==n&&(s.originalTime=n),s}const Tg={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Mg{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}ow(){return this.Eh}}class _g{constructor(t,e,n,i,s){this._w=new Wh,this.Ls=t,this.uw=e,this.cw=n,this.U_=s,this.dw=i}S(){this._w.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){const e=this.Ls.Ct();return null===e?null:this.Ls.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Ls.Ct();return null===e?null:this.Ls.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(null===t)return null;const e=new Lm(new _m(t.from,t.to)).hu(),n=this.Ls.In();if(n.Ni())return null;const i=n.hl(e.Vs(),1),s=n.hl(e.ui(),-1),r=Mh(n.sl()),a=Mh(n.An());if(null!==i&&null!==s&&i.se>s.se)return{barsBefore:t.from-r,barsAfter:a-t.to};const o={barsBefore:null===i||i.se===r?t.from-r:i.se-r,barsAfter:null===s||s.se===a?a-t.to:a-s.se};return null!==i&&null!==s&&(o.from=i.Ib,o.to=s.Ib),o}setData(t){this.U_,this.Ls.Jh(),this.uw.fw(this.Ls,t),this.pw("full")}update(t){this.Ls.Jh(),this.uw.mw(this.Ls,t),this.pw("update")}dataByIndex(t,e){const n=this.Ls.In().hl(t,e);return null===n?null:xg(this.seriesType())(n)}data(){const t=xg(this.seriesType());return this.Ls.In().ie().map(e=>t(e))}subscribeDataChanged(t){this._w.l(t)}unsubscribeDataChanged(t){this._w.v(t)}setMarkers(t){this.U_;const e=t.map(t=>zg(t,this.U_.convertHorzItemToInternal(t.time),t.time));this.Ls.ia(e)}markers(){return this.Ls.na().map(t=>zg(t,t.originalTime,void 0))}applyOptions(t){this.Ls.Hh(t)}options(){return Xh(this.Ls.W())}priceScale(){return this.cw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){const e=Uh(Xh(Tg),t),n=this.Ls.sa(e);return new Mg(n)}removePriceLine(t){this.Ls.ea(t.ow())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.dw,series:this,requestUpdate:()=>this.Ls.$t().Xl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}pw(t){this._w.M()&&this._w.m(t)}}class Pg{constructor(t,e,n){this.bw=new Wh,this.pu=new Wh,this.Vm=new Wh,this.$i=t,this.kl=t.St(),this.lb=e,this.kl.tc().l(this.ww.bind(this)),this.kl.nc().l(this.gw.bind(this)),this.lb.Em().l(this.Mw.bind(this)),this.U_=n}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.lb.Em().p(this),this.bw.S(),this.pu.S(),this.Vm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,e){e?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Ku()}getVisibleRange(){const t=this.kl.Du();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},n=this.kl.Au(e);this.$i.vd(n)}getVisibleLogicalRange(){const t=this.kl.Ru();return null===t?null:{from:t.Vs(),to:t.ui()}}setVisibleLogicalRange(t){zh(t.from<=t.to,"The from index cannot be after the to index."),this.$i.vd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){const e=this.U_.convertHorzItemToInternal(t),n=this.kl.Da(e,!1);return null===n?null:this.kl.It(n)}coordinateToTime(t){const e=this.$i.St(),n=e.Eu(t),i=e.Ui(n);return null===i?null:i.originalTime}width(){return this.lb._m().width}height(){return this.lb._m().height}subscribeVisibleTimeRangeChange(t){this.bw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.bw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.Vm.l(t)}unsubscribeSizeChange(t){this.Vm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},Xh(this.kl.W())),{barSpacing:this.kl.he()})}ww(){this.bw.M()&&this.bw.m(this.getVisibleRange())}gw(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}Mw(t){this.Vm.m(t.width,t.height)}}function Ag(t){return function(t){if(Kh(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:n}=t.handleScale;Kh(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),Kh(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const e=t.handleScroll;Kh(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Lg{constructor(t,e,n){this.xw=new Map,this.Sw=new Map,this.kw=new Wh,this.yw=new Wh,this.Cw=new Wh,this.Tw=new cg(e);const i=void 0===n?Xh(Cg()):Uh(Xh(Cg()),Ag(n));this.U_=e,this.lw=new Kf(t,i,e),this.lw.hm().l(t=>{this.kw.M()&&this.kw.m(this.Pw(t()))},this),this.lw.lm().l(t=>{this.yw.M()&&this.yw.m(this.Pw(t()))},this),this.lw.Zc().l(t=>{this.Cw.M()&&this.Cw.m(this.Pw(t()))},this);const s=this.lw.$t();this.Rw=new Pg(s,this.lw.cb(),this.U_)}remove(){this.lw.hm().p(this),this.lw.lm().p(this),this.lw.Zc().p(this),this.Rw.S(),this.lw.S(),this.xw.clear(),this.Sw.clear(),this.kw.S(),this.yw.S(),this.Cw.S(),this.Tw.S()}resize(t,e,n){this.autoSizeActive()||this.lw.ob(t,e,n)}addCustomSeries(t,e){const n=_h(t),i=Object.assign(Object.assign({},wh),n.defaultOptions());return this.Dw("Custom",i,e,n)}addAreaSeries(t){return this.Dw("Area",xh,t)}addBaselineSeries(t){return this.Dw("Baseline",yh,t)}addBarSeries(t){return this.Dw("Bar",gh,t)}addCandlestickSeries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.Dw("Candlestick",fh,t)}addHistogramSeries(t){return this.Dw("Histogram",bh,t)}addLineSeries(t){return this.Dw("Line",vh,t)}removeSeries(t){const e=Th(this.xw.get(t)),n=this.Tw.fd(e);this.lw.$t().fd(e),this.Vw(n),this.xw.delete(t),this.Sw.delete(e)}fw(t,e){this.Vw(this.Tw.Xb(t,e))}mw(t,e){this.Vw(this.Tw.tw(t,e))}subscribeClick(t){this.kw.l(t)}unsubscribeClick(t){this.kw.v(t)}subscribeCrosshairMove(t){this.Cw.l(t)}unsubscribeCrosshairMove(t){this.Cw.v(t)}subscribeDblClick(t){this.yw.l(t)}unsubscribeDblClick(t){this.yw.v(t)}priceScale(t){return new Eg(this.lw,t)}timeScale(){return this.Rw}applyOptions(t){this.lw.Hh(Ag(t))}options(){return this.lw.W()}takeScreenshot(){return this.lw.bb()}autoSizeActive(){return this.lw.Sb()}chartElement(){return this.lw.kb()}paneSize(){const t=this.lw.Cb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,n){const i=this.xw.get(n);if(void 0===i)return;const s=this.lw.$t().cr(i);null!==s&&this.lw.$t().ld(t,e,s)}clearCrosshairPosition(){this.lw.$t().ad(!0)}Dw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;!function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const n=Math.round(t);if(Math.abs(n-t)<1e-8)return e;t*=10}return e}(e.minMove))}(n.priceFormat);const s=Uh(Xh(kh),Xh(e),n),r=this.lw.$t().ud(t,s,i),a=new _g(r,this,this,this,this.U_);return this.xw.set(a,r),this.Sw.set(r,a),a}Vw(t){const e=this.lw.$t();e.od(t.St.Lu,t.St.rw,t.St.hw),t.sw.forEach((t,e)=>e.J(t.He,t.ew)),e.Fu()}Ow(t){return Th(this.Sw.get(t))}Pw(t){const e=new Map;t.Eb.forEach((t,n)=>{const i=n.Jh(),s=xg(i)(t);if("Custom"!==i)zh(function(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}(s));else{const t=n.Ca();zh(!t||!1===t(s))}e.set(this.Ow(n),s)});const n=void 0!==t.Lb&&this.Sw.has(t.Lb)?this.Ow(t.Lb):void 0;return{time:t.Ib,logical:t.se,point:t.zb,hoveredSeries:n,hoveredObjectId:t.Nb,seriesData:e,sourceEvent:t.Fb}}}function Rg(t,e){return function(t,e,n){let i;if(qh(t)){const e=document.getElementById(t);zh(null!==e,"Cannot find element in DOM with id=".concat(t)),i=e}else i=t;const s=new Lg(i,e,n);return e.setOptions(s.options()),s}(t,new cf,cf.Ad(e))}Object.assign(Object.assign({},kh),wh);const Fg=t=>{let{symbol:e,isConnected:n}=t;const i=(0,s.useRef)(null),r=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useRef)(null),[l,c]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null),[p,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)("5 mins"),[v,x]=(0,s.useState)("1 D"),[y,b]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!i.current||!e)return;const t=setTimeout(()=>{if(i.current)try{const t=i.current.clientWidth||800,e=i.current.clientHeight||500,n=Rg(i.current,{layout:{background:{type:"solid",color:"#0A0A0A"},textColor:"#9CA3AF"},grid:{vertLines:{color:"#1F2937"},horzLines:{color:"#1F2937"}},width:t,height:e,timeScale:{timeVisible:!0,secondsVisible:!1,borderColor:"#374151"},rightPriceScale:{borderColor:"#374151"},crosshair:{mode:1,vertLine:{color:"#00E5FF",width:1,style:2},horzLine:{color:"#00E5FF",width:1,style:2}}});r.current=n;const s=n.addCandlestickSeries({upColor:"#00FF94",downColor:"#FF2E2E",borderUpColor:"#00FF94",borderDownColor:"#FF2E2E",wickUpColor:"#00FF94",wickDownColor:"#FF2E2E"});a.current=s;const l=n.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.85,bottom:0}});o.current=l;const c=()=>{i.current&&r.current&&r.current.applyOptions({width:i.current.clientWidth,height:i.current.clientHeight})};window.addEventListener("resize",c)}catch(t){console.error("Error creating chart:",t)}},100);return()=>{clearTimeout(t),r.current&&(r.current.remove(),r.current=null)}},[e]),(0,s.useEffect)(()=>{if(!e)return;const t=async()=>{c(!0),d(null);try{const t=await ih.get("/api/ib/historical/".concat(e,"?duration=").concat(encodeURIComponent(v),"&bar_size=").concat(encodeURIComponent(f)));if(t.data.bars&&t.data.bars.length>0){const e=t.data.bars.map(t=>({time:new Date(t.date).getTime()/1e3,open:t.open,high:t.high,low:t.low,close:t.close})),n=t.data.bars.map(t=>({time:new Date(t.date).getTime()/1e3,value:t.volume,color:t.close>=t.open?"#00FF9433":"#FF2E2E33"}));a.current&&a.current.setData(e),o.current&&o.current.setData(n),r.current&&r.current.timeScale().fitContent(),m(!0),b(new Date)}else m(!1),d("No data available. Connect to IB Gateway.")}catch(t){console.error("Error fetching chart data:",t),m(!1),d("Connect to IB Gateway for real-time charts")}c(!1)};t();const i=setInterval(()=>{n&&t()},1e4);return()=>clearInterval(i)},[e,f,v,n]),(0,h.jsxs)("div",{className:"h-full flex flex-col bg-[#0A0A0A] rounded-lg border border-white/10 overflow-hidden",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10 bg-[#0A0A0A]",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)("span",{className:"text-xl font-bold text-white",children:e}),(0,h.jsx)("div",{className:"flex items-center gap-2",children:n?(0,h.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-green-400",children:[(0,h.jsx)(jl,{className:"w-3 h-3"}),"IB Real-time"]}):(0,h.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-yellow-400",children:[(0,h.jsx)(Nl,{className:"w-3 h-3"}),"Disconnected"]})}),y&&(0,h.jsxs)("span",{className:"text-[10px] text-zinc-500",children:["Updated: ",y.toLocaleTimeString()]})]}),(0,h.jsx)("div",{className:"flex items-center gap-2",children:[{label:"1m",value:"1 min",dur:"1 D"},{label:"5m",value:"5 mins",dur:"1 D"},{label:"15m",value:"15 mins",dur:"2 D"},{label:"30m",value:"30 mins",dur:"1 W"},{label:"1H",value:"1 hour",dur:"1 W"},{label:"4H",value:"4 hours",dur:"1 M"},{label:"D",value:"1 day",dur:"6 M"},{label:"W",value:"1 week",dur:"1 Y"}].map(t=>(0,h.jsx)("button",{onClick:()=>{g(t.value),x(t.dur)},className:"px-2 py-1 text-xs rounded transition-all\n                ".concat(f===t.value?"bg-cyan-400 text-black font-medium":"text-zinc-400 hover:text-white hover:bg-white/10","\n              "),children:t.label},t.value))})]}),(0,h.jsxs)("div",{className:"flex-1 relative",style:{minHeight:"400px"},children:[l&&!p&&(0,h.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0A0A0A] z-10",children:(0,h.jsx)(oh,{className:"w-8 h-8 text-cyan-400 animate-spin"})}),u&&!p&&(0,h.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-[#0A0A0A] z-10 p-4",children:[(0,h.jsx)(vl,{className:"w-16 h-16 text-zinc-700 mb-4"}),(0,h.jsx)("span",{className:"text-zinc-400 text-sm text-center mb-2",children:u}),(0,h.jsx)("span",{className:"text-zinc-500 text-xs",children:"Start IB Gateway and click Connect"})]}),(0,h.jsx)("div",{ref:i,className:"absolute inset-0"})]})]})},Dg=()=>{const[t,e]=(0,s.useState)("AAPL"),[n,i]=(0,s.useState)("AAPL"),[r,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const t=async()=>{try{const t=await ih.get("/api/ib/status");a(t.data.connected)}catch(t){a(!1)}};t();const e=setInterval(t,5e3);return()=>clearInterval(e)},[]);const o=()=>{e(n.toUpperCase())};return(0,h.jsxs)("div",{className:"space-y-4 animate-fade-in h-full","data-testid":"charts-page",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,h.jsx)(vl,{className:"w-6 h-6 text-primary"}),"Real-Time Charts"]}),(0,h.jsx)("p",{className:"text-zinc-500 text-sm",children:"IB Gateway powered real-time charting"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(r?"bg-green-400 animate-pulse":"bg-red-400")}),(0,h.jsx)("span",{className:"text-xs text-zinc-400",children:r?"IB Connected":"Disconnected"}),!r&&(0,h.jsx)("button",{onClick:async()=>{try{await ih.post("/api/ib/connect"),a(!0)}catch(t){console.error("Failed to connect:",t)}},className:"text-xs px-3 py-1.5 bg-cyan-400 text-black font-medium rounded hover:bg-cyan-300 transition-colors",children:"Connect"})]})]}),(0,h.jsxs)("div",{className:"bg-paper rounded-lg p-4 border border-white/10",children:[(0,h.jsx)("div",{className:"flex items-center gap-4",children:(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase tracking-wider block mb-2",children:"Symbol"}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("input",{type:"text",value:n,onChange:t=>i(t.target.value.toUpperCase()),onKeyPress:t=>"Enter"===t.key&&o(),placeholder:"Enter symbol...",className:"flex-1 bg-subtle border border-white/10 rounded-lg px-4 py-2 text-white placeholder-zinc-500 focus:border-primary/50 focus:outline-none","data-testid":"chart-symbol-input"}),(0,h.jsx)("button",{onClick:o,className:"btn-primary","data-testid":"load-chart-btn",children:"Load Chart"})]})]})}),(0,h.jsx)("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/5",children:["AAPL","MSFT","GOOGL","AMZN","NVDA","TSLA","META","SPY","QQQ","IWM"].map(n=>(0,h.jsx)("button",{onClick:()=>{i(n),e(n)},className:"text-xs px-3 py-1.5 rounded-full transition-colors ".concat(t===n?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-zinc-400 hover:bg-white/10 hover:text-white"),children:n},n))})]}),(0,h.jsx)("div",{className:"bg-paper rounded-lg border border-white/10 overflow-hidden",style:{height:"calc(100vh - 320px)",minHeight:"500px"},children:(0,h.jsx)(Fg,{symbol:t,isConnected:r})})]})},Vg=Uo("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Og=Uo("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ig=Uo("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Bg=Uo("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Wg=Uo("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ug=Uo("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),$g=Uo("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Hg=Uo("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),qg=Uo("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Kg=Uo("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Xg=Uo("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Gg=Uo("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Yg=t=>{let{children:e,className:n="",hover:i=!0}=t;return(0,h.jsx)("div",{className:"bg-paper rounded-lg p-4 border border-white/10 ".concat(i?"transition-all duration-200 hover:border-primary/30":""," ").concat(n),children:e})},Jg=t=>{let{context:e,size:n="sm"}=t;const i={TRENDING:(0,h.jsx)(zl,{className:"sm"===n?"w-3 h-3":"w-4 h-4"}),CONSOLIDATION:(0,h.jsx)(bl,{className:"sm"===n?"w-3 h-3":"w-4 h-4"}),MEAN_REVERSION:(0,h.jsx)(fl,{className:"sm"===n?"w-3 h-3":"w-4 h-4"})};return e?(0,h.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-xs font-medium ".concat({TRENDING:"bg-green-500/20 text-green-400 border-green-500/30",CONSOLIDATION:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",MEAN_REVERSION:"bg-purple-500/20 text-purple-400 border-purple-500/30"}[e]||"bg-zinc-500/20 text-zinc-400"),children:[i[e],null===e||void 0===e?void 0:e.replace("_"," ")]}):null},Qg=t=>{let{label:e,value:n,icon:i,color:s="primary",subtext:r}=t;return(0,h.jsx)(Yg,{className:"bg-gradient-to-br from-".concat(s,"/10 to-").concat(s,"/5"),children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-xs text-zinc-500 uppercase",children:e}),(0,h.jsx)("p",{className:"text-2xl font-bold mt-1 ".concat("green"===s?"text-green-400":"red"===s?"text-red-400":"yellow"===s?"text-yellow-400":"text-primary"),children:n}),r&&(0,h.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:r})]}),i&&(0,h.jsx)(i,{className:"w-8 h-8 opacity-50 ".concat("green"===s?"text-green-400":"red"===s?"text-red-400":"yellow"===s?"text-yellow-400":"text-primary")})]})})},Zg=t=>{var e,n,i,r,a,o,l,c;let{trade:u,onClose:d,onEdit:p,onDelete:m,onUpdateNotes:f}=t;const g="open"===u.status,v=u.pnl>0,[x,y]=(0,s.useState)(!1),[b,w]=(0,s.useState)(u.notes||"");return(0,h.jsx)(Fo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 rounded-lg p-4 border ".concat(g?"border-primary/30":v?"border-green-500/20":"border-red-500/20"),children:(0,h.jsxs)("div",{className:"flex items-start justify-between",children:[(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat(g?"bg-primary/20":v?"bg-green-500/20":"bg-red-500/20"),children:g?(0,h.jsx)(bl,{className:"w-6 h-6 text-primary"}):v?(0,h.jsx)(Vg,{className:"w-6 h-6 text-green-400"}):(0,h.jsx)(Og,{className:"w-6 h-6 text-red-400"})}),(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,h.jsx)("span",{className:"font-bold text-lg",children:u.symbol}),(0,h.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("long"===u.direction?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:null===(e=u.direction)||void 0===e?void 0:e.toUpperCase()}),(0,h.jsx)("span",{className:"badge badge-info text-xs",children:u.strategy_id}),(0,h.jsx)(Jg,{context:u.market_context}),(0,h.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat(g?"bg-primary/20 text-primary":"bg-zinc-500/20 text-zinc-400"),children:null===(n=u.status)||void 0===n?void 0:n.toUpperCase()})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[(0,h.jsxs)("span",{className:"text-zinc-400",children:["Entry: ",(0,h.jsxs)("span",{className:"text-white font-mono",children:["$",null===(i=u.entry_price)||void 0===i?void 0:i.toFixed(2)]})]}),(0,h.jsxs)("span",{className:"text-zinc-400",children:["Shares: ",(0,h.jsx)("span",{className:"text-white font-mono",children:u.shares})]}),u.exit_price&&(0,h.jsxs)("span",{className:"text-zinc-400",children:["Exit: ",(0,h.jsxs)("span",{className:"text-white font-mono",children:["$",null===(r=u.exit_price)||void 0===r?void 0:r.toFixed(2)]})]}),u.stop_loss&&(0,h.jsxs)("span",{className:"text-zinc-400",children:["SL: ",(0,h.jsxs)("span",{className:"text-red-400 font-mono",children:["$",null===(a=u.stop_loss)||void 0===a?void 0:a.toFixed(2)]})]}),u.take_profit&&(0,h.jsxs)("span",{className:"text-zinc-400",children:["TP: ",(0,h.jsxs)("span",{className:"text-green-400 font-mono",children:["$",null===(o=u.take_profit)||void 0===o?void 0:o.toFixed(2)]})]})]}),(0,h.jsxs)("p",{className:"text-xs text-zinc-500 mt-2",children:[new Date(u.entry_date).toLocaleDateString(),null!==u.holding_days&&" \u2022 ".concat(u.holding_days," day").concat(1!==u.holding_days?"s":"")]}),x?(0,h.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,h.jsx)("textarea",{value:b,onChange:t=>w(t.target.value),placeholder:"Add trade notes...",rows:2,className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2 text-sm resize-none focus:border-primary/50 focus:outline-none",autoFocus:!0}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("button",{onClick:()=>{f(u.id,b),y(!1)},className:"text-xs bg-primary/20 text-primary px-3 py-1 rounded hover:bg-primary/30 transition-colors",children:"Save"}),(0,h.jsx)("button",{onClick:()=>{y(!1),w(u.notes||"")},className:"text-xs bg-white/5 text-zinc-400 px-3 py-1 rounded hover:bg-white/10 transition-colors",children:"Cancel"})]})]}):u.notes?(0,h.jsx)("div",{className:"mt-2 p-2 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition-colors group",onClick:()=>y(!0),children:(0,h.jsxs)("p",{className:"text-xs text-zinc-400 italic flex items-start gap-2",children:[(0,h.jsx)(Ig,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),(0,h.jsx)("span",{className:"flex-1",children:u.notes}),(0,h.jsx)(Bg,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}):(0,h.jsxs)("button",{onClick:()=>y(!0),className:"mt-2 text-xs text-zinc-500 hover:text-primary flex items-center gap-1 transition-colors",children:[(0,h.jsx)(Wg,{className:"w-3 h-3"}),"Add notes"]})]})]}),(0,h.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[!g&&(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("p",{className:"text-xl font-bold ".concat(v?"text-green-400":"text-red-400"),children:[v?"+":"",null===(l=u.pnl_percent)||void 0===l?void 0:l.toFixed(2),"%"]}),(0,h.jsxs)("p",{className:"text-sm ".concat(v?"text-green-400":"text-red-400"),children:[v?"+":"","$",null===(c=u.pnl)||void 0===c?void 0:c.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[g&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:()=>d(u),className:"p-2 text-green-400 hover:bg-green-500/20 rounded-lg transition-colors",title:"Close Trade",children:(0,h.jsx)(Vg,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:()=>y(!0),className:"p-2 text-zinc-400 hover:bg-white/10 rounded-lg transition-colors",title:"Add/Edit Notes",children:(0,h.jsx)(Ig,{className:"w-4 h-4"})})]}),g&&(0,h.jsx)("button",{onClick:()=>m(u.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Delete",children:(0,h.jsx)(Ug,{className:"w-4 h-4"})}),!g&&(0,h.jsx)("button",{onClick:()=>y(!0),className:"p-2 text-zinc-400 hover:bg-white/10 rounded-lg transition-colors",title:"Add/Edit Notes",children:(0,h.jsx)(Ig,{className:"w-4 h-4"})})]})]})]})})},tv=t=>{let{matrix:e}=t;return e&&e.top_combinations&&0!==e.top_combinations.length?(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,h.jsx)(Hg,{className:"w-5 h-5 text-yellow-400"}),"Best Strategy-Context Combinations"]}),(0,h.jsx)("div",{className:"space-y-2",children:e.top_combinations.slice(0,5).map((t,e)=>{var n;return(0,h.jsxs)("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(0===e?"bg-yellow-500 text-black":1===e?"bg-zinc-400 text-black":2===e?"bg-amber-700 text-white":"bg-zinc-700 text-white"),children:e+1}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"font-medium",children:t.strategy}),(0,h.jsx)("span",{className:"text-zinc-500 mx-2",children:"in"}),(0,h.jsx)(Jg,{context:t.context})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("p",{className:"text-sm text-green-400",children:[t.win_rate,"% win"]}),(0,h.jsxs)("p",{className:"text-xs text-zinc-500",children:[t.trades," trades"]})]}),(0,h.jsxs)("div",{className:"text-right ".concat(t.avg_pnl_percent>=0?"text-green-400":"text-red-400"),children:[t.avg_pnl_percent>=0?"+":"",null===(n=t.avg_pnl_percent)||void 0===n?void 0:n.toFixed(1),"%"]})]})]},e)})}),e.worst_combinations&&e.worst_combinations.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h3",{className:"font-semibold flex items-center gap-2 mt-6",children:[(0,h.jsx)(Ml,{className:"w-5 h-5 text-red-400"}),"Avoid These Combinations"]}),(0,h.jsx)("div",{className:"space-y-2",children:e.worst_combinations.slice(0,3).map((t,e)=>{var n;return(0,h.jsxs)("div",{className:"flex items-center justify-between bg-red-500/5 border border-red-500/20 rounded-lg p-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"font-medium",children:t.strategy}),(0,h.jsx)("span",{className:"text-zinc-500",children:"in"}),(0,h.jsx)(Jg,{context:t.context})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("p",{className:"text-sm text-red-400",children:[t.win_rate,"% win"]}),(0,h.jsxs)("p",{className:"".concat(t.avg_pnl_percent>=0?"text-green-400":"text-red-400"),children:[t.avg_pnl_percent>=0?"+":"",null===(n=t.avg_pnl_percent)||void 0===n?void 0:n.toFixed(1),"%"]})]})]},e)})})]})]}):(0,h.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,h.jsx)($g,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,h.jsx)("p",{children:"No performance data yet"}),(0,h.jsx)("p",{className:"text-sm",children:"Log and close some trades to see insights"})]})},ev=t=>{let{templates:e,onSelect:n,selectedTemplate:i}=t;const[r,a]=(0,s.useState)(!1),o=e.filter(t=>"basic"===t.template_type),l=e.filter(t=>"strategy"===t.template_type);return(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsxs)("button",{type:"button",onClick:()=>a(!r),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2 text-left flex items-center justify-between",children:[(0,h.jsx)("span",{className:i?"text-white":"text-zinc-500",children:(null===i||void 0===i?void 0:i.name)||"Select Template (Optional)"}),(0,h.jsx)(qg,{className:"w-4 h-4 transition-transform ".concat(r?"rotate-180":"")})]}),r&&(0,h.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-paper border border-white/10 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:[(0,h.jsx)("button",{type:"button",onClick:()=>{n(null),a(!1)},className:"w-full px-3 py-2 text-left text-zinc-400 hover:bg-white/5",children:"No template (manual entry)"}),o.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"px-3 py-1 text-xs text-zinc-500 uppercase bg-white/5",children:"Basic Templates"}),o.map((t,e)=>{var i;return(0,h.jsxs)("button",{type:"button",onClick:()=>{n(t),a(!1)},className:"w-full px-3 py-2 text-left hover:bg-white/5 flex items-center justify-between",children:[(0,h.jsx)("span",{children:t.name}),(0,h.jsx)("span",{className:"text-xs ".concat("long"===t.direction?"text-green-400":"text-red-400"),children:null===(i=t.direction)||void 0===i?void 0:i.toUpperCase()})]},"basic-".concat(e))})]}),l.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"px-3 py-1 text-xs text-zinc-500 uppercase bg-white/5",children:"Strategy Templates"}),l.map((t,e)=>(0,h.jsxs)("button",{type:"button",onClick:()=>{n(t),a(!1)},className:"w-full px-3 py-2 text-left hover:bg-white/5",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("span",{children:t.name}),(0,h.jsx)(Jg,{context:t.market_context})]}),(0,h.jsxs)("p",{className:"text-xs text-zinc-500 mt-0.5",children:[t.strategy_id," \u2022 ",t.direction]})]},"strat-".concat(e)))]})]})]})},nv=()=>{var t,e,n,i,r;const[a,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(null),[d,p]=(0,s.useState)(null),[m,f]=(0,s.useState)(!0),[g,v]=(0,s.useState)(!1),[x,y]=(0,s.useState)(null),[b,w]=(0,s.useState)("all"),[k,S]=(0,s.useState)([]),[j,N]=(0,s.useState)(null),[C,E]=(0,s.useState)({symbol:"",strategy_id:"",strategy_name:"",entry_price:"",shares:"",direction:"long",market_context:"",stop_loss:"",take_profit:"",notes:""}),[z,M]=(0,s.useState)(""),[_,P]=(0,s.useState)(""),A=(0,s.useCallback)(async()=>{f(!0);try{const[t,e,n,i]=await Promise.all([ih.get("/api/trades",{params:{status:"all"!==b?b:void 0}}),ih.get("/api/trades/performance"),ih.get("/api/trades/performance/matrix"),ih.get("/api/trades/templates/list")]);o(t.data.trades||[]),c(e.data),p(n.data),S(i.data.templates||[])}catch(t){console.error("Failed to load trade data:",t)}finally{f(!1)}},[b]);(0,s.useEffect)(()=>{A()},[A]);const L=async t=>{if(window.confirm("Delete this trade?"))try{await ih.delete("/api/trades/".concat(t)),A()}catch(e){console.error("Failed to delete trade:",e)}},R=async(t,e)=>{try{await ih.patch("/api/trades/".concat(t),{notes:e}),A()}catch(n){console.error("Failed to update trade notes:",n)}};return(0,h.jsxs)("div",{className:"space-y-6 animate-fade-in","data-testid":"trade-journal-page",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,h.jsx)(yl,{className:"w-6 h-6 text-primary"}),"Trade Journal"]}),(0,h.jsx)("p",{className:"text-zinc-500 text-sm",children:"Track trades and analyze strategy performance by market context"})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)("button",{onClick:A,className:"btn-secondary flex items-center gap-2",children:[(0,h.jsx)(Kg,{className:"w-4 h-4 ".concat(m?"animate-spin":"")}),"Refresh"]}),(0,h.jsxs)("button",{onClick:()=>v(!0),className:"btn-primary flex items-center gap-2","data-testid":"new-trade-btn",children:[(0,h.jsx)(Wg,{className:"w-4 h-4"}),"Log Trade"]})]})]}),l&&(0,h.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,h.jsx)(Qg,{label:"Total Trades",value:l.total_trades,icon:yl,color:"primary"}),(0,h.jsx)(Qg,{label:"Win Rate",value:"".concat(l.win_rate,"%"),icon:Xg,color:l.win_rate>=50?"green":"red",subtext:"".concat(l.winning_trades,"W / ").concat(l.losing_trades,"L")}),(0,h.jsx)(Qg,{label:"Total P&L",value:"$".concat(null===(t=l.total_pnl)||void 0===t?void 0:t.toFixed(0)),icon:Gg,color:l.total_pnl>=0?"green":"red"}),(0,h.jsx)(Qg,{label:"Avg P&L",value:"$".concat(null===(e=l.avg_pnl)||void 0===e?void 0:e.toFixed(0)),icon:zl,color:l.avg_pnl>=0?"green":"red"}),(0,h.jsx)(Qg,{label:"Best Context",value:(null===(n=l.best_context)||void 0===n||null===(i=n.context)||void 0===i?void 0:i.replace("_"," "))||"N/A",icon:fl,color:"yellow",subtext:l.best_context?"".concat(l.best_context.win_rate,"% win"):""})]}),(null===l||void 0===l?void 0:l.context_breakdown)&&Object.keys(l.context_breakdown).length>0&&(0,h.jsxs)(Yg,{hover:!1,children:[(0,h.jsx)("h3",{className:"font-semibold mb-4",children:"Performance by Market Context"}),(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(l.context_breakdown).map(t=>{var e;let[n,i]=t;return(0,h.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)(Jg,{context:n,size:"md"}),(0,h.jsxs)("span",{className:"text-lg font-bold ".concat(i.win_rate>=50?"text-green-400":"text-red-400"),children:[i.win_rate,"%"]})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsxs)("span",{className:"text-zinc-500",children:[i.total_trades," trades"]}),(0,h.jsxs)("span",{className:i.total_pnl>=0?"text-green-400":"text-red-400",children:[i.total_pnl>=0?"+":"","$",null===(e=i.total_pnl)||void 0===e?void 0:e.toFixed(0)]})]})]},n)})})]}),(0,h.jsx)(Yg,{hover:!1,children:(0,h.jsx)(tv,{matrix:d})}),(0,h.jsx)("div",{className:"flex gap-2",children:["all","open","closed"].map(t=>(0,h.jsx)("button",{onClick:()=>w(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(b===t?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-zinc-400 hover:bg-white/10"),children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),(0,h.jsxs)(Yg,{hover:!1,children:[(0,h.jsxs)("h2",{className:"font-semibold mb-4",children:["all"===b?"All Trades":"open"===b?"Open Positions":"Closed Trades","(",a.length,")"]}),m?(0,h.jsx)("div",{className:"space-y-4",children:[1,2,3].map(t=>(0,h.jsx)("div",{className:"h-24 bg-white/5 rounded-lg animate-pulse"},t))}):a.length>0?(0,h.jsx)("div",{className:"space-y-4",children:a.map(t=>(0,h.jsx)(Zg,{trade:t,onClose:y,onEdit:()=>{},onDelete:L,onUpdateNotes:R},t.id))}):(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(yl,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),(0,h.jsx)("p",{className:"text-zinc-500",children:"No trades yet"}),(0,h.jsx)("p",{className:"text-zinc-600 text-sm mt-1",children:'Click "Log Trade" to record your first trade'})]})]}),(0,h.jsx)(T,{children:g&&(0,h.jsx)(Fo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>v(!1),children:(0,h.jsxs)(Fo.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-paper border border-white/10 rounded-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,h.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,h.jsx)(Ig,{className:"w-5 h-5 text-primary"}),"Log New Trade"]}),(0,h.jsx)("button",{onClick:()=>{v(!1),N(null)},className:"text-zinc-500 hover:text-white",children:(0,h.jsx)(_l,{className:"w-6 h-6"})})]}),(0,h.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await ih.post("/api/trades",u(u({},C),{},{entry_price:parseFloat(C.entry_price),shares:parseFloat(C.shares),stop_loss:C.stop_loss?parseFloat(C.stop_loss):null,take_profit:C.take_profit?parseFloat(C.take_profit):null})),v(!1),N(null),E({symbol:"",strategy_id:"",strategy_name:"",entry_price:"",shares:"",direction:"long",market_context:"",stop_loss:"",take_profit:"",notes:""}),A()}catch(e){console.error("Failed to create trade:",e)}},className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:[(0,h.jsx)(xl,{className:"w-3 h-3 inline mr-1"}),"Quick Template"]}),(0,h.jsx)(ev,{templates:k,selectedTemplate:j,onSelect:t=>{N(t),t&&E(e=>{var n;return u(u({},e),{},{strategy_id:t.strategy_id||e.strategy_id,strategy_name:t.strategy_name||e.strategy_name,market_context:t.market_context||e.market_context,direction:t.direction||e.direction,shares:(null===(n=t.default_shares)||void 0===n?void 0:n.toString())||e.shares,notes:t.notes||e.notes})})}}),j&&(0,h.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["Template applied: ",j.risk_percent,"% risk, ",j.reward_ratio,":1 R:R"]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Symbol *"}),(0,h.jsx)("input",{type:"text",value:C.symbol,onChange:t=>E(u(u({},C),{},{symbol:t.target.value.toUpperCase()})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"AAPL",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Strategy *"}),(0,h.jsx)("input",{type:"text",value:C.strategy_id,onChange:t=>E(u(u({},C),{},{strategy_id:t.target.value.toUpperCase()})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"INT-01",required:!0})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Entry Price *"}),(0,h.jsx)("input",{type:"number",step:"0.01",value:C.entry_price,onChange:t=>(t=>{const e=parseFloat(t);E(n=>{const i=u(u({},n),{},{entry_price:t});if(e&&j&&!n.stop_loss&&!n.take_profit){const t=(j.risk_percent||1)/100,s=j.reward_ratio||2;"long"===n.direction?(i.stop_loss=(e*(1-t)).toFixed(2),i.take_profit=(e*(1+t*s)).toFixed(2)):(i.stop_loss=(e*(1+t)).toFixed(2),i.take_profit=(e*(1-t*s)).toFixed(2))}return i})})(t.target.value),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"150.00",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Shares *"}),(0,h.jsx)("input",{type:"number",value:C.shares,onChange:t=>E(u(u({},C),{},{shares:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"100",required:!0})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Direction"}),(0,h.jsxs)("select",{value:C.direction,onChange:t=>E(u(u({},C),{},{direction:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",children:[(0,h.jsx)("option",{value:"long",children:"Long"}),(0,h.jsx)("option",{value:"short",children:"Short"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Market Context"}),(0,h.jsxs)("select",{value:C.market_context,onChange:t=>E(u(u({},C),{},{market_context:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",children:[(0,h.jsx)("option",{value:"",children:"Unknown"}),(0,h.jsx)("option",{value:"TRENDING",children:"Trending"}),(0,h.jsx)("option",{value:"CONSOLIDATION",children:"Consolidation"}),(0,h.jsx)("option",{value:"MEAN_REVERSION",children:"Mean Reversion"})]})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Stop Loss"}),(0,h.jsx)("input",{type:"number",step:"0.01",value:C.stop_loss,onChange:t=>E(u(u({},C),{},{stop_loss:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"145.00"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Take Profit"}),(0,h.jsx)("input",{type:"number",step:"0.01",value:C.take_profit,onChange:t=>E(u(u({},C),{},{take_profit:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"160.00"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Notes"}),(0,h.jsx)("textarea",{value:C.notes,onChange:t=>E(u(u({},C),{},{notes:t.target.value})),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2 h-20",placeholder:"Trade setup notes..."})]}),(0,h.jsx)("button",{type:"submit",className:"btn-primary w-full",children:"Log Trade"})]})]})})}),(0,h.jsx)(T,{children:x&&(0,h.jsx)(Fo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:(0,h.jsxs)(Fo.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-paper border border-white/10 rounded-xl max-w-md w-full p-6",onClick:t=>t.stopPropagation(),children:[(0,h.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Close Trade: ",x.symbol]}),(0,h.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 mb-4",children:[(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Entry Price:"}),(0,h.jsxs)("span",{className:"font-mono",children:["$",null===(r=x.entry_price)||void 0===r?void 0:r.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Shares:"}),(0,h.jsx)("span",{className:"font-mono",children:x.shares})]})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Exit Price *"}),(0,h.jsx)("input",{type:"number",step:"0.01",value:z,onChange:t=>M(t.target.value),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2",placeholder:"155.00",required:!0})]}),z&&(0,h.jsxs)("div",{className:"text-center p-3 rounded-lg ".concat(parseFloat(z)>x.entry_price?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:[(0,h.jsxs)("p",{className:"text-2xl font-bold",children:[((parseFloat(z)-x.entry_price)/x.entry_price*100).toFixed(2),"%"]}),(0,h.jsxs)("p",{className:"text-sm",children:["$",((parseFloat(z)-x.entry_price)*x.shares).toFixed(2)]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase block mb-1",children:"Notes"}),(0,h.jsx)("textarea",{value:_,onChange:t=>P(t.target.value),className:"w-full bg-subtle border border-white/10 rounded-lg px-3 py-2 h-20",placeholder:"Exit reason..."})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("button",{onClick:()=>y(null),className:"btn-secondary flex-1",children:"Cancel"}),(0,h.jsx)("button",{onClick:async()=>{if(x&&z)try{await ih.post("/api/trades/".concat(x.id,"/close"),{exit_price:parseFloat(z),notes:_}),y(null),M(""),P(""),A()}catch(t){console.error("Failed to close trade:",t)}},className:"btn-primary flex-1",disabled:!z,children:"Close Trade"})]})]})]})})})]})},iv=Uo("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),sv=Uo("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),rv=Uo("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),av=Uo("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ov=Uo("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),lv=Uo("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),cv=Uo("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),uv=Uo("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),hv=t=>{let{status:e,onConnect:n,onDisconnect:i,loading:s}=t;const r=null===e||void 0===e?void 0:e.connected;return(0,h.jsxs)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[r?(0,h.jsx)(iv,{className:"w-5 h-5 text-green-400"}):(0,h.jsx)(sv,{className:"w-5 h-5 text-zinc-500"}),"IB Gateway Connection"]}),(0,h.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(r?"bg-green-500/20 text-green-400":"bg-zinc-700/50 text-zinc-400"),children:r?"Connected":"Disconnected"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,h.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[(0,h.jsx)("div",{className:"text-xs text-zinc-500 mb-1",children:"Host"}),(0,h.jsx)("div",{className:"text-sm text-white font-mono",children:(null===e||void 0===e?void 0:e.host)||"127.0.0.1"})]}),(0,h.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[(0,h.jsx)("div",{className:"text-xs text-zinc-500 mb-1",children:"Port"}),(0,h.jsx)("div",{className:"text-sm text-white font-mono",children:(null===e||void 0===e?void 0:e.port)||"4002"})]}),(0,h.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[(0,h.jsx)("div",{className:"text-xs text-zinc-500 mb-1",children:"Client ID"}),(0,h.jsx)("div",{className:"text-sm text-white font-mono",children:(null===e||void 0===e?void 0:e.client_id)||"1"})]}),(0,h.jsxs)("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[(0,h.jsx)("div",{className:"text-xs text-zinc-500 mb-1",children:"Account"}),(0,h.jsx)("div",{className:"text-sm text-white font-mono",children:(null===e||void 0===e?void 0:e.account_id)||"N/A"})]})]}),(0,h.jsx)("div",{className:"flex gap-3",children:r?(0,h.jsxs)("button",{onClick:i,disabled:s,"data-testid":"ib-disconnect-btn",className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors disabled:opacity-50",children:[s?(0,h.jsx)(Kg,{className:"w-4 h-4 animate-spin"}):(0,h.jsx)(av,{className:"w-4 h-4"}),"Disconnect"]}):(0,h.jsxs)("button",{onClick:n,disabled:s,"data-testid":"ib-connect-btn",className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors disabled:opacity-50",children:[s?(0,h.jsx)(Kg,{className:"w-4 h-4 animate-spin"}):(0,h.jsx)(rv,{className:"w-4 h-4"}),"Connect to IB Gateway"]})}),!r&&(0,h.jsx)("div",{className:"mt-4 p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:(0,h.jsxs)("div",{className:"flex items-start gap-2 text-amber-400 text-sm",children:[(0,h.jsx)(ov,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("strong",{children:"Make sure IB Gateway is running"}),(0,h.jsx)("p",{className:"text-amber-400/70 text-xs mt-1",children:"Open IB Gateway, login to your paper account (DUN615665), and ensure API connections are enabled on port 4002."})]})]})})]})},dv=t=>{let{summary:e,loading:n}=t;if(n)return(0,h.jsx)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:(0,h.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,h.jsx)("div",{className:"h-6 bg-zinc-700 rounded w-1/3"}),(0,h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(t=>(0,h.jsx)("div",{className:"h-20 bg-zinc-800 rounded-lg"},t))})]})});if(!e)return null;const i=t=>void 0===t||null===t?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);return(0,h.jsxs)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:[(0,h.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,h.jsx)(Gg,{className:"w-5 h-5 text-primary"}),"Account Summary"]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,h.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/20 rounded-lg p-4",children:[(0,h.jsx)("div",{className:"text-xs text-blue-400 mb-1",children:"Net Liquidation"}),(0,h.jsx)("div",{className:"text-xl font-bold text-white",children:i(e.net_liquidation)})]}),(0,h.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 border border-green-500/20 rounded-lg p-4",children:[(0,h.jsx)("div",{className:"text-xs text-green-400 mb-1",children:"Buying Power"}),(0,h.jsx)("div",{className:"text-xl font-bold text-white",children:i(e.buying_power)})]}),(0,h.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/20 rounded-lg p-4",children:[(0,h.jsx)("div",{className:"text-xs text-purple-400 mb-1",children:"Cash Balance"}),(0,h.jsx)("div",{className:"text-xl font-bold text-white",children:i(e.cash||e.total_cash_value)})]}),(0,h.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.unrealized_pnl>=0?"from-emerald-500/20 to-emerald-600/10 border-emerald-500/20":"from-red-500/20 to-red-600/10 border-red-500/20"," border rounded-lg p-4"),children:[(0,h.jsx)("div",{className:"text-xs ".concat(e.unrealized_pnl>=0?"text-emerald-400":"text-red-400"," mb-1"),children:"Unrealized P&L"}),(0,h.jsx)("div",{className:"text-xl font-bold ".concat(e.unrealized_pnl>=0?"text-emerald-400":"text-red-400"),children:i(e.unrealized_pnl)})]})]})]})},pv=t=>{let{positions:e,loading:n}=t;return n?(0,h.jsx)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:(0,h.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,h.jsx)("div",{className:"h-6 bg-zinc-700 rounded w-1/4"}),(0,h.jsx)("div",{className:"space-y-2",children:[1,2,3].map(t=>(0,h.jsx)("div",{className:"h-12 bg-zinc-800 rounded"},t))})]})}):(0,h.jsxs)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:[(0,h.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,h.jsx)(lv,{className:"w-5 h-5 text-primary"}),"Positions (",(null===e||void 0===e?void 0:e.length)||0,")"]}),e&&e.length>0?(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"text-left text-xs text-zinc-500 border-b border-white/10",children:[(0,h.jsx)("th",{className:"pb-2 pr-4",children:"Symbol"}),(0,h.jsx)("th",{className:"pb-2 pr-4",children:"Quantity"}),(0,h.jsx)("th",{className:"pb-2 pr-4",children:"Avg Cost"}),(0,h.jsx)("th",{className:"pb-2 pr-4",children:"Market Value"})]})}),(0,h.jsx)("tbody",{children:e.map((t,e)=>{var n,i;return(0,h.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,h.jsxs)("td",{className:"py-3 pr-4",children:[(0,h.jsx)("span",{className:"font-semibold text-white",children:t.symbol}),(0,h.jsx)("span",{className:"text-xs text-zinc-500 ml-2",children:t.sec_type})]}),(0,h.jsxs)("td",{className:"py-3 pr-4 font-mono ".concat(t.quantity>=0?"text-green-400":"text-red-400"),children:[t.quantity>0?"+":"",t.quantity]}),(0,h.jsxs)("td",{className:"py-3 pr-4 text-zinc-300 font-mono",children:["$",null===(n=t.avg_cost)||void 0===n?void 0:n.toFixed(2)]}),(0,h.jsxs)("td",{className:"py-3 pr-4 text-white font-mono",children:["$",null===(i=t.market_value)||void 0===i?void 0:i.toFixed(2)]})]},e)})})]})}):(0,h.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,h.jsx)(lv,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,h.jsx)("p",{children:"No open positions"})]})]})},mv=t=>{let{onSubmit:e,loading:n,disabled:i}=t;const[r,a]=(0,s.useState)({symbol:"",action:"BUY",quantity:1,order_type:"MKT",limit_price:"",stop_price:""});return(0,h.jsxs)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:[(0,h.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,h.jsx)(cv,{className:"w-5 h-5 text-primary"}),"Place Order"]}),(0,h.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e(r)},className:"space-y-4",children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Symbol"}),(0,h.jsx)("input",{type:"text",value:r.symbol,onChange:t=>a(u(u({},r),{},{symbol:t.target.value.toUpperCase()})),placeholder:"AAPL","data-testid":"order-symbol-input",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-zinc-500 focus:border-primary focus:outline-none",required:!0,disabled:i})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Action"}),(0,h.jsxs)("select",{value:r.action,onChange:t=>a(u(u({},r),{},{action:t.target.value})),"data-testid":"order-action-select",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white focus:border-primary focus:outline-none",disabled:i,children:[(0,h.jsx)("option",{value:"BUY",children:"BUY"}),(0,h.jsx)("option",{value:"SELL",children:"SELL"})]})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Quantity"}),(0,h.jsx)("input",{type:"number",value:r.quantity,onChange:t=>a(u(u({},r),{},{quantity:parseInt(t.target.value)||1})),min:"1","data-testid":"order-quantity-input",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white focus:border-primary focus:outline-none",required:!0,disabled:i})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Order Type"}),(0,h.jsxs)("select",{value:r.order_type,onChange:t=>a(u(u({},r),{},{order_type:t.target.value})),"data-testid":"order-type-select",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white focus:border-primary focus:outline-none",disabled:i,children:[(0,h.jsx)("option",{value:"MKT",children:"Market"}),(0,h.jsx)("option",{value:"LMT",children:"Limit"}),(0,h.jsx)("option",{value:"STP",children:"Stop"}),(0,h.jsx)("option",{value:"STP_LMT",children:"Stop Limit"})]})]})]}),("LMT"===r.order_type||"STP_LMT"===r.order_type)&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Limit Price"}),(0,h.jsx)("input",{type:"number",value:r.limit_price,onChange:t=>a(u(u({},r),{},{limit_price:t.target.value})),step:"0.01",placeholder:"0.00","data-testid":"order-limit-price-input",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-zinc-500 focus:border-primary focus:outline-none",required:!0,disabled:i})]}),("STP"===r.order_type||"STP_LMT"===r.order_type)&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-xs text-zinc-500 mb-1",children:"Stop Price"}),(0,h.jsx)("input",{type:"number",value:r.stop_price,onChange:t=>a(u(u({},r),{},{stop_price:t.target.value})),step:"0.01",placeholder:"0.00","data-testid":"order-stop-price-input",className:"w-full px-3 py-2 bg-zinc-800 border border-white/10 rounded-lg text-white placeholder-zinc-500 focus:border-primary focus:outline-none",required:!0,disabled:i})]}),(0,h.jsxs)("button",{type:"submit",disabled:n||i||!r.symbol,"data-testid":"submit-order-btn",className:"w-full py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ".concat("BUY"===r.action?"bg-green-600 hover:bg-green-500 text-white":"bg-red-600 hover:bg-red-500 text-white"," disabled:opacity-50 disabled:cursor-not-allowed"),children:[n?(0,h.jsx)(Kg,{className:"w-4 h-4 animate-spin"}):null,r.action," ",r.quantity," ",r.symbol||"shares"]}),i&&(0,h.jsx)("p",{className:"text-xs text-amber-400 text-center",children:"Connect to IB Gateway to place orders"})]})]})},fv=t=>{let{orders:e,loading:n,onCancel:i}=t;const s=t=>{switch(null===t||void 0===t?void 0:t.toLowerCase()){case"filled":return"text-green-400";case"cancelled":return"text-red-400";case"presubmitted":case"submitted":return"text-blue-400";default:return"text-amber-400"}},r=t=>{switch(null===t||void 0===t?void 0:t.toLowerCase()){case"filled":return(0,h.jsx)(Vg,{className:"w-4 h-4"});case"cancelled":return(0,h.jsx)(Og,{className:"w-4 h-4"});default:return(0,h.jsx)(uv,{className:"w-4 h-4"})}};return(0,h.jsxs)("div",{className:"bg-paper border border-white/10 rounded-xl p-6",children:[(0,h.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,h.jsx)(bl,{className:"w-5 h-5 text-primary"}),"Open Orders (",(null===e||void 0===e?void 0:e.length)||0,")"]}),e&&e.length>0?(0,h.jsx)("div",{className:"space-y-2",children:e.map((t,e)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:s(t.status),children:r(t.status)}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"font-semibold ".concat("BUY"===t.action?"text-green-400":"text-red-400"),children:t.action}),(0,h.jsxs)("span",{className:"text-white ml-2",children:[t.quantity," ",t.symbol]}),(0,h.jsxs)("span",{className:"text-zinc-500 ml-2",children:["@ ",t.order_type]}),t.limit_price&&(0,h.jsxs)("span",{className:"text-zinc-400 ml-1",children:["$",t.limit_price]})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"text-xs ".concat(s(t.status)),children:t.status}),"Filled"!==t.status&&"Cancelled"!==t.status&&(0,h.jsx)("button",{onClick:()=>i(t.order_id),className:"p-1.5 text-zinc-400 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Cancel Order",children:(0,h.jsx)(_l,{className:"w-4 h-4"})})]})]},e))}):(0,h.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,h.jsx)(bl,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,h.jsx)("p",{children:"No open orders"})]})]})},gv=()=>{const[t,e]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[r,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)({connection:!1,account:!1,positions:!1,orders:!1,placeOrder:!1}),[p,m]=(0,s.useState)(null),f=null===t||void 0===t?void 0:t.connected,g=(0,s.useCallback)(async()=>{try{const t=await ih.get("/api/ib/status");e(t.data)}catch(t){console.error("Failed to fetch IB status:",t)}},[]),v=async()=>{if(f){d(t=>u(u({},t),{},{account:!0}));try{const t=await ih.get("/api/ib/account/summary");i(t.data)}catch(t){console.error("Failed to fetch account summary:",t)}finally{d(t=>u(u({},t),{},{account:!1}))}}},x=async()=>{if(f){d(t=>u(u({},t),{},{positions:!0}));try{const t=await ih.get("/api/ib/account/positions");a(t.data.positions||[])}catch(t){console.error("Failed to fetch positions:",t)}finally{d(t=>u(u({},t),{},{positions:!1}))}}},y=async()=>{if(f){d(t=>u(u({},t),{},{orders:!0}));try{const t=await ih.get("/api/ib/orders/open");l(t.data.orders||[])}catch(t){console.error("Failed to fetch orders:",t)}finally{d(t=>u(u({},t),{},{orders:!1}))}}};return(0,s.useEffect)(()=>{g()},[g]),(0,s.useEffect)(()=>{if(f){v(),x(),y();const t=setInterval(()=>{v(),x(),y()},3e4);return()=>clearInterval(t)}},[f]),(0,h.jsxs)("div",{className:"space-y-6","data-testid":"ib-trading-page",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,h.jsx)("div",{className:"p-2 bg-primary/20 rounded-lg",children:(0,h.jsx)(zl,{className:"w-6 h-6 text-primary"})}),"Interactive Brokers"]}),(0,h.jsxs)("p",{className:"text-zinc-400 mt-1",children:["Paper Trading \u2022 Account ",(null===t||void 0===t?void 0:t.account_id)||"DUN615665"]})]}),f&&(0,h.jsxs)("button",{onClick:()=>{v(),x(),y()},className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition-colors",children:[(0,h.jsx)(Kg,{className:"w-4 h-4"}),"Refresh"]})]}),p&&(0,h.jsxs)(Fo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 text-red-400",children:[(0,h.jsx)(ov,{className:"w-5 h-5"}),p]}),(0,h.jsx)("button",{onClick:()=>m(null),className:"text-red-400 hover:text-red-300",children:(0,h.jsx)(_l,{className:"w-4 h-4"})})]}),(0,h.jsx)(hv,{status:t,onConnect:async()=>{d(t=>u(u({},t),{},{connection:!0})),m(null);try{await ih.post("/api/ib/connect"),await g(),await Promise.all([v(),x(),y()])}catch(n){var t,e;m((null===(t=n.response)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.detail)||"Failed to connect to IB Gateway")}finally{d(t=>u(u({},t),{},{connection:!1}))}},onDisconnect:async()=>{d(t=>u(u({},t),{},{connection:!0}));try{await ih.post("/api/ib/disconnect"),await g(),i(null),a([]),l([])}catch(n){var t,e;m((null===(t=n.response)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.detail)||"Failed to disconnect")}finally{d(t=>u(u({},t),{},{connection:!1}))}},loading:c.connection}),f&&(0,h.jsx)(dv,{summary:n,loading:c.account}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,h.jsx)(mv,{onSubmit:async t=>{d(t=>u(u({},t),{},{placeOrder:!0})),m(null);try{const e={symbol:t.symbol,action:t.action,quantity:t.quantity,order_type:t.order_type};t.limit_price&&(e.limit_price=parseFloat(t.limit_price)),t.stop_price&&(e.stop_price=parseFloat(t.stop_price)),await ih.post("/api/ib/order",e),await y(),await v()}catch(i){var e,n;m((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"Failed to place order")}finally{d(t=>u(u({},t),{},{placeOrder:!1}))}},loading:c.placeOrder,disabled:!f}),(0,h.jsx)(fv,{orders:o,loading:c.orders,onCancel:async t=>{try{await ih.delete("/api/ib/order/".concat(t)),await y()}catch(i){var e,n;m((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"Failed to cancel order")}}})]}),f&&(0,h.jsx)(pv,{positions:r,loading:c.positions})]})},vv=Uo("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),xv=(Uo("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Uo("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Uo("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])),yv=Uo("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),bv=Uo("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),wv=Uo("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kv=Uo("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Sv=Uo("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),jv=Uo("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Nv=Uo("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Cv=Uo("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),Ev=Uo("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),zv=Uo("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Tv=Uo("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Mv=[{value:"strategy",label:"Strategy",icon:fl,color:"text-purple-400"},{value:"pattern",label:"Pattern",icon:zl,color:"text-blue-400"},{value:"insight",label:"Insight",icon:jv,color:"text-yellow-400"},{value:"rule",label:"Rule",icon:Nv,color:"text-green-400"},{value:"note",label:"Note",icon:Ig,color:"text-zinc-400"},{value:"indicator",label:"Indicator",icon:zl,color:"text-cyan-400"},{value:"checklist",label:"Checklist",icon:Nv,color:"text-orange-400"}],_v=["entry","exit","risk_management","position_sizing","market_condition","technical","fundamental","sentiment","premarket","intraday","swing","general"],Pv=t=>{let{isOpen:e,onClose:n}=t;const[i,r]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),[d,p]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),[g,v]=(0,s.useState)(!1),[x,y]=(0,s.useState)(null),[b,w]=(0,s.useState)(null),[k,S]=(0,s.useState)({title:"",content:"",type:"note",category:"general",tags:"",confidence:80,source:"user"}),j=(0,s.useCallback)(async()=>{o(!0);try{const t=new URLSearchParams;l&&t.append("q",l),d&&t.append("type",d),m&&t.append("category",m);const e=await ih.get("/api/knowledge?".concat(t.toString()));r(e.data.results||[])}catch(t){console.error("Error fetching knowledge:",t),al.error("Failed to load knowledge base")}finally{o(!1)}},[l,d,m]),N=async()=>{try{const t=await ih.get("/api/knowledge/stats");w(t.data)}catch(t){console.error("Error fetching stats:",t)}};(0,s.useEffect)(()=>{e&&(j(),N())},[e,j]);const C=t=>{const e=Mv.find(e=>e.value===t);if(e){const t=e.icon;return(0,h.jsx)(t,{className:"w-4 h-4 ".concat(e.color)})}return(0,h.jsx)(Ig,{className:"w-4 h-4 text-zinc-400"})};return e?(0,h.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,h.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-4xl max-h-[85vh] flex flex-col",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-zinc-800",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)(Cv,{className:"w-6 h-6 text-purple-400"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-lg font-bold text-white",children:"Knowledge Base"}),(0,h.jsx)("p",{className:"text-xs text-zinc-500",children:b?"".concat(b.total_entries," entries"):"Loading..."})]})]}),(0,h.jsx)("button",{onClick:n,className:"p-2 hover:bg-zinc-800 rounded-lg",children:(0,h.jsx)(_l,{className:"w-5 h-5 text-zinc-400"})})]}),(0,h.jsxs)("div",{className:"p-4 border-b border-zinc-800 space-y-3",children:[(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)("div",{className:"flex-1 relative",children:[(0,h.jsx)(kv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),(0,h.jsx)("input",{type:"text",placeholder:"Search knowledge...",value:l,onChange:t=>c(t.target.value),onKeyDown:t=>"Enter"===t.key&&j(),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"})]}),(0,h.jsxs)("button",{onClick:()=>{v(!0),y(null)},className:"px-4 py-2 bg-purple-500 text-white rounded-lg text-sm font-medium hover:bg-purple-600 flex items-center gap-2",children:[(0,h.jsx)(Wg,{className:"w-4 h-4"}),"Add"]})]}),(0,h.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,h.jsxs)("select",{value:d,onChange:t=>p(t.target.value),className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 rounded text-sm text-white focus:outline-none",children:[(0,h.jsx)("option",{value:"",children:"All Types"}),Mv.map(t=>(0,h.jsx)("option",{value:t.value,children:t.label},t.value))]}),(0,h.jsxs)("select",{value:m,onChange:t=>f(t.target.value),className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 rounded text-sm text-white focus:outline-none",children:[(0,h.jsx)("option",{value:"",children:"All Categories"}),_v.map(t=>(0,h.jsx)("option",{value:t,children:t.replace("_"," ")},t))]}),(0,h.jsx)("button",{onClick:j,className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 rounded text-sm text-white hover:bg-zinc-700",children:"Search"})]})]}),(0,h.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:g?(0,h.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),k.title.trim()&&k.content.trim())try{const t=u(u({},k),{},{tags:k.tags.split(",").map(t=>t.trim()).filter(Boolean),confidence:parseInt(k.confidence)});x?(await ih.put("/api/knowledge/".concat(x.id),t),al.success("Entry updated")):(await ih.post("/api/knowledge",t),al.success("Entry added")),v(!1),y(null),S({title:"",content:"",type:"note",category:"general",tags:"",confidence:80,source:"user"}),j(),N()}catch(e){console.error("Error saving entry:",e),al.error("Failed to save entry")}else al.error("Title and content are required")},className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-white",children:x?"Edit Entry":"Add New Entry"}),(0,h.jsx)("button",{type:"button",onClick:()=>{v(!1),y(null)},className:"text-zinc-400 hover:text-white",children:(0,h.jsx)(_l,{className:"w-5 h-5"})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Title *"}),(0,h.jsx)("input",{type:"text",value:k.title,onChange:t=>S(u(u({},k),{},{title:t.target.value})),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none focus:border-purple-500",placeholder:"e.g., VWAP Bounce Strategy"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),(0,h.jsx)("select",{value:k.type,onChange:t=>S(u(u({},k),{},{type:t.target.value})),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none",children:Mv.map(t=>(0,h.jsx)("option",{value:t.value,children:t.label},t.value))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Category"}),(0,h.jsx)("select",{value:k.category,onChange:t=>S(u(u({},k),{},{category:t.target.value})),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none",children:_v.map(t=>(0,h.jsx)("option",{value:t,children:t.replace("_"," ")},t))})]})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Content *"}),(0,h.jsx)("textarea",{value:k.content,onChange:t=>S(u(u({},k),{},{content:t.target.value})),rows:6,className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none focus:border-purple-500",placeholder:"Describe the strategy, pattern, or insight in detail..."})]}),(0,h.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Tags (comma-separated)"}),(0,h.jsx)("input",{type:"text",value:k.tags,onChange:t=>S(u(u({},k),{},{tags:t.target.value})),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none",placeholder:"momentum, breakout, high-volume"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm text-zinc-400 mb-1",children:"Source"}),(0,h.jsxs)("select",{value:k.source,onChange:t=>S(u(u({},k),{},{source:t.target.value})),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded text-white text-sm focus:outline-none",children:[(0,h.jsx)("option",{value:"user",children:"User Input"}),(0,h.jsx)("option",{value:"observation",children:"Market Observation"}),(0,h.jsx)("option",{value:"backtest",children:"Backtest"}),(0,h.jsx)("option",{value:"research",children:"Research"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"block text-sm text-zinc-400 mb-1",children:["Confidence: ",k.confidence,"%"]}),(0,h.jsx)("input",{type:"range",min:"0",max:"100",value:k.confidence,onChange:t=>S(u(u({},k),{},{confidence:t.target.value})),className:"w-full"})]})]}),(0,h.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,h.jsx)("button",{type:"button",onClick:()=>{v(!1),y(null)},className:"px-4 py-2 bg-zinc-800 text-white rounded text-sm hover:bg-zinc-700",children:"Cancel"}),(0,h.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-purple-500 text-white rounded text-sm font-medium hover:bg-purple-600 flex items-center gap-2",children:[(0,h.jsx)(Ev,{className:"w-4 h-4"}),x?"Update":"Save"]})]})]}):a?(0,h.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,h.jsx)(oh,{className:"w-8 h-8 animate-spin text-purple-400"})}):0===i.length?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(yl,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),(0,h.jsx)("p",{className:"text-zinc-400",children:"No entries found"}),(0,h.jsx)("p",{className:"text-sm text-zinc-500 mt-1",children:"Add your first piece of trading knowledge"})]}):(0,h.jsx)("div",{className:"space-y-3",children:i.map(t=>{var e,n;return(0,h.jsx)("div",{className:"p-4 bg-zinc-800/50 border border-zinc-700/50 rounded-lg hover:border-zinc-600 transition-colors",children:(0,h.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[C(t.type),(0,h.jsx)("h4",{className:"font-semibold text-white",children:t.title}),(0,h.jsx)("span",{className:"text-xs px-2 py-0.5 bg-zinc-700 rounded text-zinc-300",children:null===(e=t.category)||void 0===e?void 0:e.replace("_"," ")}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:[t.confidence,"% confidence"]})]}),(0,h.jsx)("p",{className:"text-sm text-zinc-400 line-clamp-2 mb-2",children:t.content}),(null===(n=t.tags)||void 0===n?void 0:n.length)>0&&(0,h.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[(0,h.jsx)(zv,{className:"w-3 h-3 text-zinc-500"}),t.tags.map((t,e)=>(0,h.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-zinc-700/50 rounded text-zinc-400",children:t},e))]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[(0,h.jsx)("button",{onClick:()=>(t=>{var e;S({title:t.title,content:t.content,type:t.type,category:t.category,tags:(null===(e=t.tags)||void 0===e?void 0:e.join(", "))||"",confidence:t.confidence,source:t.source}),y(t),v(!0)})(t),className:"p-1.5 hover:bg-zinc-700 rounded text-zinc-400 hover:text-white",title:"Edit",children:(0,h.jsx)(Tv,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Delete this entry?"))try{await ih.delete("/api/knowledge/".concat(t)),al.success("Entry deleted"),j(),N()}catch(e){al.error("Failed to delete entry")}})(t.id),className:"p-1.5 hover:bg-zinc-700 rounded text-zinc-400 hover:text-red-400",title:"Delete",children:(0,h.jsx)(Ug,{className:"w-4 h-4"})})]})]})},t.id)})})}),b&&!g&&(0,h.jsx)("div",{className:"p-3 border-t border-zinc-800 flex items-center gap-4 text-xs text-zinc-500",children:Object.entries(b.by_type||{}).filter(t=>{let[e,n]=t;return n>0}).map(t=>{let[e,n]=t;return(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[C(e),n," ","strategy"===e?1===n?"strategy":"strategies":"".concat(e).concat(1!==n?"s":"")]},e)})})]})}):null},Av=Uo("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Lv=Uo("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Rv=Uo("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Fv=t=>t?t.startsWith("A")?"text-emerald-400":t.startsWith("B")?"text-cyan-400":t.startsWith("C")?"text-yellow-400":t.startsWith("D")?"text-orange-400":"text-red-400":"text-zinc-400",Dv=t=>t?t.startsWith("A")?"bg-emerald-500/10 border-emerald-500/30":t.startsWith("B")?"bg-cyan-500/10 border-cyan-500/30":t.startsWith("C")?"bg-yellow-500/10 border-yellow-500/30":t.startsWith("D")?"bg-orange-500/10 border-orange-500/30":"bg-red-500/10 border-red-500/30":"bg-zinc-500/10",Vv=t=>"LONG"===t?(0,h.jsx)(zl,{className:"w-3 h-3 text-emerald-400"}):"SHORT"===t?(0,h.jsx)(Tl,{className:"w-3 h-3 text-red-400"}):(0,h.jsx)(Av,{className:"w-3 h-3 text-zinc-400"}),Ov=t=>{let{stock:e,onClick:n}=t;const i=e.grade||"C",s=e.composite_score||0,r=e.quality_signal||"NEUTRAL",a=e.is_high_quality,o=e.is_low_quality;return(0,h.jsxs)("div",{onClick:()=>null===n||void 0===n?void 0:n(e),className:"p-3 rounded-lg border cursor-pointer transition-all hover:border-cyan-500/50 ".concat(a?"border-emerald-500/30 bg-emerald-500/5":o?"border-red-500/30 bg-red-500/5":"border-white/10 bg-zinc-900/50"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:e.symbol}),(0,h.jsx)("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded border ".concat(Dv(i)," ").concat(Fv(i)),children:i})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[Vv(r),(0,h.jsx)("span",{className:"text-xs font-mono ".concat("LONG"===r?"text-emerald-400":"SHORT"===r?"text-red-400":"text-zinc-400"),children:r})]})]}),(0,h.jsx)("div",{className:"grid grid-cols-4 gap-1 mb-2",children:["accruals","roe","cfa","da"].map(t=>{var n;const i=(null===(n=e.component_scores)||void 0===n?void 0:n[t])||0,s=i>=70?"bg-emerald-500":i>=40?"bg-yellow-500":"bg-red-500";return(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:(0,h.jsx)("div",{className:"h-full ".concat(s," transition-all"),style:{width:"".concat(i,"%")}})}),(0,h.jsx)("span",{className:"text-[8px] text-zinc-500 uppercase mt-0.5 text-center",children:"da"===t?"D/A":"cfa"===t?"CF/A":t.toUpperCase()})]},t)})}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Quality Score"}),(0,h.jsxs)("span",{className:"font-mono text-cyan-400",children:[Math.round(s),"/400"]})]})]})},Iv=t=>{let{opportunities:e=[],onTickerSelect:n}=t;const[i,r]=(0,s.useState)(!0),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)([]),[d,p]=(0,s.useState)("all"),[m,f]=(0,s.useState)(!1),[g,v]=(0,s.useState)([]),x=(0,s.useCallback)(async()=>{if(e.length){o(!0);try{const t=e.map(t=>t.symbol).filter(Boolean).slice(0,20),n=await Promise.all(t.map(async t=>{try{var e;const n=await ih.get("/api/quality/score/".concat(t));return null!==(e=n.data)&&void 0!==e&&e.data?u(u({},n.data.data),{},{symbol:t}):null}catch(hx){return null}}));c(n.filter(Boolean))}catch(t){console.error("Error fetching quality scores:",t)}finally{o(!1)}}else c([])},[e]),y=(0,s.useCallback)(async()=>{try{var t;const e=await ih.get("/api/quality/leaderboard?limit=10");v((null===(t=e.data)||void 0===t?void 0:t.leaderboard)||[])}catch(e){console.error("Error fetching leaderboard:",e)}},[]);(0,s.useEffect)(()=>{e.length>0&&x()},[e,x]),(0,s.useEffect)(()=>{m&&0===g.length&&y()},[m,g.length,y]);const b=l.filter(t=>"high"===d?t.is_high_quality:"low"!==d||t.is_low_quality),w=l.filter(t=>t.is_high_quality).length,k=l.filter(t=>t.is_low_quality).length,S=l.length>0?Math.round(l.reduce((t,e)=>t+(e.percentile_rank||50),0)/l.length):0,j=t=>{if(n){const i=e.find(e=>e.symbol===t.symbol);i&&n(i)}};return i?(0,h.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("button",{onClick:()=>r(!1),className:"flex items-center gap-2",children:[(0,h.jsx)(Hg,{className:"w-5 h-5 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wider text-white",children:"Quality Factor"}),(0,h.jsx)(Lv,{className:"w-4 h-4 text-zinc-400"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:()=>f(!m),className:"px-2 py-1 text-xs rounded ".concat(m?"bg-amber-500/20 text-amber-400":"bg-zinc-800 text-zinc-400"),children:"Leaderboard"}),(0,h.jsx)("button",{onClick:x,disabled:a,className:"p-1.5 rounded bg-zinc-800 text-zinc-400 hover:text-white transition-colors",children:(0,h.jsx)(Kg,{className:"w-4 h-4 ".concat(a?"animate-spin":"")})})]})]}),(0,h.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded bg-amber-500/5 border border-amber-500/20 mb-4",children:[(0,h.jsx)(Rv,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),(0,h.jsxs)("p",{className:"text-xs text-zinc-400",children:[(0,h.jsx)("span",{className:"text-amber-400 font-medium",children:"Earnings Quality"})," scores based on 4 factors: Accruals, ROE, Cash Flow/Assets, Debt/Assets. High quality stocks tend to outperform, especially in bear markets."]})]}),m?(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-xs text-zinc-500 uppercase mb-2",children:"Top Quality Stocks"}),0===g.length?(0,h.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,h.jsx)(oh,{className:"w-5 h-5 animate-spin text-zinc-400"})}):(0,h.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:g.map((t,e)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-zinc-900/50 border border-white/5",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)("span",{className:"text-xs text-zinc-500 w-4",children:["#",e+1]}),(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsx)("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded border ".concat(Dv(t.grade)," ").concat(Fv(t.grade)),children:t.grade})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("span",{className:"text-xs text-zinc-400",children:[Math.round(t.composite_score),"/400"]}),Vv(t.quality_signal)]})]},t.symbol))})]}):(0,h.jsxs)("div",{children:[l.length>0&&(0,h.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,h.jsxs)("div",{className:"p-2 rounded bg-emerald-500/5 border border-emerald-500/20 text-center",children:[(0,h.jsx)("p",{className:"text-lg font-bold text-emerald-400",children:w}),(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"High Quality"})]}),(0,h.jsxs)("div",{className:"p-2 rounded bg-zinc-800/50 border border-white/10 text-center",children:[(0,h.jsxs)("p",{className:"text-lg font-bold text-white",children:[S,"%"]}),(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Avg Percentile"})]}),(0,h.jsxs)("div",{className:"p-2 rounded bg-red-500/5 border border-red-500/20 text-center",children:[(0,h.jsx)("p",{className:"text-lg font-bold text-red-400",children:k}),(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Low Quality"})]})]}),(0,h.jsx)("div",{className:"flex gap-1 mb-3",children:[{key:"all",label:"All"},{key:"high",label:"High Quality",icon:zl},{key:"low",label:"Low Quality",icon:Ml}].map(t=>{let{key:e,label:n,icon:i}=t;return(0,h.jsxs)("button",{onClick:()=>p(e),className:"flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ".concat(d===e?"bg-cyan-500/20 text-cyan-400":"bg-zinc-800 text-zinc-400 hover:text-white"),children:[i&&(0,h.jsx)(i,{className:"w-3 h-3"}),n]},e)})}),a?(0,h.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,h.jsx)(oh,{className:"w-6 h-6 animate-spin text-cyan-400"}),(0,h.jsx)("span",{className:"ml-2 text-sm text-zinc-400",children:"Analyzing quality..."})]}):0===b.length?(0,h.jsxs)("div",{className:"text-center py-6",children:[(0,h.jsx)(Hg,{className:"w-10 h-10 text-zinc-600 mx-auto mb-2"}),(0,h.jsx)("p",{className:"text-zinc-400 text-sm",children:0===l.length?"Run a scan to see quality scores":"No stocks match this filter"})]}):(0,h.jsx)("div",{className:"grid md:grid-cols-2 gap-2 max-h-[350px] overflow-y-auto",children:b.map(t=>(0,h.jsx)(Ov,{stock:t,onClick:j},t.symbol))})]})]}):(0,h.jsx)("div",{className:"bg-[#0A0A0A] border border-white/10 rounded-lg p-3",children:(0,h.jsxs)("button",{onClick:()=>r(!0),className:"w-full flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(Hg,{className:"w-5 h-5 text-amber-400"}),(0,h.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wider text-white",children:"Quality Factor"}),l.length>0&&(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",w," high / ",k," low)"]})]}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-400"})]})})},Bv=Uo("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wv=Uo("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Uv={"overall-score":{term:"Overall Score",def:"Composite score (0-100) combining technical, fundamental, and catalyst factors. Higher = better opportunity."},"technical-score":{term:"Technical Score",def:"Score based on price action, trend alignment, and technical indicators like RSI, MACD, and moving averages."},"fundamental-score":{term:"Fundamental Score",def:"Score based on company financials, market cap, sector strength, and institutional activity."},"catalyst-score":{term:"Catalyst Score",def:"Score measuring potential price-moving events like earnings, news, and options activity."},"confidence-score":{term:"Confidence Score",def:"How reliable the analysis is based on data quality and indicator agreement."},"signal-strength":{term:"Signal Strength",def:"Percentage of your 77 trading rules that the stock matches. Higher = more confirmations."},"breakout-score":{term:"Breakout Score",def:"Composite score for breakout quality including volume, trend alignment, and strategy matches."},grade:{term:"Grade",def:"Letter grade (A-F) based on Overall Score. A=80-100, B=65-79, C=50-64, D=35-49, F=0-34."},rsi:{term:"RSI",def:"Relative Strength Index (0-100). >70 overbought, <30 oversold, 40-60 neutral zone."},macd:{term:"MACD",def:"Trend momentum indicator. Bullish when MACD crosses above signal line."},vwap:{term:"VWAP",def:"Volume Weighted Average Price. Above = bullish, Below = bearish. Resets daily."},"vwap-dist":{term:"VWAP Distance",def:"How far price is from VWAP. Extended >2% often reverts to mean."},ema:{term:"EMA",def:"Exponential Moving Average. Key levels: 9 (fast), 20 (medium), 50 (slow)."},"ema-9":{term:"EMA 9",def:"Fast moving average for short-term trend. Price above = bullish momentum."},"ema-20":{term:"EMA 20",def:"Medium-term trend indicator. Often acts as support/resistance."},"sma-50":{term:"SMA 50",def:"50-day Simple Moving Average. Key institutional level for trend direction."},atr:{term:"ATR",def:"Average True Range. Measures volatility. Used for stop loss and position sizing."},rvol:{term:"RVOL",def:"Relative Volume. 1.5x+ confirms moves. 2x+ indicates significant interest."},volume:{term:"Volume",def:"Number of shares traded. Higher volume = more conviction in move."},momentum:{term:"Momentum",def:"Rate of price change. Strong momentum = trend likely to continue."},support:{term:"Support",def:"Price level where buying pressure emerges. Price tends to bounce here."},resistance:{term:"Resistance",def:"Price level where selling pressure emerges. Price tends to stall here."},r1:{term:"R1",def:"First resistance level above current price."},r2:{term:"R2",def:"Second (stronger) resistance level."},s1:{term:"S1",def:"First support level below current price."},s2:{term:"S2",def:"Second (stronger) support level."},"stop-loss":{term:"Stop Loss",def:"Pre-defined exit price to limit losses. Should invalidate trade thesis."},target:{term:"Target",def:"Price target for taking profits. Usually 2-3x the risk distance."},"risk-reward":{term:"R/R",def:"Risk/Reward ratio. 2:1 minimum recommended (risk $1 to make $2)."},entry:{term:"Entry",def:"Recommended entry price for the trade."},bias:{term:"Bias",def:"Directional lean: BULLISH (expect up), BEARISH (expect down), NEUTRAL (no clear direction)."},trend:{term:"Trend",def:"Current price direction based on moving average alignment and price structure."},regime:{term:"Market Regime",def:"Overall market condition: Bullish, Bearish, Neutral, or Volatile."},vix:{term:"VIX",def:"Fear gauge. <15 calm, 15-20 normal, 20-30 elevated, >30 high fear."},iv:{term:"IV",def:"Implied Volatility. Market's expected move. High before earnings, crushes after."},"iv-rank":{term:"IV Rank",def:"IV percentile (0-100). 100 = IV at yearly high."},"expected-move":{term:"Expected Move",def:"How much market expects stock to move based on options pricing."},"short-interest":{term:"Short Interest",def:"Shares sold short as % of float. >20% is elevated, squeeze potential."},"days-to-cover":{term:"Days to Cover",def:"Days for shorts to cover at avg volume. >5 days = squeeze risk."},"squeeze-score":{term:"Squeeze Score",def:"Likelihood of short squeeze (0-100). Based on SI%, days to cover, and RVOL."},intraday:{term:"Intraday",def:"Trade opened and closed within the same day. Quick scalps to day trades."},swing:{term:"Swing",def:"Trade held for days to weeks. Captures larger moves."},position:{term:"Position",def:"Trade held for weeks to months. Long-term trend plays."},"market-order":{term:"Market Order",def:"Execute immediately at best available price. Fast but no price control."},"limit-order":{term:"Limit Order",def:"Execute only at specified price or better. Price control but may not fill."},mcap:{term:"Market Cap",def:"Company size. Large cap >$10B, Mid cap $2-10B, Small cap <$2B."},float:{term:"Float",def:"Shares available for public trading. Low float = more volatile."},"avg-volume":{term:"Avg Volume",def:"Average daily trading volume. Used to calculate RVOL."}},$v=t=>{let{termId:e,children:n,className:i="",showIcon:r=!1,position:a="top"}=t;const[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)({top:0,left:0}),d=(0,s.useRef)(null),p=(0,s.useRef)(null),m=Uv[e];return(0,s.useEffect)(()=>{if(o&&d.current){const t=d.current.getBoundingClientRect(),e=280;let n,i;switch(a){case"bottom":n=t.bottom+8,i=t.left+t.width/2-e/2;break;case"left":n=t.top+t.height/2,i=t.left-e-8;break;case"right":n=t.top+t.height/2,i=t.right+8;break;default:n=t.top-8,i=t.left+t.width/2-e/2}i=Math.max(10,Math.min(i,window.innerWidth-e-10)),u({top:n,left:i})}},[o,a]),m?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{ref:d,className:"inline-flex items-center gap-1 cursor-help border-b border-dotted border-zinc-600 hover:border-cyan-400 transition-colors ".concat(i),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[n,r&&(0,h.jsx)(Bv,{className:"w-3 h-3 text-zinc-500"})]}),(0,h.jsx)(T,{children:o&&(0,h.jsxs)(Fo.div,{ref:p,initial:{opacity:0,y:"bottom"===a?-5:5},animate:{opacity:1,y:0},exit:{opacity:0,y:"bottom"===a?-5:5},transition:{duration:.15},className:"fixed z-[100] w-[280px] p-3 bg-zinc-900 border border-cyan-500/30 rounded-lg shadow-xl",style:{top:c.top,left:c.left,transform:"top"===a?"translateY(-100%)":void 0},children:[(0,h.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,h.jsx)("span",{className:"font-semibold text-cyan-400 text-sm",children:m.term}),(0,h.jsx)("a",{href:"#glossary-".concat(e),className:"text-zinc-500 hover:text-cyan-400 transition-colors",onClick:t=>{t.preventDefault(),window.location.href="/glossary?search=".concat(encodeURIComponent(m.term))},children:(0,h.jsx)(Wv,{className:"w-3 h-3"})})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-300 leading-relaxed",children:m.def})]})})]}):(0,h.jsx)("span",{className:i,children:n})},Hv=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alert";try{const e=new(window.AudioContext||window.webkitAudioContext),n=e.createOscillator(),i=e.createGain();n.connect(i),i.connect(e.destination),"fill"===t?(n.frequency.setValueAtTime(880,e.currentTime),n.frequency.setValueAtTime(1100,e.currentTime+.1),n.type="sine",i.gain.setValueAtTime(.3,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),n.start(e.currentTime),n.stop(e.currentTime+.3)):"alert"===t?(n.frequency.setValueAtTime(660,e.currentTime),n.frequency.setValueAtTime(880,e.currentTime+.15),n.frequency.setValueAtTime(660,e.currentTime+.3),n.type="square",i.gain.setValueAtTime(.2,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.4),n.start(e.currentTime),n.stop(e.currentTime+.4)):"squeeze"===t&&(n.frequency.setValueAtTime(440,e.currentTime),n.frequency.setValueAtTime(880,e.currentTime+.1),n.frequency.setValueAtTime(1320,e.currentTime+.2),n.type="sawtooth",i.gain.setValueAtTime(.15,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),n.start(e.currentTime),n.stop(e.currentTime+.5))}catch(fh){console.log("Sound playback error:",fh)}},qv=t=>void 0===t||null===t?"--":Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Kv=t=>{if(void 0===t||null===t)return"--";return"".concat(t>=0?"+":"").concat(t.toFixed(2),"%")},Xv=t=>t?t>=1e6?"".concat((t/1e6).toFixed(1),"M"):t>=1e3?"".concat((t/1e3).toFixed(1),"K"):t.toString():"--",Gv=t=>t||0===t?"$".concat(Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):"$--",Yv=t=>{let{children:e,className:n="",onClick:i,glow:s=!1}=t;return(0,h.jsx)("div",{onClick:i,className:"bg-[#0A0A0A] border border-white/10 rounded-lg p-4 transition-all duration-200 \n      ".concat(i?"cursor-pointer hover:border-cyan-500/30":""," \n      ").concat(s?"shadow-[0_0_15px_rgba(0,229,255,0.15)] border-cyan-500/30":"","\n      ").concat(n),children:e})},Jv=t=>{let{children:e,variant:n="info",className:i=""}=t;return(0,h.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-mono uppercase tracking-wide border rounded-sm ".concat({success:"text-green-400 bg-green-400/10 border-green-400/30",warning:"text-yellow-400 bg-yellow-400/10 border-yellow-400/30",error:"text-red-400 bg-red-400/10 border-red-400/30",info:"text-cyan-400 bg-cyan-400/10 border-cyan-400/30",neutral:"text-zinc-400 bg-zinc-400/10 border-zinc-400/30"}[n]," ").concat(i),children:e})},Qv=t=>{let{icon:e,title:n,action:i,count:s}=t;return(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(e,{className:"w-5 h-5 text-cyan-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider text-white",children:n}),void 0!==s&&(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",s,")"]})]}),i]})},Zv=t=>{var e,n,i,r,a,o,l,c,u,d,p,m,f,g,v,x,y,b,w,k,S,j,N;let{ticker:C,onClose:E,onTrade:z}=t;const[M,_]=(0,s.useState)(null),[P,A]=(0,s.useState)(null),[L,R]=(0,s.useState)(!0),[F,D]=(0,s.useState)("overview"),[V,O]=(0,s.useState)(!0),[I,B]=(0,s.useState)(null),W=(0,s.useRef)(null),U=(0,s.useRef)(null),$=(0,s.useRef)(null);if((0,s.useEffect)(()=>{if(null===C||void 0===C||!C.symbol)return;(async()=>{R(!0),B(null);try{var t,e,n;const[i,s]=await Promise.all([ih.get("/api/ib/analysis/".concat(C.symbol)).catch(t=>(console.error("Analysis API error:",t),{data:null})),ih.get("/api/ib/historical/".concat(C.symbol,"?duration=1 D&bar_size=5 mins")).catch(t=>{var e,n,i;return console.error("Historical data error:",t),B((null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.detail)||void 0===i?void 0:i.message)||"Unable to load chart data"),{data:{bars:[]}}})]);console.log("Analysis data received:",i.data),console.log("Historical data received:",null===(t=s.data)||void 0===t||null===(e=t.bars)||void 0===e?void 0:e.length,"bars"),_(i.data),A((null===(n=s.data)||void 0===n?void 0:n.bars)||[])}catch(i){console.error("Error fetching data:",i),B("Failed to load data")}R(!1)})()},[null===C||void 0===C?void 0:C.symbol]),(0,s.useEffect)(()=>{if("chart"!==F||!W.current)return;U.current&&(U.current.remove(),U.current=null,$.current=null);const t=setTimeout(()=>{if(!W.current)return;const t=W.current,e=t.clientWidth||700,n=t.clientHeight||300;console.log("Creating chart with dimensions:",e,"x",n);try{const i=Rg(t,{width:e,height:n,layout:{background:{type:"solid",color:"#0A0A0A"},textColor:"#9CA3AF"},grid:{vertLines:{color:"#1F2937"},horzLines:{color:"#1F2937"}},timeScale:{timeVisible:!0,secondsVisible:!1,borderColor:"#374151"},rightPriceScale:{borderColor:"#374151"},crosshair:{mode:1,vertLine:{color:"#00E5FF",width:1,style:2},horzLine:{color:"#00E5FF",width:1,style:2}}});U.current=i;const s=i.addCandlestickSeries({upColor:"#00FF94",downColor:"#FF2E2E",borderUpColor:"#00FF94",borderDownColor:"#FF2E2E",wickUpColor:"#00FF94",wickDownColor:"#FF2E2E"});$.current=s,console.log("Chart created successfully");const r=()=>{U.current&&t&&U.current.applyOptions({width:t.clientWidth,height:t.clientHeight||300})};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}catch(i){console.error("Error creating chart:",i),B("Failed to initialize chart")}},150);return()=>{clearTimeout(t),U.current&&(U.current.remove(),U.current=null,$.current=null)}},[F]),(0,s.useEffect)(()=>{if($.current&&P&&0!==P.length){console.log("Setting chart data:",P.length,"bars");try{const t=P.map(t=>({time:Math.floor(new Date(t.date).getTime()/1e3),open:Number(t.open),high:Number(t.high),low:Number(t.low),close:Number(t.close)})).sort((t,e)=>t.time-e.time);if(console.log("Formatted chart data - First:",t[0],"Last:",t[t.length-1]),$.current.setData(t),U.current&&U.current.timeScale().fitContent(),V&&null!==M&&void 0!==M&&M.trading_summary){const t=M.trading_summary;t.entry&&$.current.createPriceLine({price:t.entry,color:"#00E5FF",lineWidth:2,lineStyle:0,axisLabelVisible:!0,title:"Entry"}),t.stop_loss&&$.current.createPriceLine({price:t.stop_loss,color:"#FF2E2E",lineWidth:2,lineStyle:2,axisLabelVisible:!0,title:"Stop"}),t.target&&$.current.createPriceLine({price:t.target,color:"#00FF94",lineWidth:2,lineStyle:2,axisLabelVisible:!0,title:"Target"})}console.log("Chart data set successfully")}catch(t){console.error("Error setting chart data:",t)}}},[P,M,V,F]),!C)return null;const H=(null===M||void 0===M?void 0:M.quote)||C.quote||C,q=(null===M||void 0===M?void 0:M.trading_summary)||{},K=(null===M||void 0===M?void 0:M.scores)||{},X=(null===M||void 0===M?void 0:M.technicals)||{},G=(null===M||void 0===M?void 0:M.fundamentals)||{},Y=(null===M||void 0===M?void 0:M.company_info)||{},J=(null===M||void 0===M?void 0:M.support_resistance)||{},Q=(null===M||void 0===M?void 0:M.matched_strategies)||[],Z=(null===M||void 0===M?void 0:M.news)||[];return(0,h.jsx)(T,{children:(0,h.jsx)(Fo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:E,children:(0,h.jsxs)(Fo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-[#0A0A0A] border border-white/10 w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-xl",onClick:t=>t.stopPropagation(),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-gradient-to-r from-zinc-900/50 to-transparent",children:[(0,h.jsx)("div",{className:"flex items-center gap-4",children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"text-2xl font-bold text-white",children:C.symbol}),K.grade&&(0,h.jsxs)("span",{className:"text-sm px-2 py-0.5 rounded font-bold ".concat("A"===K.grade?"bg-green-500 text-black":"B"===K.grade?"bg-cyan-500 text-black":"C"===K.grade?"bg-yellow-500 text-black":"bg-red-500 text-white"),children:["Grade ",K.grade]}),q.bias&&(0,h.jsxs)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("BULLISH"===q.bias?"bg-green-500/20 text-green-400":"BEARISH"===q.bias?"bg-red-500/20 text-red-400":"bg-zinc-500/20 text-zinc-400"),children:[q.bias_strength," ",q.bias]})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-500 mt-0.5",children:Y.name||C.symbol})]})}),(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("span",{className:"text-2xl font-mono font-bold text-white",children:["$",qv(null===H||void 0===H?void 0:H.price)]}),(0,h.jsx)("span",{className:"ml-2 font-mono ".concat((null===H||void 0===H?void 0:H.change_percent)>=0?"text-green-400":"text-red-400"),children:Kv(null===H||void 0===H?void 0:H.change_percent)})]}),(0,h.jsx)("button",{onClick:E,className:"p-2 rounded-lg hover:bg-white/10 text-zinc-400",children:(0,h.jsx)(_l,{className:"w-5 h-5"})})]})]}),(0,h.jsx)("div",{className:"flex border-b border-white/10 px-4 overflow-x-auto",children:[{id:"overview",label:"Overview"},{id:"chart",label:"Chart"},{id:"technicals",label:"Technicals"},{id:"fundamentals",label:"Fundamentals"},{id:"strategies",label:"Strategies"},{id:"news",label:"News"}].map(t=>(0,h.jsx)("button",{onClick:()=>D(t.id),className:"px-4 py-2.5 text-sm font-medium whitespace-nowrap transition-colors ".concat(F===t.id?"text-cyan-400 border-b-2 border-cyan-400":"text-zinc-400 hover:text-white"),children:t.label},t.id))}),(0,h.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:L?(0,h.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,h.jsx)(oh,{className:"w-10 h-10 animate-spin text-cyan-400"})}):M||null!==P&&void 0!==P&&P.length?(0,h.jsxs)(h.Fragment,{children:["overview"===F&&(0,h.jsxs)("div",{className:"space-y-4",children:[q.summary&&(0,h.jsxs)("div",{className:"p-4 rounded-lg border ".concat("BULLISH"===q.bias?"border-green-500/30 bg-green-500/5":"BEARISH"===q.bias?"border-red-500/30 bg-red-500/5":"border-zinc-700 bg-zinc-900/50"),children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,h.jsx)(fl,{className:"w-5 h-5 text-cyan-400"}),(0,h.jsx)("span",{className:"font-semibold text-white",children:"Trading Analysis"})]}),(0,h.jsx)("p",{className:"text-sm text-zinc-300 mb-3",children:q.summary}),(0,h.jsxs)("div",{className:"grid grid-cols-4 gap-3 text-center",children:[(0,h.jsxs)("div",{className:"bg-black/30 rounded p-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Direction"}),(0,h.jsx)("p",{className:"text-sm font-bold ".concat("LONG"===q.suggested_direction?"text-green-400":"SHORT"===q.suggested_direction?"text-red-400":"text-yellow-400"),children:q.suggested_direction||"WAIT"})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Entry"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-white",children:["$",(null===(e=q.entry)||void 0===e?void 0:e.toFixed(2))||"--"]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Stop"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-red-400",children:["$",(null===(n=q.stop_loss)||void 0===n?void 0:n.toFixed(2))||"--"]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Target"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-green-400",children:["$",(null===(i=q.target)||void 0===i?void 0:i.toFixed(2))||"--"]})]})]}),q.risk_reward>0&&(0,h.jsxs)("div",{className:"mt-2 text-xs text-zinc-500 text-center",children:["Risk/Reward: ",(0,h.jsxs)("span",{className:"text-cyan-400 font-mono",children:["1:",q.risk_reward]})]})]}),(0,h.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[{label:"Overall",value:K.overall,color:K.overall>=70?"cyan":K.overall>=50?"yellow":"red",termId:"overall-score"},{label:"Technical",value:K.technical_score,color:"blue",termId:"technical-score"},{label:"Fundamental",value:K.fundamental_score,color:"purple",termId:"fundamental-score"},{label:"Catalyst",value:K.catalyst_score,color:"orange",termId:"catalyst-score"},{label:"Confidence",value:K.confidence,color:"green",termId:"confidence-score"}].map((t,e)=>{var n;return(0,h.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase block",children:(0,h.jsx)($v,{termId:t.termId,children:t.label})}),(0,h.jsx)("p",{className:"text-xl font-bold font-mono text-".concat(t.color,"-400"),children:(null===(n=t.value)||void 0===n?void 0:n.toFixed(0))||"--"})]},e)})}),Y.name&&(0,h.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-3",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Company"}),(0,h.jsx)("p",{className:"text-sm text-white font-medium",children:Y.name}),(0,h.jsxs)("div",{className:"flex gap-4 mt-1 text-xs text-zinc-400",children:[(0,h.jsx)("span",{children:Y.sector}),(0,h.jsx)("span",{children:Y.industry}),Y.market_cap>0&&(0,h.jsxs)("span",{children:["MCap: $",(Y.market_cap/1e9).toFixed(1),"B"]})]})]}),Q.length>0&&(0,h.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-cyan-400 uppercase font-semibold",children:"Top Strategy Match"}),(0,h.jsxs)("span",{className:"text-xs text-cyan-400",children:[Q[0].match_score,"% match"]})]}),(0,h.jsx)("p",{className:"text-sm font-bold text-white",children:Q[0].name}),(0,h.jsx)("p",{className:"text-xs text-zinc-400 mt-1",children:null===(r=Q[0].match_reasons)||void 0===r?void 0:r.join(" \u2022 ")}),Q[0].entry_rules&&(0,h.jsxs)("p",{className:"text-[10px] text-zinc-500 mt-2",children:["Entry: ",Q[0].entry_rules]})]})]}),"chart"===F&&(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs text-zinc-500",children:"5-min Candles"}),(null===M||void 0===M?void 0:M.is_cached)&&(0,h.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 bg-yellow-500/20 text-yellow-400 rounded",children:["Cached: ",new Date(null===M||void 0===M?void 0:M.last_updated).toLocaleTimeString()]})]}),(0,h.jsxs)("button",{onClick:()=>O(!V),className:"flex items-center gap-1.5 px-2 py-1 rounded text-xs transition-colors ".concat(V?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-zinc-800 text-zinc-400 border border-zinc-700"),children:[(0,h.jsx)(fl,{className:"w-3 h-3"}),V?"Hide":"Show"," SL/TP Lines"]})]}),I&&(0,h.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-zinc-900/50 rounded border border-zinc-800",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)(Ml,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),(0,h.jsx)("p",{className:"text-sm text-zinc-400",children:I}),(0,h.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Connect IB Gateway for real-time data"})]})}),!I&&(0,h.jsx)("div",{ref:W,className:"w-full border border-zinc-800 rounded",style:{height:"300px",minHeight:"300px",minWidth:"400px",background:"#0A0A0A"}}),V&&q.entry&&(0,h.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-2 text-[10px]",children:[(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)("span",{className:"w-3 h-0.5 bg-cyan-400 rounded"}),"Entry $",null===(a=q.entry)||void 0===a?void 0:a.toFixed(2)]}),(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)("span",{className:"w-3 h-0.5 bg-red-400 rounded border-dashed"}),"Stop $",null===(o=q.stop_loss)||void 0===o?void 0:o.toFixed(2)]}),(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)("span",{className:"w-3 h-0.5 bg-green-400 rounded border-dashed"}),"Target $",null===(l=q.target)||void 0===l?void 0:l.toFixed(2)]})]}),J.resistance_1&&(0,h.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-3",children:[(0,h.jsxs)("div",{className:"bg-red-500/10 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500",children:"R1"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-red-400",children:["$",null===(c=J.resistance_1)||void 0===c?void 0:c.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-red-500/5 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500",children:"R2"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-red-300",children:["$",null===(u=J.resistance_2)||void 0===u?void 0:u.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-green-500/5 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500",children:"S1"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-green-300",children:["$",null===(d=J.support_1)||void 0===d?void 0:d.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-green-500/10 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500",children:"S2"}),(0,h.jsxs)("p",{className:"text-sm font-mono text-green-400",children:["$",null===(p=J.support_2)||void 0===p?void 0:p.toFixed(2)]})]})]})]}),"technicals"===F&&(0,h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"RSI (14)",value:null===(m=X.rsi_14)||void 0===m?void 0:m.toFixed(1),suffix:"",color:X.rsi_14>70?"red":X.rsi_14<30?"green":"zinc",termId:"rsi"},{label:"RVOL",value:null===(f=X.rvol)||void 0===f?void 0:f.toFixed(1),suffix:"x",color:X.rvol>2?"cyan":"zinc",termId:"rvol"},{label:"VWAP",value:"$"+(null===(g=X.vwap)||void 0===g?void 0:g.toFixed(2)),suffix:"",color:"purple",termId:"vwap"},{label:"VWAP Dist",value:null===(v=X.vwap_distance_pct)||void 0===v?void 0:v.toFixed(1),suffix:"%",color:X.vwap_distance_pct>0?"green":"red",termId:"vwap-dist"},{label:"EMA 9",value:"$"+(null===(x=X.ema_9)||void 0===x?void 0:x.toFixed(2)),suffix:"",color:"blue",termId:"ema-9"},{label:"EMA 20",value:"$"+(null===(y=X.ema_20)||void 0===y?void 0:y.toFixed(2)),suffix:"",color:"blue",termId:"ema-20"},{label:"SMA 50",value:"$"+(null===(b=X.sma_50)||void 0===b?void 0:b.toFixed(2)),suffix:"",color:"yellow",termId:"sma-50"},{label:"ATR (14)",value:"$"+(null===(w=X.atr_14)||void 0===w?void 0:w.toFixed(2)),suffix:"",color:"orange",termId:"atr"},{label:"MACD",value:null===(k=X.macd)||void 0===k?void 0:k.toFixed(3),suffix:"",color:X.macd>0?"green":"red",termId:"macd"},{label:"MACD Signal",value:null===(S=X.macd_signal)||void 0===S?void 0:S.toFixed(3),suffix:"",color:"zinc",termId:"macd"},{label:"Volume Trend",value:X.volume_trend,suffix:"",color:"Above Avg"===X.volume_trend?"green":"zinc",termId:"volume"},{label:"Trend",value:X.trend,suffix:"",color:"Bullish"===X.trend?"green":"red",termId:"trend"}].map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase block",children:(0,h.jsx)($v,{termId:t.termId,children:t.label})}),(0,h.jsxs)("p",{className:"text-lg font-mono text-".concat(t.color,"-400"),children:[t.value||"--",t.suffix]})]},e))}),"fundamentals"===F&&(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Market Cap",value:G.market_cap?"$".concat((G.market_cap/1e9).toFixed(1),"B"):"--"},{label:"P/E Ratio",value:(null===(j=G.pe_ratio)||void 0===j?void 0:j.toFixed(1))||"--"},{label:"EPS",value:G.eps?"$".concat(G.eps.toFixed(2)):"--"},{label:"Dividend Yield",value:G.dividend_yield?"".concat(G.dividend_yield.toFixed(2),"%"):"--"},{label:"Beta",value:(null===(N=G.beta)||void 0===N?void 0:N.toFixed(2))||"--"},{label:"52W High",value:G.high_52w?"$".concat(G.high_52w.toFixed(2)):"--"},{label:"52W Low",value:G.low_52w?"$".concat(G.low_52w.toFixed(2)):"--"},{label:"Avg Volume",value:G.avg_volume?Xv(G.avg_volume):"--"}].map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase block",children:t.label}),(0,h.jsx)("p",{className:"text-lg font-mono text-white",children:t.value})]},e))}),Y.description&&(0,h.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-3",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase block mb-1",children:"Description"}),(0,h.jsx)("p",{className:"text-xs text-zinc-400 leading-relaxed",children:Y.description})]})]}),"strategies"===F&&(0,h.jsx)("div",{className:"space-y-3",children:Q.length>0?Q.map((t,e)=>{var n;return(0,h.jsxs)("div",{className:"p-3 rounded-lg border ".concat(0===e?"border-cyan-500/30 bg-cyan-500/5":"border-white/10 bg-zinc-900/50"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-zinc-800 text-zinc-400 rounded font-mono",children:t.id}),(0,h.jsx)("span",{className:"font-semibold text-white",children:t.name})]}),(0,h.jsxs)("span",{className:"text-sm font-bold ".concat(t.match_score>=70?"text-green-400":t.match_score>=50?"text-yellow-400":"text-zinc-400"),children:[t.match_score,"%"]})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-400",children:null===(n=t.match_reasons)||void 0===n?void 0:n.join(" \u2022 ")}),t.entry_rules&&(0,h.jsxs)("p",{className:"text-[10px] text-cyan-400 mt-2",children:["Entry: ",t.entry_rules]}),t.stop_loss&&(0,h.jsxs)("p",{className:"text-[10px] text-red-400",children:["Stop: ",t.stop_loss]})]},e)}):(0,h.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,h.jsx)(fl,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,h.jsx)("p",{children:"No matching strategies found"}),(0,h.jsx)("p",{className:"text-xs mt-1",children:"Current conditions don't match your strategy criteria"})]})}),"news"===F&&(0,h.jsx)("div",{className:"space-y-3",children:Z.length>0?Z.map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3 border-l-2 border-cyan-500/50",children:[(0,h.jsx)("p",{className:"text-sm text-white mb-1",children:t.headline}),(0,h.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[(0,h.jsx)("span",{children:t.source}),t.timestamp&&(0,h.jsx)("span",{children:new Date(t.timestamp).toLocaleTimeString()})]})]},e)):(0,h.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,h.jsx)(vv,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,h.jsx)("p",{children:"No recent news"})]})})]}):(0,h.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,h.jsx)(Ml,{className:"w-12 h-12 text-yellow-500 mb-4"}),(0,h.jsx)("p",{className:"text-lg font-semibold text-white mb-2",children:"Unable to Load Data"}),(0,h.jsx)("p",{className:"text-sm text-zinc-400 mb-4",children:I||"Could not fetch analysis data for this symbol. Please ensure IB Gateway is connected."}),(0,h.jsx)("button",{onClick:E,className:"px-4 py-2 bg-zinc-800 text-white rounded hover:bg-zinc-700",children:"Close"})]})}),(0,h.jsxs)("div",{className:"flex gap-3 p-4 border-t border-white/10",children:[(0,h.jsxs)("button",{onClick:()=>z(C,"BUY"),className:"flex-1 py-2.5 text-sm font-bold bg-green-500 text-black rounded-lg hover:bg-green-400 transition-colors",children:["Buy ",C.symbol]}),(0,h.jsxs)("button",{onClick:()=>z(C,"SELL"),className:"flex-1 py-2.5 text-sm font-bold bg-red-500 text-white rounded-lg hover:bg-red-400 transition-colors",children:["Short ",C.symbol]})]})]})})})},tx=t=>{let{ticker:e,action:n,onClose:i,onSuccess:r}=t;const[a,o]=(0,s.useState)(10),[l,c]=(0,s.useState)("MKT"),[u,d]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)(null),v=(null===e||void 0===e?void 0:e.quote)||e,x=(null===v||void 0===v?void 0:v.price)||0;return(0,h.jsx)(T,{children:(0,h.jsx)(Fo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:i,children:(0,h.jsxs)(Fo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-[#0A0A0A] border border-white/10 w-full max-w-md rounded-lg p-6",onClick:t=>t.stopPropagation(),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("h3",{className:"text-lg font-bold",children:["BUY"===n?"Buy":"Short"," ",null===e||void 0===e?void 0:e.symbol]}),(0,h.jsx)("button",{onClick:i,className:"text-zinc-400 hover:text-white",children:(0,h.jsx)(_l,{className:"w-5 h-5"})})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase",children:"Quantity"}),(0,h.jsx)("div",{className:"flex gap-2 mt-1",children:[10,50,100,500].map(t=>(0,h.jsx)("button",{onClick:()=>o(t),className:"flex-1 py-2 rounded text-sm ".concat(a===t?"bg-cyan-500 text-black":"bg-zinc-800 text-white hover:bg-zinc-700"),children:t},t))}),(0,h.jsx)("input",{type:"number",value:a,onChange:t=>o(parseInt(t.target.value)||0),className:"w-full mt-2 px-3 py-2 bg-zinc-900 border border-white/10 rounded text-white"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase",children:"Order Type"}),(0,h.jsx)("div",{className:"flex gap-2 mt-1",children:["MKT","LMT"].map(t=>(0,h.jsx)("button",{onClick:()=>c(t),className:"flex-1 py-2 rounded text-sm ".concat(l===t?"bg-cyan-500 text-black":"bg-zinc-800 text-white hover:bg-zinc-700"),children:"MKT"===t?"Market":"Limit"},t))})]}),"LMT"===l&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"text-xs text-zinc-500 uppercase",children:"Limit Price"}),(0,h.jsx)("input",{type:"number",step:"0.01",value:u,onChange:t=>d(t.target.value),placeholder:x.toFixed(2),className:"w-full mt-1 px-3 py-2 bg-zinc-900 border border-white/10 rounded text-white"})]}),(0,h.jsx)("div",{className:"bg-zinc-900 rounded p-3",children:(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsxs)("span",{className:"text-zinc-500",children:["Est. ","BUY"===n?"Cost":"Proceeds"]}),(0,h.jsx)("span",{className:"text-white font-mono",children:Gv(x*a)})]})}),f&&(0,h.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-3 text-red-400 text-sm",children:f}),(0,h.jsx)("button",{onClick:async()=>{m(!0),g(null);try{const t={symbol:e.symbol,action:n,quantity:a,order_type:l,limit_price:"LMT"===l?parseFloat(u):null};await ih.post("/api/ib/order",t),null===r||void 0===r||r(),i()}catch(o){var t,s;g((null===(t=o.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to place order")}m(!1)},disabled:p||a<=0,className:"w-full py-3 rounded font-bold text-sm ".concat("BUY"===n?"bg-green-500 hover:bg-green-400 text-black":"bg-red-500 hover:bg-red-400 text-white"," disabled:opacity-50"),children:p?"Placing Order...":"".concat("BUY"===n?"Buy":"Short"," ").concat(a," shares")})]})]})})})},ex=()=>{var t,e,n,i,r,a,o,l,c,d,p,m,f,g,v,x,y,b,w,k,S,j,N,C,E,z,M,_,P,A,L,R;const[F,D]=(0,s.useState)(!1),[V,O]=(0,s.useState)(!1),[I,B]=(0,s.useState)(null),[W,U]=(0,s.useState)([]),[$,H]=(0,s.useState)([]),[q,K]=(0,s.useState)(null),[X,G]=(0,s.useState)([]),[Y,J]=(0,s.useState)(null),[Q,Z]=(0,s.useState)([]),[tt,et]=(0,s.useState)([]),[nt,it]=(0,s.useState)(!1),[st,rt]=(0,s.useState)(!1),[at,ot]=(0,s.useState)("TOP_PERC_GAIN"),[lt,ct]=(0,s.useState)(null),[ut,ht]=(0,s.useState)({isOpen:!1,ticker:null,action:null}),[dt,pt]=(0,s.useState)({holdings:!0,opportunities:!0,context:!0,alerts:!0,news:!0,earnings:!0,squeeze:!1,priceAlerts:!1,breakouts:!0,enhancedAlerts:!0,comprehensiveAlerts:!0,systemMonitor:!0}),[mt,ft]=(0,s.useState)(!1),[gt,vt]=(0,s.useState)(!0),[xt,yt]=(0,s.useState)([]),[bt,wt]=(0,s.useState)([]),[kt,St]=(0,s.useState)([]),[jt,Nt]=(0,s.useState)(null),[Ct,Et]=(0,s.useState)([]),[zt,Tt]=(0,s.useState)(""),[Mt,_t]=(0,s.useState)(""),[Pt,At]=(0,s.useState)("ABOVE"),[Lt,Rt]=(0,s.useState)([]),[Ft,Dt]=(0,s.useState)(50),[Vt,Ot]=(0,s.useState)({scalp:[],intraday:[],swing:[],position:[]}),[It,Bt]=(0,s.useState)({scalp:0,intraday:0,swing:0,position:0,total:0}),[Wt,Ut]=(0,s.useState)("all"),[$t,Ht]=(0,s.useState)(!1),qt=async()=>{try{var t,e;const n=await ih.get("/api/ib/status");return D((null===(t=n.data)||void 0===t?void 0:t.connected)||!1),null===(e=n.data)||void 0===e?void 0:e.connected}catch(hx){return D(!1),!1}},Kt=async()=>{O(!0);try{await ih.post("/api/ib/connect");const t=await qt();t&&(await Xt(),await re(t))}catch(t){console.error("Connection failed:",t)}O(!1)},Xt=async()=>{try{var t;const[e,n]=await Promise.all([ih.get("/api/ib/account/summary"),ih.get("/api/ib/account/positions")]);B(e.data),U((null===(t=n.data)||void 0===t?void 0:t.positions)||[])}catch(e){console.error("Error fetching account:",e)}},Gt=async()=>{if(F){it(!0);try{var t;const e=await ih.post("/api/ib/scanner/enhanced",{scan_type:at,max_results:20,calculate_features:!0});H((null===(t=e.data)||void 0===t?void 0:t.results)||[])}catch(e){console.error("Scanner error:",e)}it(!1)}},Yt=async()=>{try{var t;const e=["SPY","QQQ","VIX"],n=(null===(t=(await ih.post("/api/ib/quotes/batch",e)).data)||void 0===t?void 0:t.quotes)||[],i=n.find(t=>"SPY"===t.symbol),s=n.find(t=>"QQQ"===t.symbol),r=n.find(t=>"VIX"===t.symbol);let a="Consolidation";(null===i||void 0===i?void 0:i.change_percent)>.5&&(null===s||void 0===s?void 0:s.change_percent)>.5?a="Trending Up":(null===i||void 0===i?void 0:i.change_percent)<-.5&&(null===s||void 0===s?void 0:s.change_percent)<-.5?a="Trending Down":(null===r||void 0===r?void 0:r.price)>25&&(a="High Volatility"),K({regime:a,spy:(null===i||void 0===i?void 0:i.change_percent)||0,qqq:(null===s||void 0===s?void 0:s.change_percent)||0,vix:(null===r||void 0===r?void 0:r.price)||0})}catch(e){console.error("Market context error:",e)}},[Jt,Qt]=(0,s.useState)(!1),[Zt,te]=(0,s.useState)(null),[ee,ne]=(0,s.useState)(!1),ie=async()=>{ne(!0);try{const t=await ih.get("/api/system/monitor");te(t.data)}catch(t){console.error("Error fetching system health:",t),te({overall_status:"error",services:[],summary:{healthy:0,warning:0,disconnected:0,error:1,total:1},error:"Failed to fetch system status"})}finally{ne(!1)}};(0,s.useEffect)(()=>{ie();const t=setInterval(ie,3e4);return()=>clearInterval(t)},[]);const se=async()=>{if(!Jt){Qt(!0);try{var t,e,n;al.info("Generating market intelligence...",{duration:3e3});const i=await ih.post("/api/newsletter/auto-generate");console.log("Market Intelligence Response:",i.data),console.log("Summary:",null===(t=i.data)||void 0===t?void 0:t.summary),console.log("needs_generation:",null===(e=i.data)||void 0===e?void 0:e.needs_generation),J(i.data),pt(t=>u(u({},t),{},{news:!0})),null!==(n=i.data)&&void 0!==n&&n.error||(al.success("Market intelligence ready!",{duration:5e3}),gt&&Hv("alert"))}catch(i){console.error("Error generating market intelligence:",i),al.error("Failed to generate market intelligence")}finally{Qt(!1)}}},re=async t=>{try{var e;const i=(null===(e=(await ih.get("/api/watchlist")).data)||void 0===e?void 0:e.symbols)||["AAPL","MSFT","NVDA","TSLA","AMD"];if(t&&i.length>0){var n;const t=await ih.post("/api/ib/quotes/batch",i.slice(0,10));Z((null===(n=t.data)||void 0===n?void 0:n.quotes)||[])}}catch(i){Z([])}},ae=async()=>{try{var t;const e=await ih.get("/api/ib/scanner/short-squeeze");yt((null===(t=e.data)||void 0===t?void 0:t.candidates)||[])}catch(s){var e,n,i;console.log("Short squeeze data unavailable:",null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.detail)||void 0===i?void 0:i.message),yt([])}},oe=async()=>{try{var t,e,n;const i=await ih.get("/api/ib/scanner/breakouts");if(wt((null===(t=i.data)||void 0===t?void 0:t.breakouts)||[]),gt&&(null===(e=i.data)||void 0===e||null===(n=e.breakouts)||void 0===n?void 0:n.length)>0){const t=i.data.breakouts.filter(t=>{const e=new Date(t.detected_at);return new Date-e<6e4});t.length>0&&(Hv("alert"),t.forEach(t=>{al.success("\ud83d\ude80 ".concat(t.breakout_type," Breakout: ").concat(t.symbol," broke ").concat("LONG"===t.breakout_type?"above":"below"," $").concat(t.breakout_level," (Score: ").concat(t.breakout_score,")"),{duration:1e4})}))}}catch(a){var i,s,r;console.log("Breakout data unavailable:",null===(i=a.response)||void 0===i||null===(s=i.data)||void 0===s||null===(r=s.detail)||void 0===r?void 0:r.message),wt([])}},le=async()=>{try{var t;const e=(null===(t=(await ih.get("/api/ib/alerts/enhanced")).data)||void 0===t?void 0:t.alerts)||[];if(St(e),gt){const t=e.filter(t=>t.is_new);t.forEach(t=>{Hv("alert"),al.success(t.headline,{duration:1e4})})}}catch(s){var e,n,i;console.log("Enhanced alerts unavailable:",null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.detail)||void 0===i?void 0:i.message)}},ce=async()=>{if(!$t){Ht(!0);try{var t,e;const n=await ih.post("/api/ib/scanner/comprehensive",{min_score:Ft}),i=(null===(t=n.data)||void 0===t?void 0:t.alerts)||{scalp:[],intraday:[],swing:[],position:[]},s=(null===(e=n.data)||void 0===e?void 0:e.summary)||{scalp:0,intraday:0,swing:0,position:0,total:0};if(Ot(i),Bt(s),gt&&s.total>0){const t=[...i.scalp,...i.intraday,...i.swing,...i.position].filter(t=>"A"===t.grade);t.length>0?(Hv("alert"),al.success("\ud83c\udfaf ".concat(t.length," Grade A opportunities found!"),{duration:8e3})):s.total>0&&al.info("Found ".concat(s.total," opportunities across all timeframes"),{duration:5e3})}console.log("Comprehensive scan complete: ".concat(s.total," alerts found"))}catch(r){var n,i,s;console.log("Comprehensive scan error:",(null===(n=r.response)||void 0===n||null===(i=n.data)||void 0===i||null===(s=i.detail)||void 0===s?void 0:s.message)||r.message),al.error("Scan failed - check IB Gateway connection")}finally{Ht(!1)}}},ue=()=>"all"===Wt?[...Vt.scalp,...Vt.intraday,...Vt.swing,...Vt.position].sort((t,e)=>e.overall_score-t.overall_score):Vt[Wt]||[],he=async()=>{try{var t;const e=await ih.get("/api/ib/alerts/price");Et((null===(t=e.data)||void 0===t?void 0:t.alerts)||[])}catch(e){Et([])}},de=async()=>{if(F&&0!==Ct.length)try{var t;const e=(null===(t=(await ih.get("/api/ib/alerts/price/check")).data)||void 0===t?void 0:t.triggered)||[];e.forEach(t=>{var e;gt&&Hv("alert"),al.success("\ud83d\udd14 ".concat(t.symbol," hit $").concat(null===(e=t.triggered_price)||void 0===e?void 0:e.toFixed(2)," (target: ").concat(t.direction," $").concat(t.target_price,")"),{duration:8e3})}),e.length>0&&he()}catch(fh){console.error("Error checking price alerts:",fh)}},pe=async()=>{if(F)try{var t;const e=(null===(t=(await ih.get("/api/ib/orders/fills")).data)||void 0===t?void 0:t.newly_filled)||[];e.forEach(t=>{gt&&Hv("fill"),al.success("\u2705 Order Filled: ".concat(t.action," ").concat(t.quantity," ").concat(t.symbol),{duration:8e3})}),Rt(t=>t.filter(t=>!e.find(e=>e.order_id===t.order_id)))}catch(fh){console.error("Error checking order fills:",fh)}};(0,s.useEffect)(()=>{(async()=>{const t=await qt();t&&await Promise.all([Xt(),Yt(),Gt(),re(t),oe(),ce()]),(async()=>{try{var t,e;const n=await ih.get("/api/alerts");G((null===(t=n.data)||void 0===t||null===(e=t.alerts)||void 0===e?void 0:e.slice(0,5))||[])}catch(n){G([])}})(),(async()=>{try{const t=await ih.get("/api/newsletter/latest");J(t.data)}catch(t){J(null)}})(),(async()=>{try{var t;const e=((null===(t=(await ih.get("/api/earnings/calendar")).data)||void 0===t?void 0:t.calendar)||[]).filter(t=>{const e=new Date(t.earnings_date),n=new Date;n.setHours(0,0,0,0);const i=new Date;return i.setDate(n.getDate()+30),e>=n&&e<=i}).sort((t,e)=>new Date(t.earnings_date)-new Date(e.earnings_date)).slice(0,12);et(e)}catch(e){et([])}})(),ae(),he(),le()})()},[]),(0,s.useEffect)(()=>{if(!st||!F)return;const t=setInterval(()=>{ce(),Xt(),Yt(),pe(),de()},6e4);return()=>clearInterval(t)},[st,F,at,Ct.length]),(0,s.useEffect)(()=>{if(!F)return;const t=setInterval(()=>{pe(),de(),le()},1e4);return()=>clearInterval(t)},[F,gt,Ct.length]);const me=t=>{pt(e=>u(u({},e),{},{[t]:!e[t]}))},fe=(t,e)=>{ht({isOpen:!0,ticker:t,action:e}),ct(null)},ge=(0,s.useMemo)(()=>W.reduce((t,e)=>t+(e.unrealized_pnl||0),0),[W]),ve={"Trending Up":"text-green-400","Trending Down":"text-red-400",Consolidation:"text-yellow-400","High Volatility":"text-orange-400"};return(0,h.jsxs)("div",{className:"space-y-4 pb-8","data-testid":"command-center-page",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,h.jsx)(fl,{className:"w-7 h-7 text-cyan-400"}),"Command Center"]}),(0,h.jsx)("p",{className:"text-zinc-500 text-sm",children:"Real-time trading intelligence hub"})]}),Zt&&(0,h.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-900/50 rounded-lg border border-zinc-800",children:[(0,h.jsx)(xv,{className:"w-4 h-4 text-zinc-400"}),(0,h.jsx)("div",{className:"flex items-center gap-1.5",children:Zt.services.slice(0,5).map((t,e)=>{const n="healthy"===t.status?"bg-green-500":"warning"===t.status?"bg-yellow-500":"disconnected"===t.status?"bg-orange-500":"bg-red-500";return(0,h.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(n),title:"".concat(t.name,": ").concat(t.details)},e)})}),(0,h.jsxs)("span",{className:"text-xs font-medium ".concat("healthy"===Zt.overall_status?"text-green-400":"partial"===Zt.overall_status?"text-yellow-400":"text-red-400"),children:[Zt.summary.healthy,"/",Zt.summary.total]})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("button",{onClick:()=>ft(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-purple-500/20 text-purple-400 rounded text-sm hover:bg-purple-500/30",title:"Knowledge Base",children:[(0,h.jsx)(yl,{className:"w-4 h-4"}),(0,h.jsx)("span",{className:"hidden sm:inline",children:"Knowledge"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ".concat(F?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:[F?(0,h.jsx)(jl,{className:"w-4 h-4"}):(0,h.jsx)(Nl,{className:"w-4 h-4"}),F?"Connected":"Disconnected"]}),!F&&(0,h.jsx)("button",{onClick:Kt,disabled:V,className:"px-4 py-2 bg-cyan-500 text-black rounded font-medium text-sm hover:bg-cyan-400 disabled:opacity-50",children:V?"Connecting...":"Connect to IB"}),F&&(0,h.jsxs)("button",{onClick:()=>rt(!st),className:"flex items-center gap-2 px-3 py-1.5 rounded text-sm ".concat(st?"bg-cyan-500/20 text-cyan-400":"bg-zinc-800 text-zinc-400"),children:[st?(0,h.jsx)(yv,{className:"w-4 h-4"}):(0,h.jsx)(rv,{className:"w-4 h-4"}),"Auto-Scan"]})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center",children:(0,h.jsx)(Gg,{className:"w-5 h-5 text-cyan-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Net Liquidation"}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono text-white",children:Gv(null===I||void 0===I?void 0:I.net_liquidation)})]})]})}),(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(ge>=0?"bg-green-500/10":"bg-red-500/10"),children:ge>=0?(0,h.jsx)(zl,{className:"w-5 h-5 text-green-400"}):(0,h.jsx)(Tl,{className:"w-5 h-5 text-red-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Today's P&L"}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono ".concat(ge>=0?"text-green-400":"text-red-400"),children:Gv((null===I||void 0===I?void 0:I.unrealized_pnl)||ge)})]})]})}),(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:(0,h.jsx)(lv,{className:"w-5 h-5 text-purple-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Positions"}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono text-white",children:W.length})]})]})}),(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:(0,h.jsx)(bv,{className:"w-5 h-5 text-yellow-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Alerts"}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono text-white",children:X.length})]})]})}),(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("Trending Up"===(null===q||void 0===q?void 0:q.regime)?"bg-green-500/10":"Trending Down"===(null===q||void 0===q?void 0:q.regime)?"bg-red-500/10":"bg-yellow-500/10"),children:(0,h.jsx)(bl,{className:"w-5 h-5 ".concat(ve[null===q||void 0===q?void 0:q.regime]||"text-zinc-400")})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Market"}),(0,h.jsx)("p",{className:"text-sm font-bold ".concat(ve[null===q||void 0===q?void 0:q.regime]||"text-zinc-400"),children:(null===q||void 0===q?void 0:q.regime)||"Loading..."})]})]})}),(0,h.jsx)(Yv,{className:"col-span-1",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center",children:(0,h.jsx)(xl,{className:"w-5 h-5 text-cyan-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Opportunities"}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono text-white",children:$.length})]})]})})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"grid lg:grid-cols-2 gap-4",children:[(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("holdings"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(lv,{className:"w-5 h-5 text-cyan-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Holdings"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",W.length,")"]})]}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.holdings?"rotate-180":"")})]}),dt.holdings&&(0,h.jsx)("div",{className:"space-y-2",children:W.length>0?W.map((t,e)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 bg-zinc-900/50 rounded hover:bg-zinc-900 cursor-pointer",onClick:()=>ct({symbol:t.symbol,quote:{price:t.avg_cost}}),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500 ml-2",children:[t.quantity," shares"]})]}),(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsxs)("p",{className:"text-sm font-mono text-white",children:["$",qv(t.avg_cost)]}),(0,h.jsx)("p",{className:"text-xs ".concat((t.unrealized_pnl||0)>=0?"text-green-400":"text-red-400"),children:Gv(t.unrealized_pnl||0)})]})]},e)):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-sm py-4",children:"No open positions"})})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsx)(Qv,{icon:wv,title:"Watchlist",count:Q.length}),(0,h.jsx)("div",{className:"space-y-2",children:Q.length>0?Q.slice(0,8).map((t,e)=>(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 bg-zinc-900/50 rounded hover:bg-zinc-900 cursor-pointer",onClick:()=>ct(t),children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("span",{className:"text-sm font-mono text-white",children:["$",qv(t.price)]}),(0,h.jsx)("span",{className:"text-xs font-mono ".concat(t.change_percent>=0?"text-green-400":"text-red-400"),children:Kv(t.change_percent)})]})]},e)):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-sm py-4",children:F?"Loading watchlist...":"Connect to view watchlist"})})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("div",{onClick:()=>me("news"),className:"w-full flex items-center justify-between mb-3 cursor-pointer",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(vv,{className:"w-5 h-5 text-purple-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Market Intelligence"}),Jt&&(0,h.jsx)(Kg,{className:"w-4 h-4 text-purple-400 animate-spin"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[F&&(0,h.jsx)("button",{onClick:t=>{t.stopPropagation(),se()},disabled:Jt,className:"text-xs text-purple-400 hover:text-purple-300 disabled:opacity-50",children:Jt?"Generating...":"Refresh"}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.news?"rotate-180":"")})]})]}),dt.news&&(0,h.jsxs)("div",{className:"space-y-3",children:[Jt&&(0,h.jsxs)("div",{className:"text-center py-6",children:[(0,h.jsx)(Kg,{className:"w-8 h-8 text-purple-400 mx-auto mb-2 animate-spin"}),(0,h.jsx)("p",{className:"text-sm text-purple-400",children:"Analyzing markets..."}),(0,h.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Gathering news, stocks, and world events"})]}),!Jt&&Y&&Y.summary&&!Y.needs_generation?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(Jv,{variant:"bullish"===(null===(t=Y.market_outlook)||void 0===t?void 0:t.sentiment)?"success":"bearish"===(null===(e=Y.market_outlook)||void 0===e?void 0:e.sentiment)?"error":"neutral",children:(null===(n=Y.market_outlook)||void 0===n||null===(i=n.sentiment)||void 0===i?void 0:i.toUpperCase())||"NEUTRAL"}),(0,h.jsx)("span",{className:"text-xs text-zinc-500",children:Y.date?new Date(Y.date).toLocaleDateString():"Today"})]})}),(0,h.jsx)("p",{className:"text-sm text-zinc-300 leading-relaxed",children:Y.summary}),(null===(r=Y.market_outlook)||void 0===r?void 0:r.key_levels)&&(0,h.jsxs)("div",{className:"p-2 bg-purple-500/10 border border-purple-500/30 rounded text-xs",children:[(0,h.jsx)("span",{className:"text-purple-400 font-semibold",children:"Key Levels: "}),(0,h.jsx)("span",{className:"text-zinc-300",children:"string"===typeof Y.market_outlook.key_levels?Y.market_outlook.key_levels:Object.entries(Y.market_outlook.key_levels||{}).map(t=>{let[e,n]=t;return"".concat(e,": R ").concat((null===n||void 0===n?void 0:n.resistance)||"N/A"," / S ").concat((null===n||void 0===n?void 0:n.support)||"N/A")}).join(" | ")})]}),(null===(a=Y.top_stories)||void 0===a?void 0:a.length)>0&&(0,h.jsxs)("div",{className:"space-y-1.5",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Top Stories"}),Y.top_stories.slice(0,3).map((t,e)=>(0,h.jsx)("div",{className:"p-2 bg-zinc-900/50 rounded text-xs text-zinc-400",children:t.headline||t},e))]}),(null===(o=Y.opportunities)||void 0===o?void 0:o.length)>0&&(0,h.jsxs)("div",{className:"space-y-1.5",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Opportunities"}),Y.opportunities.slice(0,4).map((t,e)=>{const n=t.symbol||t.ticker||t.stock||"N/A",i=n&&"N/A"!==n;return(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 bg-zinc-900/50 rounded text-sm ".concat(i?"cursor-pointer hover:bg-zinc-800":""),onClick:()=>{i&&n.length<=5&&/^[A-Z]+$/.test(n)&&ct({symbol:n,quote:{}})},children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,h.jsx)("span",{className:"font-bold text-cyan-400",children:n}),t.entry&&(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["Entry: $",t.entry]}),t.target&&(0,h.jsxs)("span",{className:"text-xs text-green-500",children:["\u2192 $",t.target]}),t.reasoning&&!t.entry&&(0,h.jsxs)("span",{className:"text-xs text-zinc-500 truncate",children:[t.reasoning.slice(0,30),"..."]})]}),(0,h.jsx)(Jv,{variant:"LONG"===t.direction?"success":"SHORT"===t.direction?"error":"neutral",children:t.direction||"WATCH"})]},e)})]}),(null===(l=Y.risk_factors)||void 0===l?void 0:l.length)>0&&(0,h.jsxs)("div",{className:"p-2 bg-red-500/10 border border-red-500/30 rounded",children:[(0,h.jsx)("span",{className:"text-[10px] text-red-400 uppercase block mb-1",children:"Risk Factors"}),(0,h.jsx)("ul",{className:"text-xs text-zinc-400 space-y-0.5",children:Y.risk_factors.slice(0,3).map((t,e)=>(0,h.jsxs)("li",{children:["\u2022 ",t]},e))})]}),Y.game_plan&&(0,h.jsxs)("div",{className:"p-2 bg-green-500/10 border border-green-500/30 rounded",children:[(0,h.jsx)("span",{className:"text-[10px] text-green-400 uppercase block mb-1",children:"Game Plan"}),(0,h.jsx)("p",{className:"text-xs text-zinc-300",children:Y.game_plan})]})]}):!Jt&&(0,h.jsxs)("div",{className:"text-center py-6",children:[(0,h.jsx)(vv,{className:"w-8 h-8 text-zinc-600 mx-auto mb-2"}),F?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-sm text-zinc-400",children:"Click Refresh to generate briefing"}),(0,h.jsx)("button",{onClick:se,className:"mt-3 px-4 py-2 bg-purple-500 text-white rounded text-sm font-medium hover:bg-purple-400",children:"Generate Market Intelligence"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-sm text-zinc-400",children:"Connect IB Gateway for auto-briefing"}),(0,h.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Market intelligence will generate automatically"})]})]})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsx)(Qv,{icon:xl,title:"Trade Opportunities",count:$.length,action:$.length>0&&(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:[$.filter(t=>t.high_conviction).length," high conviction"]})}),F?0===$.length?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(kv,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),(0,h.jsx)("p",{className:"text-zinc-400",children:"No opportunities found"}),(0,h.jsx)("p",{className:"text-zinc-500 text-sm mt-1",children:"Run a scan to find trade setups"})]}):(0,h.jsx)("div",{className:"grid md:grid-cols-2 gap-3 max-h-[500px] overflow-y-auto",children:$.map((t,e)=>{var n;const i=t.quote||t,s=t.high_conviction||(null===(n=t.conviction)||void 0===n?void 0:n.score)>=70;return(0,h.jsxs)("div",{onClick:()=>ct(t),className:"p-3 rounded-lg border cursor-pointer transition-all hover:border-cyan-500/50 ".concat(s?"border-cyan-500/30 bg-cyan-500/5 shadow-[0_0_10px_rgba(0,229,255,0.1)]":"border-white/10 bg-zinc-900/50"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),s&&(0,h.jsx)(Jv,{variant:"success",children:"HIGH CONVICTION"})]}),(0,h.jsx)("span",{className:"text-sm font-mono ".concat((null===i||void 0===i?void 0:i.change_percent)>=0?"text-green-400":"text-red-400"),children:Kv(null===i||void 0===i?void 0:i.change_percent)})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsxs)("span",{className:"text-zinc-400",children:["$",qv(null===i||void 0===i?void 0:i.price)]}),(0,h.jsxs)("span",{className:"text-zinc-500",children:["Vol: ",Xv(null===i||void 0===i?void 0:i.volume)]})]}),t.conviction&&(0,h.jsx)("div",{className:"mt-2 pt-2 border-t border-white/5",children:(0,h.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Score"}),(0,h.jsxs)("span",{className:"text-cyan-400 font-mono",children:[t.conviction.score,"/100"]})]})}),(0,h.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),fe(t,"BUY")},className:"flex-1 py-1.5 text-xs font-bold bg-green-500/20 text-green-400 rounded hover:bg-green-500/30",children:"Buy"}),(0,h.jsx)("button",{onClick:e=>{e.stopPropagation(),fe(t,"SELL")},className:"flex-1 py-1.5 text-xs font-bold bg-red-500/20 text-red-400 rounded hover:bg-red-500/30",children:"Short"})]})]},e)})}):(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(Nl,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),(0,h.jsx)("p",{className:"text-zinc-400",children:"Connect to IB Gateway to scan"}),(0,h.jsx)("button",{onClick:Kt,className:"mt-4 px-4 py-2 bg-cyan-500 text-black rounded font-medium text-sm",children:"Connect Now"})]})]}),(0,h.jsx)(Iv,{opportunities:$,onTickerSelect:ct}),(0,h.jsxs)(Yv,{glow:It.total>0,children:[(0,h.jsxs)("button",{onClick:()=>me("comprehensiveAlerts"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(fl,{className:"w-5 h-5 text-cyan-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Smart Scanner"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",It.total,")"]}),It.total>0&&(0,h.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 bg-cyan-500/20 text-cyan-400 rounded",children:["Score \u2265",Ft]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:t=>{t.stopPropagation(),ce()},disabled:$t,className:"text-xs px-2 py-1 rounded ".concat($t?"bg-zinc-700 text-zinc-500":"bg-cyan-500 text-black hover:bg-cyan-400"," transition-colors"),children:$t?"Scanning...":"Scan Now"}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.comprehensiveAlerts?"rotate-180":"")})]})]}),dt.comprehensiveAlerts&&(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-zinc-900/50 rounded-lg",children:[(0,h.jsx)("span",{className:"text-xs text-zinc-400 whitespace-nowrap",children:"Min Score:"}),(0,h.jsx)("input",{type:"range",min:"0",max:"100",value:Ft,onChange:t=>Dt(parseInt(t.target.value)),className:"flex-1 h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),(0,h.jsx)("span",{className:"text-sm font-mono text-cyan-400 w-8",children:Ft})]}),(0,h.jsx)("div",{className:"flex gap-1 p-1 bg-zinc-900/50 rounded-lg",children:[{id:"all",label:"All",count:It.total},{id:"scalp",label:"Scalp",count:It.scalp,max:10},{id:"intraday",label:"Intraday",count:It.intraday,max:25},{id:"swing",label:"Swing",count:It.swing,max:25},{id:"position",label:"Position",count:It.position,max:25}].map(t=>(0,h.jsxs)("button",{onClick:()=>Ut(t.id),className:"flex-1 px-2 py-1.5 text-xs rounded transition-colors ".concat(Wt===t.id?"bg-cyan-500 text-black font-bold":"text-zinc-400 hover:text-white hover:bg-zinc-800"),children:[t.label,(0,h.jsxs)("span",{className:"ml-1 ".concat(Wt===t.id?"text-black/70":"text-zinc-600"),children:[t.count,t.max?"/".concat(t.max):""]})]},t.id))}),!F&&(0,h.jsxs)("div",{className:"text-center py-4 text-zinc-500 text-sm",children:[(0,h.jsx)(Ml,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),"Connect IB Gateway to run comprehensive scan"]}),F&&0===It.total&&!$t&&(0,h.jsxs)("div",{className:"text-center py-6 text-zinc-500",children:[(0,h.jsx)(fl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,h.jsxs)("p",{className:"text-sm",children:["No opportunities above score ",Ft]}),(0,h.jsx)("p",{className:"text-xs mt-1",children:"Try lowering the threshold or wait for market conditions"})]}),$t&&(0,h.jsxs)("div",{className:"text-center py-6 text-cyan-400",children:[(0,h.jsx)(Kg,{className:"w-8 h-8 mx-auto mb-2 animate-spin"}),(0,h.jsx)("p",{className:"text-sm",children:"Scanning all market sectors..."}),(0,h.jsx)("p",{className:"text-xs mt-1 text-zinc-500",children:"Analyzing against 77 trading rules"})]}),ue().slice(0,10).map((t,e)=>{var n,i,s,r,a,o,l,c;return(0,h.jsxs)(Fo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.03*e},onClick:()=>Nt(t),className:"p-3 rounded-lg cursor-pointer transition-all border ".concat("A"===t.grade?"bg-green-500/10 border-green-500/40 shadow-[0_0_15px_rgba(34,197,94,0.15)]":"B"===t.grade?"bg-cyan-500/10 border-cyan-500/40":"bg-zinc-900/50 border-white/10 hover:border-cyan-500/30"),"data-testid":"comprehensive-alert-".concat(t.symbol),children:[(0,h.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("LONG"===t.direction?"bg-green-500 text-black":"bg-red-500 text-white"),children:t.direction}),(0,h.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("A"===t.grade?"bg-green-500 text-black":"B"===t.grade?"bg-cyan-500 text-black":"C"===t.grade?"bg-yellow-500 text-black":"bg-zinc-500 text-white"),children:["Grade ",t.grade]}),(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 rounded ".concat("scalp"===t.timeframe?"bg-red-500/20 text-red-400":"intraday"===t.timeframe?"bg-orange-500/20 text-orange-400":"swing"===t.timeframe?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"),children:t.timeframe_description})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-400 mt-1 line-clamp-1",children:t.headline})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[(0,h.jsx)("span",{className:"text-lg font-bold text-cyan-400",children:t.overall_score}),(0,h.jsx)("button",{onClick:e=>{var n;e.stopPropagation(),n=t.id,Ot(t=>({scalp:t.scalp.filter(t=>t.id!==n),intraday:t.intraday.filter(t=>t.id!==n),swing:t.swing.filter(t=>t.id!==n),position:t.position.filter(t=>t.id!==n)})),(null===jt||void 0===jt?void 0:jt.id)===n&&Nt(null)},className:"p-1 text-zinc-500 hover:text-red-400 transition-colors",title:"Dismiss",children:(0,h.jsx)(_l,{className:"w-3.5 h-3.5"})})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-5 gap-1.5 text-[9px]",children:[(0,h.jsxs)("div",{className:"bg-black/30 rounded p-1.5 text-center",children:[(0,h.jsx)("span",{className:"text-zinc-500 block",children:"Entry"}),(0,h.jsxs)("span",{className:"text-cyan-400 font-mono",children:["$",null===(n=t.trade_plan)||void 0===n||null===(i=n.entry)||void 0===i?void 0:i.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-1.5 text-center",children:[(0,h.jsx)("span",{className:"text-zinc-500 block",children:"Stop"}),(0,h.jsxs)("span",{className:"text-red-400 font-mono",children:["$",null===(s=t.trade_plan)||void 0===s||null===(r=s.stop_loss)||void 0===r?void 0:r.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-1.5 text-center",children:[(0,h.jsx)("span",{className:"text-zinc-500 block",children:"Target"}),(0,h.jsxs)("span",{className:"text-green-400 font-mono",children:["$",null===(a=t.trade_plan)||void 0===a||null===(o=a.target)||void 0===o?void 0:o.toFixed(2)]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-1.5 text-center",children:[(0,h.jsx)("span",{className:"text-zinc-500 block",children:"R/R"}),(0,h.jsxs)("span",{className:"text-purple-400 font-mono",children:["1:",null===(l=t.trade_plan)||void 0===l||null===(c=l.risk_reward)||void 0===c?void 0:c.toFixed(1)]})]}),(0,h.jsxs)("div",{className:"bg-black/30 rounded p-1.5 text-center",children:[(0,h.jsx)("span",{className:"text-zinc-500 block",children:"Rules"}),(0,h.jsxs)("span",{className:"font-mono ".concat(t.matched_strategies_count>=10?"text-green-400":t.matched_strategies_count>=5?"text-cyan-400":"text-yellow-400"),children:[t.matched_strategies_count,"/77"]})]})]}),(0,h.jsxs)("div",{className:"mt-2 text-[9px] text-zinc-500 flex items-center gap-1",children:[(0,h.jsx)(uv,{className:"w-3 h-3"}),(0,h.jsx)("span",{children:t.trigger_reason})]})]},t.id)}),ue().length>10&&(0,h.jsxs)("p",{className:"text-center text-zinc-500 text-xs py-2",children:["+",ue().length-10," more alerts in this category"]})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("breakouts"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(xl,{className:"w-5 h-5 text-yellow-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Breakout Alerts"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",bt.length,")"]}),bt.length>0&&(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 bg-yellow-500/20 text-yellow-400 rounded animate-pulse",children:"LIVE"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:t=>{t.stopPropagation(),oe()},className:"text-xs text-cyan-400 hover:text-cyan-300",children:"Refresh"}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.breakouts?"rotate-180":"")})]})]}),dt.breakouts&&(0,h.jsxs)("div",{className:"space-y-2",children:[!F&&(0,h.jsx)("div",{className:"text-center py-4 text-zinc-500 text-sm",children:"Connect IB Gateway for real-time breakout scanning"}),F&&0===bt.length&&(0,h.jsx)("div",{className:"text-center py-4 text-zinc-500 text-sm",children:"No breakouts detected matching your criteria"}),bt.map((t,e)=>{var n;return(0,h.jsxs)("div",{onClick:()=>ct({symbol:t.symbol,quote:{price:t.current_price,change_percent:t.change_percent}}),className:"p-3 rounded cursor-pointer transition-all hover:bg-zinc-800 border ".concat("LONG"===t.breakout_type?"bg-green-500/5 border-green-500/30":"bg-red-500/5 border-red-500/30"),"data-testid":"breakout-".concat(t.symbol),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("LONG"===t.breakout_type?"bg-green-500 text-black":"bg-red-500 text-white"),children:t.breakout_type}),(0,h.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 bg-yellow-500/20 text-yellow-400 rounded",children:["Score: ",t.breakout_score]}),(0,h.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("VERY STRONG"===t.signal_strength_label?"bg-green-500 text-black":"STRONG"===t.signal_strength_label?"bg-cyan-500 text-black":"MODERATE"===t.signal_strength_label?"bg-yellow-500 text-black":"bg-zinc-600 text-white"),children:[t.rules_matched||t.strategy_count,"/77"]})]}),(0,h.jsx)("span",{className:"text-sm font-mono ".concat(t.change_percent>=0?"text-green-400":"text-red-400"),children:Kv(t.change_percent)})]}),(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between text-[9px] mb-1",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Signal Strength"}),(0,h.jsxs)("span",{className:"font-bold ".concat("VERY STRONG"===t.signal_strength_label?"text-green-400":"STRONG"===t.signal_strength_label?"text-cyan-400":"MODERATE"===t.signal_strength_label?"text-yellow-400":"text-zinc-400"),children:[t.signal_strength_label||"MODERATE"," (",t.signal_strength||Math.round(t.strategy_count/77*100),"%)"]})]}),(0,h.jsx)("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:(0,h.jsx)("div",{className:"h-full rounded-full transition-all ".concat("VERY STRONG"===t.signal_strength_label?"bg-green-500":"STRONG"===t.signal_strength_label?"bg-cyan-500":"MODERATE"===t.signal_strength_label?"bg-yellow-500":"bg-zinc-500"),style:{width:"".concat(t.signal_strength||Math.round(t.strategy_count/77*100),"%")}})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-[9px] mb-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Price: "}),(0,h.jsxs)("span",{className:"text-white font-mono",children:["$",t.current_price]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Broke: "}),(0,h.jsxs)("span",{className:"font-mono ".concat("LONG"===t.breakout_type?"text-green-400":"text-red-400"),children:["$",t.breakout_level]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"RVOL: "}),(0,h.jsxs)("span",{className:"text-cyan-400 font-mono",children:[t.rvol,"x"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"R/R: "}),(0,h.jsxs)("span",{className:"text-purple-400 font-mono",children:["1:",t.risk_reward]})]})]}),(0,h.jsx)("div",{className:"flex items-center justify-between text-[9px]",children:(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)("span",{className:"text-zinc-500",children:["Entry: ",(0,h.jsxs)("span",{className:"text-cyan-400",children:["$",t.current_price]})]}),(0,h.jsxs)("span",{className:"text-zinc-500",children:["Stop: ",(0,h.jsxs)("span",{className:"text-red-400",children:["$",t.stop_loss]})]}),(0,h.jsxs)("span",{className:"text-zinc-500",children:["Target: ",(0,h.jsxs)("span",{className:"text-green-400",children:["$",t.target]})]})]})}),(null===(n=t.matched_strategies)||void 0===n?void 0:n.length)>0&&(0,h.jsx)("div",{className:"mt-2 pt-2 border-t border-white/5",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-[9px] text-zinc-500",children:"Top Strategies: "}),t.matched_strategies.slice(0,3).map((t,e)=>(0,h.jsx)("span",{className:"text-[9px] text-purple-400 mr-2",children:t.name},e))]}),(0,h.jsxs)("span",{className:"text-[9px] text-zinc-600",children:[t.rules_matched||t.strategy_count," rules matched"]})]})})]},e)})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("priceAlerts"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(bv,{className:"w-5 h-5 text-purple-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Price Alerts"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",Ct.length,")"]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:t=>{t.stopPropagation(),vt(!gt)},className:"p-1 rounded ".concat(gt?"text-green-400":"text-zinc-500"),children:gt?(0,h.jsx)(Ho,{className:"w-4 h-4"}):(0,h.jsx)(qo,{className:"w-4 h-4"})}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.priceAlerts?"rotate-180":"")})]})]}),dt.priceAlerts&&(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-zinc-900/50 rounded",children:[(0,h.jsx)("input",{type:"text",value:zt,onChange:t=>Tt(t.target.value.toUpperCase()),placeholder:"Symbol",className:"w-20 px-2 py-1 bg-zinc-800 border border-zinc-700 rounded text-xs text-white placeholder-zinc-500"}),(0,h.jsxs)("select",{value:Pt,onChange:t=>At(t.target.value),className:"px-2 py-1 bg-zinc-800 border border-zinc-700 rounded text-xs text-white",children:[(0,h.jsx)("option",{value:"ABOVE",children:"Above"}),(0,h.jsx)("option",{value:"BELOW",children:"Below"})]}),(0,h.jsx)("input",{type:"number",value:Mt,onChange:t=>_t(t.target.value),placeholder:"Price",className:"w-24 px-2 py-1 bg-zinc-800 border border-zinc-700 rounded text-xs text-white placeholder-zinc-500"}),(0,h.jsx)("button",{onClick:async()=>{if(zt&&Mt)try{await ih.post("/api/ib/alerts/price",{symbol:zt.toUpperCase(),target_price:parseFloat(Mt),direction:Pt}),al.success("Alert created for ".concat(zt.toUpperCase()," ").concat(Pt," $").concat(Mt)),Tt(""),_t(""),he()}catch(t){al.error("Failed to create alert")}},disabled:!zt||!Mt,className:"p-1.5 bg-purple-500 text-white rounded hover:bg-purple-400 disabled:opacity-50",children:(0,h.jsx)(Wg,{className:"w-3.5 h-3.5"})})]}),(0,h.jsx)("div",{className:"space-y-1.5",children:Ct.length>0?Ct.map((t,e)=>{var n;return(0,h.jsxs)("div",{className:"flex items-center justify-between p-2 bg-zinc-900/50 rounded group",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-purple-400",children:t.symbol}),(0,h.jsxs)("span",{className:"text-xs ".concat("ABOVE"===t.direction?"text-green-400":"text-red-400"),children:["ABOVE"===t.direction?"\u2191":"\u2193"," $",null===(n=t.target_price)||void 0===n?void 0:n.toFixed(2)]})]}),(0,h.jsx)("button",{onClick:()=>(async t=>{try{await ih.delete("/api/ib/alerts/price/".concat(t)),he()}catch(e){al.error("Failed to delete alert")}})(t.id),className:"p-1 text-zinc-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,h.jsx)(Ug,{className:"w-3.5 h-3.5"})})]},e)}):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-xs py-2",children:"No active alerts"})})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("earnings"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(Sv,{className:"w-5 h-5 text-orange-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Earnings"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",tt.length,")"]})]}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.earnings?"rotate-180":"")})]}),dt.earnings&&(0,h.jsx)("div",{className:"space-y-2",children:tt.length>0?tt.map((t,e)=>{var n,i,s,r,a,o,l,c;const u=new Date(t.earnings_date),d=new Date;d.setHours(0,0,0,0),u.setHours(0,0,0,0);const p=u.getTime()===d.getTime(),m=new Date(d);m.setDate(d.getDate()+1);const f=u.getTime()===m.getTime(),g=(null===(n=t.implied_volatility)||void 0===n?void 0:n.expected_move_percent)||0,v=(null===(i=t.implied_volatility)||void 0===i?void 0:i.iv_rank)||0,x=t.avg_stock_reaction_4q||(null===(s=t.earnings_play)||void 0===s?void 0:s.avg_reaction)||0,y=t.earnings_play||{},b=null===(r=y.strategies)||void 0===r?void 0:r[0],w=(k=x)<=-10?{bg:"bg-red-500",text:"text-red-400",label:"Strong Bearish"}:k<=-7?{bg:"bg-orange-600",text:"text-orange-400",label:"Bearish"}:k<=-5?{bg:"bg-yellow-600",text:"text-yellow-400",label:"Slight Bearish"}:k<0?{bg:"bg-cyan-600",text:"text-cyan-400",label:"Neutral Down"}:k<=3?{bg:"bg-blue-500",text:"text-blue-400",label:"Neutral"}:k<=5?{bg:"bg-sky-400",text:"text-sky-300",label:"Slight Bullish"}:k<=7?{bg:"bg-emerald-400",text:"text-emerald-300",label:"Bullish"}:k<=10?{bg:"bg-green-500",text:"text-green-400",label:"Strong Bullish"}:{bg:"bg-lime-400",text:"text-lime-300",label:"Very Bullish"};var k;const S=Math.max(0,Math.min(100,(x+15)/30*100));return(0,h.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer transition-all hover:scale-[1.01] ".concat(p?"bg-orange-500/15 border border-orange-500/50":f?"bg-yellow-500/10 border border-yellow-500/30":"bg-zinc-900/50 border border-white/5 hover:border-white/20"),onClick:()=>ct({symbol:t.symbol,quote:{},earningsPlay:y}),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),p&&(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 bg-orange-500 text-black rounded font-bold animate-pulse",children:"TODAY"}),f&&(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 bg-yellow-500/30 text-yellow-400 rounded font-medium",children:"TOMORROW"}),y.direction&&(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("LONG"===y.direction?"bg-green-500/30 text-green-400":"bg-red-500/30 text-red-400"),children:y.direction})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,h.jsx)("span",{className:"text-[11px]",children:"Before Open"===t.time?"\u2600\ufe0f":"\ud83c\udf19"}),(0,h.jsx)("span",{className:"text-[10px] text-zinc-500",children:u.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),(0,h.jsx)("p",{className:"text-[10px] text-zinc-500 mb-2 truncate",children:t.company_name}),(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between text-[10px] mb-1",children:[(0,h.jsx)("span",{className:"text-zinc-500",children:"Avg Historical Reaction"}),(0,h.jsxs)("span",{className:"font-mono font-bold ".concat(w.text),children:[x>=0?"+":"",x.toFixed(1),"%"]})]}),(0,h.jsxs)("div",{className:"relative h-2 rounded-full overflow-hidden bg-gradient-to-r from-red-500 via-yellow-500 via-50% to-lime-400",children:[(0,h.jsx)("div",{className:"absolute top-0 bottom-0 left-1/2 w-px bg-white/50 z-10"}),(0,h.jsx)("div",{className:"absolute top-0 bottom-0 w-1 bg-white rounded-full shadow-lg z-20 transition-all",style:{left:"calc(".concat(S,"% - 2px)")}})]}),(0,h.jsxs)("div",{className:"flex justify-between text-[8px] text-zinc-600 mt-0.5",children:[(0,h.jsx)("span",{children:"-15%"}),(0,h.jsx)("span",{children:"0%"}),(0,h.jsx)("span",{children:"+15%"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3 text-[9px] mb-2",children:[(0,h.jsxs)("span",{className:"text-zinc-500",children:["Exp Move: ",(0,h.jsxs)("span",{className:"text-zinc-300 font-mono",children:["\xb1",g.toFixed(1),"%"]})]}),(0,h.jsxs)("span",{className:"text-zinc-500",children:["IV Rank: ",(0,h.jsxs)("span",{className:v>=60?"text-yellow-400":"text-zinc-300",children:[v.toFixed(0),"%"]})]}),y.win_rate&&(0,h.jsxs)("span",{className:"text-zinc-500",children:["Win: ",(0,h.jsxs)("span",{className:y.win_rate>=60?"text-green-400":"text-zinc-300",children:[y.win_rate,"%"]})]})]}),b&&(0,h.jsxs)("div",{className:"p-2 rounded text-[10px] ".concat(null!==(a=b.type)&&void 0!==a&&a.includes("long")?"bg-green-500/10 border border-green-500/20":null!==(o=b.type)&&void 0!==o&&o.includes("short")?"bg-red-500/10 border border-red-500/20":null!==(l=b.type)&&void 0!==l&&l.includes("sell")?"bg-purple-500/10 border border-purple-500/20":"bg-cyan-500/10 border border-cyan-500/20"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-0.5",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:b.name}),(0,h.jsxs)("span",{className:"text-zinc-400",children:[null===(c=b.confidence)||void 0===c?void 0:c.toFixed(0),"% conf"]})]}),(0,h.jsx)("p",{className:"text-zinc-400 text-[9px]",children:b.reasoning})]})]},e)}):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-sm py-4",children:"No upcoming earnings"})})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("squeeze"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(Ml,{className:"w-5 h-5 text-red-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Short Squeeze"}),(0,h.jsxs)("span",{className:"text-xs text-zinc-500",children:["(",xt.length,")"]})]}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.squeeze?"rotate-180":"")})]}),dt.squeeze&&(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"High Short Interest Stocks"}),(0,h.jsx)("button",{onClick:ae,className:"text-[10px] text-cyan-400 hover:text-cyan-300",children:"Refresh"})]}),xt.length>0?xt.slice(0,6).map((t,e)=>{var n,i,s;return(0,h.jsxs)("div",{className:"p-2 rounded cursor-pointer transition-all hover:bg-zinc-800 ".concat("HIGH"===t.squeeze_risk?"bg-red-500/10 border border-red-500/30":"MEDIUM"===t.squeeze_risk?"bg-yellow-500/10 border border-yellow-500/20":"bg-zinc-900/50 border border-white/5"),onClick:()=>ct({symbol:t.symbol,quote:{price:t.price,change_percent:t.change_percent}}),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"font-bold text-white",children:t.symbol}),(0,h.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-bold ".concat("HIGH"===t.squeeze_risk?"bg-red-500 text-white":"MEDIUM"===t.squeeze_risk?"bg-yellow-500 text-black":"bg-zinc-600 text-white"),children:t.squeeze_score})]}),(0,h.jsx)("span",{className:"text-xs font-mono ".concat(t.change_percent>=0?"text-green-400":"text-red-400"),children:Kv(t.change_percent)})]}),(0,h.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-[9px]",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)($v,{termId:"short-interest",children:(0,h.jsx)("span",{className:"text-zinc-500",children:"SI%: "})}),(0,h.jsxs)("span",{className:"text-red-400 font-mono",children:[null===(n=t.short_interest_pct)||void 0===n?void 0:n.toFixed(1),"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)($v,{termId:"days-to-cover",children:(0,h.jsx)("span",{className:"text-zinc-500",children:"DTC: "})}),(0,h.jsx)("span",{className:"text-yellow-400 font-mono",children:null===(i=t.days_to_cover)||void 0===i?void 0:i.toFixed(1)})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)($v,{termId:"rvol",children:(0,h.jsx)("span",{className:"text-zinc-500",children:"RVOL: "})}),(0,h.jsxs)("span",{className:"text-cyan-400 font-mono",children:[null===(s=t.rvol)||void 0===s?void 0:s.toFixed(1),"x"]})]})]})]},e)}):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-sm py-4",children:"No squeeze candidates found"})]})]}),(0,h.jsxs)(Yv,{children:[(0,h.jsxs)("button",{onClick:()=>me("alerts"),className:"w-full flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(bv,{className:"w-5 h-5 text-yellow-400"}),(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:"Alerts"})]}),(0,h.jsx)(qg,{className:"w-4 h-4 text-zinc-500 transition-transform ".concat(dt.alerts?"rotate-180":"")})]}),dt.alerts&&(0,h.jsx)("div",{className:"space-y-2",children:X.length>0?X.map((t,e)=>(0,h.jsxs)("div",{className:"p-2 bg-zinc-900/50 rounded hover:bg-zinc-900 cursor-pointer transition-colors",onClick:()=>ct({symbol:t.symbol,quote:{}}),"data-testid":"alert-item-".concat(t.symbol),children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)("span",{className:"font-bold text-cyan-400",children:t.symbol}),(0,h.jsx)(Jv,{variant:"info",children:t.strategy_id})]}),(0,h.jsx)("p",{className:"text-xs text-zinc-400",children:t.message||t.strategy_name})]},e)):(0,h.jsx)("p",{className:"text-center text-zinc-500 text-sm py-4",children:"No recent alerts"})})]}),(0,h.jsx)(T,{children:jt&&jt.symbol&&jt.grade&&jt.trade_plan&&(0,h.jsx)(Fo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Nt(null),children:(0,h.jsxs)(Fo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-[#0A0A0A] border border-cyan-500/30 w-full max-w-2xl max-h-[85vh] overflow-hidden rounded-xl",onClick:t=>t.stopPropagation(),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-gradient-to-r from-cyan-900/20 to-transparent",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"text-2xl font-bold text-white",children:jt.symbol}),(0,h.jsxs)("span",{className:"text-sm px-2 py-0.5 rounded font-bold ".concat("A"===jt.grade?"bg-green-500 text-black":"B"===jt.grade?"bg-cyan-500 text-black":"C"===jt.grade?"bg-yellow-500 text-black":"bg-red-500 text-white"),children:["Grade ",jt.grade]}),(0,h.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat("LONG"===(null===(c=jt.trade_plan)||void 0===c?void 0:c.direction)?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:null===(d=jt.trade_plan)||void 0===d?void 0:d.direction})]}),(0,h.jsx)("button",{onClick:()=>Nt(null),className:"p-2 rounded-lg hover:bg-white/10 text-zinc-400",children:(0,h.jsx)(_l,{className:"w-5 h-5"})})]}),(0,h.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[65vh] space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,h.jsxs)("div",{className:"flex items-center gap-1.5 text-cyan-400",children:[(0,h.jsx)(uv,{className:"w-4 h-4"}),jt.triggered_at_formatted]}),(0,h.jsx)("span",{className:"text-zinc-600",children:"\u2022"}),(0,h.jsx)("span",{className:"text-purple-400",children:jt.timeframe_description}),(0,h.jsx)("span",{className:"text-zinc-600",children:"\u2022"}),(0,h.jsx)("span",{className:"text-zinc-400",children:jt.alert_type})]}),(0,h.jsx)("div",{className:"p-3 bg-cyan-500/10 border border-cyan-500/30 rounded-lg",children:(0,h.jsx)("p",{className:"text-sm text-white font-medium",children:jt.headline})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-xs text-zinc-500 uppercase mb-2",children:"Why This Alert Triggered"}),(0,h.jsx)("p",{className:"text-sm text-zinc-300",children:jt.trigger_reason})]}),(0,h.jsx)("div",{className:"grid grid-cols-5 gap-3",children:[{label:"Direction",value:null===(p=jt.trade_plan)||void 0===p?void 0:p.direction,color:"LONG"===(null===(m=jt.trade_plan)||void 0===m?void 0:m.direction)?"green":"red"},{label:"Entry",value:"$".concat(null===(f=jt.trade_plan)||void 0===f||null===(g=f.entry)||void 0===g?void 0:g.toFixed(2)),color:"cyan"},{label:"Stop Loss",value:"$".concat(null===(v=jt.trade_plan)||void 0===v||null===(x=v.stop_loss)||void 0===x?void 0:x.toFixed(2)),color:"red"},{label:"Target",value:"$".concat(null===(y=jt.trade_plan)||void 0===y||null===(b=y.target)||void 0===b?void 0:b.toFixed(2)),color:"green"},{label:"R/R Ratio",value:"1:".concat(null===(w=jt.trade_plan)||void 0===w||null===(k=w.risk_reward)||void 0===k?void 0:k.toFixed(1)),color:"purple"}].map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900 rounded-lg p-3 text-center",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase block",children:t.label}),(0,h.jsx)("p",{className:"text-sm font-bold font-mono text-".concat(t.color,"-400"),children:t.value})]},e))}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-xs text-zinc-500 uppercase mb-2",children:"Scores"}),(0,h.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[{label:"Overall",value:null===(S=jt.scores)||void 0===S?void 0:S.overall,termId:"overall-score"},{label:"Technical",value:null===(j=jt.scores)||void 0===j?void 0:j.technical,termId:"technical-score"},{label:"Fundamental",value:null===(N=jt.scores)||void 0===N?void 0:N.fundamental,termId:"fundamental-score"},{label:"Catalyst",value:null===(C=jt.scores)||void 0===C?void 0:C.catalyst,termId:"catalyst-score"},{label:"Confidence",value:null===(E=jt.scores)||void 0===E?void 0:E.confidence,termId:"confidence-score"}].map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900/50 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[9px] text-zinc-500 uppercase block",children:(0,h.jsx)($v,{termId:t.termId,children:t.label})}),(0,h.jsx)("p",{className:"text-lg font-bold font-mono ".concat(t.value>=70?"text-green-400":t.value>=50?"text-cyan-400":t.value>=30?"text-yellow-400":"text-red-400"),children:t.value||"--"})]},e))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-xs text-zinc-500 uppercase mb-2",children:"Technical Context"}),(0,h.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{label:"RVOL",value:"".concat(null===(z=jt.features)||void 0===z||null===(M=z.rvol)||void 0===M?void 0:M.toFixed(1),"x"),termId:"rvol"},{label:"RSI",value:null===(_=jt.features)||void 0===_||null===(P=_.rsi)||void 0===P?void 0:P.toFixed(0),termId:"rsi"},{label:"VWAP Dist",value:"".concat(null===(A=jt.features)||void 0===A||null===(L=A.vwap_distance)||void 0===L?void 0:L.toFixed(1),"%"),termId:"vwap-dist"},{label:"Trend",value:null===(R=jt.features)||void 0===R?void 0:R.trend,termId:"trend"}].map((t,e)=>(0,h.jsxs)("div",{className:"bg-zinc-900/50 rounded p-2 text-center",children:[(0,h.jsx)("span",{className:"text-[9px] text-zinc-500 uppercase block",children:(0,h.jsx)($v,{termId:t.termId,children:t.label})}),(0,h.jsx)("p",{className:"text-sm font-mono text-white",children:t.value||"--"})]},e))})]}),jt.primary_strategy&&(0,h.jsxs)("div",{className:"p-3 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-xs text-purple-400 uppercase font-semibold",children:"Primary Strategy Match"}),(0,h.jsx)("span",{className:"text-xs text-zinc-400",children:(0,h.jsxs)($v,{termId:"signal-strength",children:[jt.matched_strategies_count,"/77 rules"]})})]}),(0,h.jsx)("p",{className:"text-sm font-bold text-white",children:jt.primary_strategy.name}),(0,h.jsx)("p",{className:"text-xs text-zinc-400 mt-1",children:jt.primary_strategy.description})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-xs text-zinc-500 uppercase mb-2",children:"Full Analysis"}),(0,h.jsx)("div",{className:"p-3 bg-zinc-900/50 rounded-lg",children:(0,h.jsx)("pre",{className:"text-xs text-zinc-300 whitespace-pre-wrap font-sans leading-relaxed",children:jt.summary})})]})]}),(0,h.jsxs)("div",{className:"flex gap-3 p-4 border-t border-white/10",children:[(0,h.jsxs)("button",{onClick:()=>{var t;fe({symbol:jt.symbol,quote:{price:null===(t=jt.trade_plan)||void 0===t?void 0:t.entry}},"BUY"),Nt(null)},className:"flex-1 py-2.5 text-sm font-bold bg-green-500 text-black rounded-lg hover:bg-green-400 transition-colors",children:["Buy ",jt.symbol]}),(0,h.jsxs)("button",{onClick:()=>{var t;fe({symbol:jt.symbol,quote:{price:null===(t=jt.trade_plan)||void 0===t?void 0:t.entry}},"SELL"),Nt(null)},className:"flex-1 py-2.5 text-sm font-bold bg-red-500 text-white rounded-lg hover:bg-red-400 transition-colors",children:["Short ",jt.symbol]}),(0,h.jsx)("button",{onClick:()=>{var t;return ct({symbol:jt.symbol,quote:{price:null===(t=jt.features)||void 0===t?void 0:t.price}})},className:"px-4 py-2.5 text-sm font-bold bg-zinc-800 text-white rounded-lg hover:bg-zinc-700 transition-colors",children:"Full Details"})]})]})})})]}),lt&&(0,h.jsx)(Zv,{ticker:lt,onClose:()=>ct(null),onTrade:fe}),ut.isOpen&&(0,h.jsx)(tx,{ticker:ut.ticker,action:ut.action,onClose:()=>ht({isOpen:!1,ticker:null,action:null}),onSuccess:()=>{Xt(),ht({isOpen:!1,ticker:null,action:null})}}),(0,h.jsx)(Pv,{isOpen:mt,onClose:()=>ft(!1)})]})},nx=Uo("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ix=Uo("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),sx=Uo("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),rx={categories:[{id:"scores",name:"Scores & Grades",icon:"Target",description:"How we evaluate trading opportunities"},{id:"technical",name:"Technical Indicators",icon:"TrendingUp",description:"Price and volume based signals"},{id:"momentum",name:"Momentum & Volume",icon:"Zap",description:"Market energy and participation"},{id:"levels",name:"Support & Resistance",icon:"Activity",description:"Key price levels"},{id:"strategies",name:"Trading Strategies",icon:"Briefcase",description:"Trade setups and patterns"},{id:"risk",name:"Risk Management",icon:"Shield",description:"Position sizing and protection"},{id:"orders",name:"Order Types",icon:"FileText",description:"How to execute trades"},{id:"market",name:"Market Context",icon:"Globe",description:"Broader market conditions"},{id:"earnings",name:"Earnings & Catalysts",icon:"Calendar",description:"Event-driven opportunities"},{id:"abbreviations",name:"Abbreviations",icon:"Hash",description:"Common shorthand terms"}],entries:[{id:"overall-score",term:"Overall Score",category:"scores",shortDef:"Composite score (0-100) combining technical, fundamental, and catalyst factors",fullDef:"The Overall Score is a weighted composite of multiple factors that determines the quality of a trading opportunity.\n\n**Calculation:**\n- Technical Score: 40% weight\n- Fundamental Score: 25% weight  \n- Catalyst Score: 20% weight\n- Confidence Score: 15% weight\n\n**Interpretation:**\n- 80-100: Excellent opportunity (A grade)\n- 65-79: Good opportunity (B grade)\n- 50-64: Moderate opportunity (C grade)\n- 35-49: Weak opportunity (D grade)\n- 0-34: Poor opportunity (F grade)",relatedTerms:["technical-score","fundamental-score","catalyst-score","grade"],tags:["score","composite","evaluation"]},{id:"grade",term:"Grade (A/B/C/D/F)",category:"scores",shortDef:"Letter grade based on Overall Score, indicating opportunity quality",fullDef:"Grades provide a quick visual indicator of opportunity quality.\n\n**Grade Breakdown:**\n- **Grade A** (80-100): High conviction, strong setup, multiple confirmations\n- **Grade B** (65-79): Good setup with minor concerns, trade with normal size\n- **Grade C** (50-64): Moderate setup, consider reduced position size\n- **Grade D** (35-49): Weak setup, only trade with very small size or avoid\n- **Grade F** (0-34): Do not trade, setup fails key criteria\n\n**Color Coding:**\n- A = Green\n- B = Cyan/Blue\n- C = Yellow\n- D = Orange\n- F = Red",relatedTerms:["overall-score"],tags:["grade","quality","rating"]},{id:"technical-score",term:"Technical Score",category:"scores",shortDef:"Score (0-100) based on price action, trend, and technical indicators",fullDef:"The Technical Score evaluates the technical setup of a stock.\n\n**Components:**\n1. **Trend Alignment** (25 pts max)\n   - Price above/below key EMAs (9, 20, 50)\n   - Higher highs/lows for uptrend, lower highs/lows for downtrend\n\n2. **RSI Position** (20 pts max)\n   - Bonus for RSI 40-60 (optimal entry zone)\n   - Penalty for overbought (>70) or oversold (<30)\n\n3. **VWAP Relationship** (15 pts max)\n   - Distance from VWAP\n   - VWAP as support/resistance\n\n4. **Moving Average Alignment** (15 pts max)\n   - EMA 9 > EMA 20 > SMA 50 for bullish\n   - Reverse for bearish\n\n5. **MACD Signal** (15 pts max)\n   - MACD above signal line = bullish\n   - MACD histogram momentum\n\n6. **Price Structure** (10 pts max)\n   - Clean breakout patterns\n   - Support/resistance respect",relatedTerms:["rsi","macd","vwap","ema","trend"],tags:["score","technical","indicators"]},{id:"fundamental-score",term:"Fundamental Score",category:"scores",shortDef:"Score based on company financials and valuation metrics",fullDef:"The Fundamental Score evaluates the company's financial health.\n\n**Components:**\n1. **Market Cap** (20 pts max)\n   - Large cap preferred for liquidity\n   - Micro caps get lower scores\n\n2. **Sector Strength** (20 pts max)\n   - How the sector is performing\n   - Rotation patterns\n\n3. **Earnings Quality** (25 pts max)\n   - Recent earnings beats/misses\n   - Revenue growth\n\n4. **Analyst Ratings** (15 pts max)\n   - Buy/hold/sell consensus\n   - Recent upgrades/downgrades\n\n5. **Institutional Ownership** (20 pts max)\n   - Institutional buying/selling\n   - 13F filing changes",relatedTerms:["market-cap","sector"],tags:["score","fundamental","financials"]},{id:"catalyst-score",term:"Catalyst Score",category:"scores",shortDef:"Score based on upcoming events that could move the stock",fullDef:"The Catalyst Score measures potential price-moving events.\n\n**Components:**\n1. **Earnings Proximity** (30 pts max)\n   - Days until earnings\n   - Historical earnings reactions\n\n2. **News Flow** (25 pts max)\n   - Recent news sentiment\n   - News volume\n\n3. **Options Activity** (20 pts max)\n   - Unusual options volume\n   - Put/call ratio changes\n\n4. **Short Interest** (15 pts max)\n   - Days to cover\n   - Short squeeze potential\n\n5. **Analyst Events** (10 pts max)\n   - Conference presentations\n   - Investor days",relatedTerms:["earnings","iv","short-interest"],tags:["score","catalyst","events"]},{id:"confidence-score",term:"Confidence Score",category:"scores",shortDef:"How confident the system is in the analysis based on data quality",fullDef:"The Confidence Score indicates data reliability and analysis certainty.\n\n**Components:**\n1. **Data Freshness** (25 pts max)\n   - Real-time vs delayed data\n   - Last update timestamp\n\n2. **Strategy Matches** (30 pts max)\n   - Number of strategies that confirm the setup\n   - Quality of matches\n\n3. **Indicator Agreement** (25 pts max)\n   - How many indicators align\n   - Conflicting signals reduce score\n\n4. **Historical Accuracy** (20 pts max)\n   - How similar setups performed historically\n   - Win rate of matched patterns",relatedTerms:["signal-strength","strategy-match"],tags:["score","confidence","reliability"]},{id:"signal-strength",term:"Signal Strength",category:"scores",shortDef:"Percentage of your 77 trading rules/strategies that a stock matches",fullDef:"Signal Strength shows how many of your custom trading rules a stock satisfies.\n\n**Calculation:**\nSignal Strength = (Rules Matched / 77 Total Rules) \xd7 100%\n\n**Interpretation:**\n- **VERY STRONG** (13%+ / 10+ rules): High conviction, multiple confirmations\n- **STRONG** (9-12% / 7-9 rules): Good setup, solid confirmations\n- **MODERATE** (5-8% / 4-6 rules): Decent setup, some confirmations\n- **WEAK** (<5% / 1-3 rules): Few confirmations, proceed with caution\n\n**Why 77 Rules?**\nYour custom strategy library contains 77 rules covering:\n- Intraday patterns (INT-01 to INT-30)\n- Swing setups (SWG-01 to SWG-25)\n- Earnings plays (ERN-01 to ERN-12)\n- Special situations (SPL-01 to SPL-10)",relatedTerms:["strategy-match","breakout-score"],tags:["signal","rules","strategies","match"]},{id:"breakout-score",term:"Breakout Score",category:"scores",shortDef:"Composite score for breakout quality considering multiple factors",fullDef:"The Breakout Score specifically evaluates breakout opportunities.\n\n**Calculation:**\nBase = Overall Score\n+ RVOL Bonus (up to 10 pts for high relative volume)\n+ Strategy Match Bonus (2 pts per matched strategy)\n+ Breakout Strength (up to 10 pts based on distance from breakout level)\n\n**Key Factors:**\n1. Price breaking clearly above resistance (LONG) or below support (SHORT)\n2. Volume confirmation (RVOL >= 1.2x)\n3. Trend alignment with breakout direction\n4. Multiple strategy confirmations\n\n**Best Breakouts Have:**\n- Score 80+\n- RVOL 2x+\n- 5+ strategy matches\n- Clean price level break",relatedTerms:["resistance","support","rvol","signal-strength"],tags:["breakout","score","momentum"]},{id:"rsi",term:"RSI (Relative Strength Index)",category:"technical",shortDef:"Momentum oscillator (0-100) measuring speed and magnitude of price changes",fullDef:"RSI measures the speed and magnitude of recent price changes to evaluate overbought or oversold conditions.\n\n**Calculation:**\nRSI = 100 - (100 / (1 + RS))\nWhere RS = Average Gain / Average Loss over 14 periods\n\n**Interpretation:**\n- **>70**: Overbought - price may be due for pullback\n- **<30**: Oversold - price may be due for bounce\n- **40-60**: Neutral zone - trend continuation likely\n- **50**: Midpoint, often acts as support/resistance\n\n**Trading Applications:**\n- Divergence: Price makes new high/low but RSI doesn't = reversal signal\n- Failure swings: RSI breaks its own support/resistance before price\n- Trend confirmation: RSI >50 in uptrend, <50 in downtrend",relatedTerms:["overbought","oversold","divergence"],tags:["indicator","momentum","oscillator"]},{id:"macd",term:"MACD (Moving Average Convergence Divergence)",category:"technical",shortDef:"Trend-following momentum indicator showing relationship between two EMAs",fullDef:"MACD shows the relationship between two exponential moving averages.\n\n**Components:**\n- **MACD Line**: 12-period EMA minus 26-period EMA\n- **Signal Line**: 9-period EMA of MACD Line\n- **Histogram**: MACD Line minus Signal Line\n\n**Signals:**\n1. **Bullish Crossover**: MACD crosses above Signal Line\n2. **Bearish Crossover**: MACD crosses below Signal Line\n3. **Zero Line Cross**: MACD crosses above/below zero\n4. **Divergence**: Price and MACD move in opposite directions\n\n**Best Practices:**\n- Use with trend (trade crossovers in trend direction)\n- Watch histogram for momentum shifts\n- Divergence often precedes reversals",relatedTerms:["ema","crossover","divergence"],tags:["indicator","trend","momentum"]},{id:"vwap",term:"VWAP (Volume Weighted Average Price)",category:"technical",shortDef:"Average price weighted by volume, resets daily",fullDef:"VWAP represents the average price a stock has traded at throughout the day, weighted by volume.\n\n**Calculation:**\nVWAP = Cumulative(Price \xd7 Volume) / Cumulative(Volume)\n\n**Uses:**\n1. **Institutional Benchmark**: Large traders aim to execute at or better than VWAP\n2. **Support/Resistance**: Price often bounces off VWAP\n3. **Trend Indicator**: Above VWAP = bullish, Below = bearish\n\n**Trading Applications:**\n- Buy pullbacks to VWAP in uptrend\n- Sell rallies to VWAP in downtrend\n- VWAP reclaim = potential reversal signal\n- First break of VWAP often significant",relatedTerms:["vwap-distance","support","resistance"],tags:["indicator","volume","price","intraday"]},{id:"vwap-distance",term:"VWAP Distance",category:"technical",shortDef:"Percentage distance of current price from VWAP",fullDef:"VWAP Distance measures how far price has deviated from the day's VWAP.\n\n**Calculation:**\nVWAP Distance = ((Current Price - VWAP) / VWAP) \xd7 100%\n\n**Interpretation:**\n- **+2% to +5%**: Extended above VWAP, watch for pullback\n- **0% to +2%**: Healthy uptrend, near fair value\n- **-2% to 0%**: Healthy downtrend or consolidation\n- **-2% to -5%**: Extended below VWAP, watch for bounce\n- **Beyond \xb15%**: Extreme extension, reversion likely",relatedTerms:["vwap","mean-reversion"],tags:["indicator","distance","vwap"]},{id:"ema",term:"EMA (Exponential Moving Average)",category:"technical",shortDef:"Moving average giving more weight to recent prices",fullDef:"EMA is a type of moving average that gives more weight to recent prices.\n\n**Common EMAs:**\n- **EMA 9**: Short-term trend (intraday/scalping)\n- **EMA 20**: Short-term trend (swing trading)\n- **EMA 50**: Medium-term trend\n- **EMA 200**: Long-term trend\n\n**Uses:**\n1. **Trend Direction**: Price above EMA = uptrend\n2. **Dynamic Support/Resistance**: EMAs act as S/R\n3. **Crossovers**: Faster EMA crossing slower = signal\n\n**Key Relationships:**\n- EMA 9 > EMA 20 > EMA 50 = Strong uptrend\n- EMA 9 < EMA 20 < EMA 50 = Strong downtrend\n- Converging EMAs = Potential breakout coming",relatedTerms:["sma","crossover","trend"],tags:["indicator","moving-average","trend"]},{id:"sma",term:"SMA (Simple Moving Average)",category:"technical",shortDef:"Average price over a period, equal weighting to all prices",fullDef:"SMA is the arithmetic mean of prices over a specified period.\n\n**Calculation:**\nSMA = Sum of Closing Prices / Number of Periods\n\n**Common SMAs:**\n- **SMA 20**: Often used for Bollinger Bands\n- **SMA 50**: Key medium-term level (watched by many)\n- **SMA 200**: Long-term trend, major institutional level\n\n**Differences from EMA:**\n- SMA is smoother, slower to react\n- EMA responds faster to recent price changes\n- SMA 200 is more widely watched than EMA 200",relatedTerms:["ema","moving-average"],tags:["indicator","moving-average","average"]},{id:"atr",term:"ATR (Average True Range)",category:"technical",shortDef:"Measure of volatility based on price range",fullDef:"ATR measures market volatility by calculating the average range of price movement.\n\n**Calculation:**\nTrue Range = Max of:\n1. Current High - Current Low\n2. |Current High - Previous Close|\n3. |Current Low - Previous Close|\n\nATR = 14-period average of True Range\n\n**Uses:**\n1. **Stop Loss Placement**: Set stops 1-2x ATR from entry\n2. **Position Sizing**: Larger ATR = smaller position\n3. **Volatility Filter**: Compare current ATR to average\n4. **Target Setting**: Use ATR multiples for profit targets\n\n**Example:**\nIf ATR = $2.00 and you buy at $100:\n- Stop Loss: $98.00 (1 ATR)\n- Target: $104.00 (2 ATR = 2:1 risk/reward)",relatedTerms:["volatility","stop-loss","position-sizing"],tags:["indicator","volatility","range"]},{id:"rvol",term:"RVOL (Relative Volume)",category:"momentum",shortDef:"Current volume compared to average volume, expressed as a multiple",fullDef:"RVOL compares today's volume to the average volume at the same time of day.\n\n**Calculation:**\nRVOL = Current Volume / Average Volume (same time period)\n\n**Interpretation:**\n- **0.5x**: Half normal volume - low interest\n- **1.0x**: Normal volume - baseline\n- **1.5x**: Elevated volume - increased interest\n- **2.0x+**: High volume - significant activity\n- **3.0x+**: Very high volume - major event or breakout\n\n**Why It Matters:**\n- Volume confirms price moves\n- Breakouts need volume confirmation (1.5x+ preferred)\n- Low volume rallies/drops often fail\n- Watch for volume spikes at key levels",relatedTerms:["volume","breakout","confirmation"],tags:["volume","momentum","relative"]},{id:"volume-profile",term:"Volume Profile",category:"momentum",shortDef:"Distribution of volume at different price levels",fullDef:"Volume Profile shows how much volume occurred at each price level.\n\n**Key Concepts:**\n- **POC (Point of Control)**: Price with most volume - acts as magnet\n- **Value Area**: Price range containing 70% of volume\n- **High Volume Nodes**: Prices with significant trading activity\n- **Low Volume Nodes**: Prices with little activity - price moves fast through these\n\n**Trading Applications:**\n- POC acts as support/resistance\n- Breakouts through low volume nodes are faster\n- Value area often contains price during consolidation",relatedTerms:["poc","value-area","support","resistance"],tags:["volume","profile","levels"]},{id:"momentum",term:"Momentum",category:"momentum",shortDef:"Rate of change in price, indicating strength of trend",fullDef:"Momentum measures the velocity of price changes.\n\n**Indicators:**\n- RSI: Momentum oscillator\n- MACD: Trend momentum\n- Rate of Change (ROC): Percentage change\n- Momentum indicator: Price difference\n\n**Strong Momentum Signs:**\n1. Price making new highs/lows with volume\n2. RSI > 50 and rising (bullish) or < 50 and falling (bearish)\n3. MACD histogram expanding\n4. Higher highs in price AND indicators\n\n**Weak Momentum Signs:**\n1. Divergence between price and indicators\n2. Volume declining on price moves\n3. MACD histogram contracting\n4. Lower highs despite higher price",relatedTerms:["rsi","macd","divergence"],tags:["momentum","trend","strength"]},{id:"resistance",term:"Resistance",category:"levels",shortDef:"Price level where selling pressure tends to emerge",fullDef:"Resistance is a price level where selling pressure historically emerges.\n\n**Types:**\n1. **Horizontal Resistance**: Fixed price level from previous highs\n2. **Trendline Resistance**: Diagonal line connecting lower highs\n3. **Moving Average Resistance**: EMA/SMA acting as ceiling\n4. **Psychological Resistance**: Round numbers ($100, $50, etc.)\n\n**Why Resistance Forms:**\n- Traders who bought higher looking to exit at breakeven\n- Profit-taking from longs\n- Short sellers entering positions\n\n**Breakout Confirmation:**\n- Price closes above resistance with volume\n- Former resistance becomes support\n- Ideally 2-3% above level with RVOL > 1.5x",relatedTerms:["support","breakout","level"],tags:["levels","resistance","ceiling"]},{id:"support",term:"Support",category:"levels",shortDef:"Price level where buying pressure tends to emerge",fullDef:"Support is a price level where buying pressure historically emerges.\n\n**Types:**\n1. **Horizontal Support**: Fixed price level from previous lows\n2. **Trendline Support**: Diagonal line connecting higher lows\n3. **Moving Average Support**: EMA/SMA acting as floor\n4. **VWAP Support**: Daily VWAP level\n\n**Why Support Forms:**\n- Value buyers see opportunity\n- Short sellers covering\n- Technical traders buying the level\n\n**Breakdown Confirmation:**\n- Price closes below support with volume\n- Former support becomes resistance\n- Watch for failed breakdowns (bear traps)",relatedTerms:["resistance","breakdown","level"],tags:["levels","support","floor"]},{id:"stop-loss",term:"Stop Loss",category:"risk",shortDef:"Order to exit position at predetermined price to limit loss",fullDef:"A stop loss is a predetermined exit point to limit potential losses.\n\n**Placement Methods:**\n1. **ATR-based**: 1-2x ATR below entry (recommended)\n2. **Percentage**: Fixed % below entry (e.g., 2%)\n3. **Technical**: Below key support/resistance\n4. **Volatility-adjusted**: Wider stops for volatile stocks\n\n**Best Practices:**\n- Always define stop BEFORE entering\n- Place stop at level that invalidates thesis\n- Don't set stops at obvious levels (round numbers)\n- Consider using stop-limit to avoid slippage",relatedTerms:["atr","risk-reward","position-sizing"],tags:["risk","stop","exit"]},{id:"risk-reward",term:"Risk/Reward Ratio (R/R)",category:"risk",shortDef:"Ratio of potential profit to potential loss",fullDef:"Risk/Reward ratio compares potential gain to potential loss.\n\n**Calculation:**\nR/R = (Target Price - Entry) / (Entry - Stop Loss)\n\n**Example:**\nEntry: $100, Stop: $98, Target: $106\nR/R = ($106 - $100) / ($100 - $98) = $6 / $2 = 3:1\n\n**Guidelines:**\n- **2:1 minimum**: Standard for most trades\n- **3:1 preferred**: For breakout trades\n- **1:1 acceptable**: Only for very high probability setups\n\n**Why It Matters:**\nWith 2:1 R/R, you can be wrong 50% of the time and still profit.\nWith 3:1 R/R, you can be wrong 66% of the time and still profit.",relatedTerms:["stop-loss","target","position-sizing"],tags:["risk","reward","ratio"]},{id:"position-sizing",term:"Position Sizing",category:"risk",shortDef:"How much capital to allocate to a single trade",fullDef:"Position sizing determines how much of your account to risk per trade.\n\n**1% Rule:**\nRisk no more than 1% of account per trade.\n\n**Calculation:**\nPosition Size = (Account \xd7 Risk%) / (Entry - Stop)\n\n**Example:**\nAccount: $100,000\nRisk: 1% = $1,000\nEntry: $50, Stop: $48 (risk = $2/share)\nPosition Size = $1,000 / $2 = 500 shares\n\n**Adjustments:**\n- Higher conviction = up to 2%\n- Lower conviction = 0.5%\n- Volatile stocks = smaller size\n- Low volatility = larger size",relatedTerms:["risk-reward","stop-loss","atr"],tags:["risk","position","size"]},{id:"market-order",term:"Market Order",category:"orders",shortDef:"Order to buy/sell immediately at best available price",fullDef:"A market order executes immediately at the current market price.\n\n**Pros:**\n- Guaranteed execution\n- Fast fills\n- Simple to use\n\n**Cons:**\n- No price control\n- May get slippage in fast markets\n- Wider spreads = worse fills\n\n**When to Use:**\n- Need to enter/exit immediately\n- Highly liquid stocks with tight spreads\n- Urgent stop-out situations",relatedTerms:["limit-order","slippage"],tags:["order","execution","market"]},{id:"limit-order",term:"Limit Order",category:"orders",shortDef:"Order to buy/sell at specified price or better",fullDef:"A limit order executes only at your specified price or better.\n\n**Buy Limit**: Placed below current price\n**Sell Limit**: Placed above current price\n\n**Pros:**\n- Price control\n- Can get better fills\n- Avoid slippage\n\n**Cons:**\n- May not fill\n- May miss moves\n- Requires patience\n\n**When to Use:**\n- Entering on pullbacks\n- Targeting specific levels\n- Less urgent situations",relatedTerms:["market-order","stop-limit"],tags:["order","limit","price"]},{id:"stop-limit",term:"Stop-Limit Order",category:"orders",shortDef:"Stop order that becomes limit order when triggered",fullDef:"Stop-limit combines a stop trigger with a limit order.\n\n**Components:**\n- Stop Price: Triggers the order\n- Limit Price: Maximum/minimum fill price\n\n**Example (Sell Stop-Limit):**\nStop: $48.00, Limit: $47.50\nWhen price hits $48, a sell limit at $47.50 is placed.\n\n**Pros:**\n- Price control even when stopped out\n- Avoids bad fills in gaps\n\n**Cons:**\n- May not fill if price moves fast\n- Stock could gap through both prices",relatedTerms:["limit-order","stop-loss"],tags:["order","stop","limit"]},{id:"market-regime",term:"Market Regime",category:"market",shortDef:"Current overall market condition (bullish/bearish/neutral/volatile)",fullDef:"Market Regime describes the current state of the overall market.\n\n**Regimes:**\n- **BULLISH**: Uptrend, buy dips, favor longs\n- **BEARISH**: Downtrend, sell rallies, favor shorts\n- **NEUTRAL**: Range-bound, trade levels\n- **VOLATILE**: High uncertainty, reduce size\n\n**Determination Factors:**\n1. SPY trend (above/below key MAs)\n2. VIX level (fear gauge)\n3. Breadth (advancing vs declining stocks)\n4. Sector rotation\n\n**Trading Implications:**\n- Trade WITH the regime, not against\n- Bullish regime: 70% long exposure\n- Bearish regime: 70% short or cash\n- Volatile: Reduce all exposure",relatedTerms:["vix","trend","breadth"],tags:["market","regime","condition"]},{id:"vix",term:"VIX (Volatility Index)",category:"market",shortDef:"Fear gauge measuring expected S&P 500 volatility over 30 days",fullDef:"VIX measures expected volatility derived from S&P 500 options prices.\n\n**Interpretation:**\n- **<15**: Low fear, complacent market\n- **15-20**: Normal volatility\n- **20-30**: Elevated fear, caution warranted\n- **>30**: High fear, potential bottom\n- **>40**: Extreme fear, crisis mode\n\n**Trading Uses:**\n- VIX spike often marks market bottoms\n- VIX falling = bullish for stocks\n- Mean-reverting: extreme readings tend to revert",relatedTerms:["volatility","market-regime","iv"],tags:["market","volatility","fear"]},{id:"iv",term:"IV (Implied Volatility)",category:"earnings",shortDef:"Market's expectation of future price movement, derived from options prices",fullDef:"Implied Volatility reflects the market's expectation of how much a stock will move.\n\n**IV Rank** (0-100):\n- 0: IV at yearly low\n- 100: IV at yearly high\n\n**Earnings Context:**\n- IV rises into earnings (uncertainty)\n- IV crushes after earnings (resolved)\n- High IV = expensive options\n- Low IV = cheap options\n\n**Trading Implications:**\n- High IV before earnings = big expected move\n- Compare expected move vs historical\n- IV crush can hurt long options positions",relatedTerms:["expected-move","earnings","options"],tags:["volatility","options","earnings"]},{id:"expected-move",term:"Expected Move",category:"earnings",shortDef:"Implied range stock might move based on options pricing",fullDef:"Expected Move is the range the market expects a stock to trade within.\n\n**Calculation:**\nEM = Stock Price \xd7 IV \xd7 \u221a(Days to Expiration/365)\n\n**Earnings Example:**\nStock at $100, IV = 50%, 1 day to earnings\nEM \u2248 $100 \xd7 0.50 \xd7 \u221a(1/365) \u2248 \xb1$2.60\n\n**Use in Earnings Plays:**\n- Compare historical moves to expected move\n- If stock typically moves less than expected: sell premium\n- If stock typically moves more: buy premium\n\n**Display Format:**\nExpMove: \xb17.5% means market expects $100 stock to be between $92.50 and $107.50",relatedTerms:["iv","earnings","historical-reaction"],tags:["earnings","move","expected"]},{id:"earnings-bmo-amc",term:"BMO / AMC (Earnings Timing)",category:"earnings",shortDef:"Before Market Open / After Market Close earnings release timing",fullDef:"Indicates when a company releases earnings relative to market hours.\n\n**BMO (Before Market Open):**\n- Released before 9:30 AM ET\n- Gap up/down at open\n- React during regular hours\n\n**AMC (After Market Close):**\n- Released after 4:00 PM ET\n- React in after-hours/pre-market\n- Gap next morning\n\n**Trading Considerations:**\n- BMO: Can trade reaction same day\n- AMC: May need to hold overnight for reaction\n- Liquidity differs between regular hours and extended",relatedTerms:["earnings","gap"],tags:["earnings","timing","schedule"]},{id:"short-interest",term:"Short Interest",category:"earnings",shortDef:"Number of shares sold short, expressed as % of float",fullDef:"Short Interest shows how many shares are currently sold short.\n\n**Metrics:**\n- **Short Interest %**: Shares short / Float\n- **Days to Cover**: Shares short / Avg daily volume\n\n**Interpretation:**\n- **>20%**: High short interest\n- **>30%**: Very high, squeeze potential\n- **Days to Cover >5**: Difficult to exit shorts quickly\n\n**Short Squeeze:**\nWhen heavily shorted stocks rally:\n1. Shorts must buy to cover losses\n2. Buying pressure increases price\n3. More shorts forced to cover\n4. Creates rapid upward spiral",relatedTerms:["days-to-cover","squeeze-score","float"],tags:["short","interest","squeeze"]},{id:"abbreviations-list",term:"Common Abbreviations",category:"abbreviations",shortDef:"Quick reference for common trading abbreviations",fullDef:"**Price & Levels:**\n- H/L: High/Low\n- O/C: Open/Close\n- HOD: High of Day\n- LOD: Low of Day\n- ATH: All-Time High\n- ATL: All-Time Low\n- S/R: Support/Resistance\n\n**Technical:**\n- MA: Moving Average\n- EMA: Exponential Moving Average\n- SMA: Simple Moving Average\n- RSI: Relative Strength Index\n- MACD: Moving Average Convergence Divergence\n- ATR: Average True Range\n- VWAP: Volume Weighted Average Price\n- BB: Bollinger Bands\n\n**Volume:**\n- VOL: Volume\n- RVOL: Relative Volume\n- AVOL: Average Volume\n- OBV: On-Balance Volume\n\n**Trading:**\n- B/A: Bid/Ask\n- PT: Price Target\n- SL: Stop Loss\n- TP: Take Profit\n- R/R: Risk/Reward\n- PnL: Profit and Loss\n- ROI: Return on Investment\n\n**Options:**\n- IV: Implied Volatility\n- P/C: Put/Call\n- OI: Open Interest\n- DTE: Days to Expiration\n- ITM/OTM/ATM: In/Out/At The Money\n\n**Time:**\n- EOD: End of Day\n- PRE: Pre-market\n- AH: After Hours\n- BMO: Before Market Open\n- AMC: After Market Close\n\n**Market:**\n- SPY: S&P 500 ETF\n- QQQ: Nasdaq 100 ETF\n- DIA: Dow Jones ETF\n- VIX: Volatility Index",relatedTerms:[],tags:["abbreviation","acronym","shorthand"]}]},ax={Target:fl,TrendingUp:zl,Zap:xl,Activity:bl,Briefcase:lv,Shield:Av,FileText:Ig,Globe:nx,Calendar:Sv,Hash:ix},ox=t=>{let{children:e,className:n=""}=t;return(0,h.jsx)("div",{className:"bg-zinc-900/50 border border-white/5 rounded-xl p-4 backdrop-blur-sm ".concat(n),children:e})},lx=()=>{var t,e,n;const[i,r]=(0,s.useState)(""),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[d,p]=(0,s.useState)({}),m=(0,s.useMemo)(()=>{let t=rx.entries;if(a&&(t=t.filter(t=>t.category===a)),i.trim()){const e=i.toLowerCase();t=t.filter(t=>{var n;return t.term.toLowerCase().includes(e)||t.shortDef.toLowerCase().includes(e)||t.fullDef.toLowerCase().includes(e)||(null===(n=t.tags)||void 0===n?void 0:n.some(t=>t.toLowerCase().includes(e)))})}return t},[i,a]),f=(0,s.useMemo)(()=>{const t={};return rx.categories.forEach(e=>{t[e.id]=rx.entries.filter(t=>t.category===e.id)}),t},[]),g=t=>{c(t)},v=t=>t?rx.entries.filter(e=>t.includes(e.id)):[],x=t=>rx.categories.find(e=>e.id===t);return(0,h.jsxs)("div",{className:"min-h-screen bg-zinc-950 text-white",children:[(0,h.jsx)("div",{className:"sticky top-0 z-50 bg-zinc-950/95 backdrop-blur-sm border-b border-white/5",children:(0,h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)(yl,{className:"w-6 h-6 text-cyan-400"}),(0,h.jsx)("h1",{className:"text-xl font-bold",children:"Trading Glossary & Logic"})]}),(0,h.jsxs)("span",{className:"text-sm text-zinc-500",children:[rx.entries.length," terms documented"]})]}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)(kv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),(0,h.jsx)("input",{type:"text",value:i,onChange:t=>r(t.target.value),placeholder:"Search terms, definitions, or concepts...",className:"w-full pl-12 pr-10 py-3 bg-zinc-900 border border-zinc-800 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/20","data-testid":"glossary-search"}),i&&(0,h.jsx)("button",{onClick:()=>r(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white",children:(0,h.jsx)(_l,{className:"w-5 h-5"})})]})]})}),(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,h.jsx)("div",{className:"lg:col-span-1",children:(0,h.jsxs)(ox,{className:"sticky top-32",children:[(0,h.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider text-zinc-400 mb-4",children:"Categories"}),(0,h.jsxs)("button",{onClick:()=>o(null),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg mb-2 transition-colors ".concat(a?"hover:bg-zinc-800 text-zinc-400":"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30"),children:[(0,h.jsxs)("span",{className:"flex items-center gap-2",children:[(0,h.jsx)(yl,{className:"w-4 h-4"}),"All Terms"]}),(0,h.jsx)("span",{className:"text-xs",children:rx.entries.length})]}),rx.categories.map(t=>{var e;const n=ax[t.icon]||ix,i=(null===(e=f[t.id])||void 0===e?void 0:e.length)||0;return(0,h.jsxs)("button",{onClick:()=>o(t.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg mb-1 transition-colors ".concat(a===t.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"hover:bg-zinc-800 text-zinc-400"),"data-testid":"category-".concat(t.id),children:[(0,h.jsxs)("span",{className:"flex items-center gap-2",children:[(0,h.jsx)(n,{className:"w-4 h-4"}),(0,h.jsx)("span",{className:"text-sm",children:t.name})]}),(0,h.jsx)("span",{className:"text-xs",children:i})]},t.id)})]})}),(0,h.jsxs)("div",{className:"lg:col-span-3",children:[(0,h.jsx)(T,{children:l&&(0,h.jsx)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:(0,h.jsxs)(ox,{children:[(0,h.jsxs)("button",{onClick:()=>c(null),className:"flex items-center gap-2 text-cyan-400 hover:text-cyan-300 mb-4",children:[(0,h.jsx)(sx,{className:"w-4 h-4"}),"Back to list"]}),(0,h.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:l.term}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xs px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded",children:null===(t=x(l.category))||void 0===t?void 0:t.name}),null===(e=l.tags)||void 0===e?void 0:e.map((t,e)=>(0,h.jsxs)("span",{className:"text-xs px-2 py-0.5 bg-zinc-800 text-zinc-400 rounded",children:["#",t]},e))]})]})}),(0,h.jsx)("p",{className:"text-lg text-cyan-300 mb-4 border-l-2 border-cyan-500 pl-4",children:l.shortDef}),(0,h.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,h.jsx)("div",{className:"bg-zinc-800/50 rounded-lg p-4 whitespace-pre-wrap text-sm text-zinc-300 leading-relaxed",children:l.fullDef})}),(null===(n=l.relatedTerms)||void 0===n?void 0:n.length)>0&&(0,h.jsxs)("div",{className:"mt-6 pt-4 border-t border-white/5",children:[(0,h.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-3",children:"Related Terms"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:v(l.relatedTerms).map(t=>(0,h.jsxs)("button",{onClick:()=>c(t),className:"flex items-center gap-1 px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-sm transition-colors",children:[(0,h.jsx)(Wv,{className:"w-3 h-3"}),t.term]},t.id))})]})]})})}),i&&(0,h.jsxs)("div",{className:"mb-4 text-sm text-zinc-400",children:["Found ",m.length," result",1!==m.length?"s":""," for \u201c",i,"\u201d"]}),!l&&(0,h.jsx)("div",{className:"space-y-3",children:0===m.length?(0,h.jsx)(ox,{children:(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(kv,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),(0,h.jsxs)("p",{className:"text-zinc-400",children:["No terms found matching \u201c",i,"\u201d"]}),(0,h.jsx)("p",{className:"text-zinc-500 text-sm mt-2",children:"Try a different search term"})]})}):m.map(t=>{var e,n;const i=d[t.id],s=x(t.category),a=ax[null===s||void 0===s?void 0:s.icon]||ix;return(0,h.jsxs)(ox,{className:"hover:border-cyan-500/20 transition-colors cursor-pointer",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between",onClick:()=>{return e=t.id,void p(t=>u(u({},t),{},{[e]:!t[e]}));var e},children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)(a,{className:"w-4 h-4 text-cyan-400"}),(0,h.jsx)("h3",{className:"font-semibold text-white",children:t.term}),(0,h.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 bg-zinc-800 text-zinc-500 rounded",children:null===s||void 0===s?void 0:s.name})]}),(0,h.jsx)("p",{className:"text-sm text-zinc-400",children:t.shortDef})]}),(0,h.jsx)("button",{className:"ml-4 text-zinc-500",children:i?(0,h.jsx)(qg,{className:"w-5 h-5"}):(0,h.jsx)(wl,{className:"w-5 h-5"})})]}),(0,h.jsx)(T,{children:i&&(0,h.jsx)(Fo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,h.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/5",children:[(0,h.jsx)("div",{className:"bg-zinc-800/50 rounded-lg p-4 whitespace-pre-wrap text-sm text-zinc-300 leading-relaxed max-h-80 overflow-y-auto",children:t.fullDef}),(0,h.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,h.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(e=t.tags)||void 0===e?void 0:e.slice(0,5).map((t,e)=>(0,h.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-zinc-800 text-zinc-500 rounded cursor-pointer hover:bg-zinc-700",onClick:e=>{e.stopPropagation(),r(t)},children:["#",t]},e))}),(0,h.jsxs)("button",{onClick:e=>{e.stopPropagation(),g(t)},className:"flex items-center gap-1 text-xs text-cyan-400 hover:text-cyan-300",children:["View full details",(0,h.jsx)(Wv,{className:"w-3 h-3"})]})]}),(null===(n=t.relatedTerms)||void 0===n?void 0:n.length)>0&&(0,h.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/5",children:[(0,h.jsx)("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Related: "}),v(t.relatedTerms).slice(0,4).map((e,n)=>(0,h.jsxs)("button",{onClick:t=>{t.stopPropagation(),g(e)},className:"text-xs text-cyan-400 hover:underline ml-2",children:[e.term,n<Math.min(t.relatedTerms.length,4)-1?",":""]},e.id))]})]})})})]},t.id)})})]})]})})]})};class cx extends s.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){console.log("Caught error:",t,e)}render(){return this.state.hasError?this.props.fallback||(0,h.jsx)("div",{className:"p-4 text-zinc-500",children:"Widget loading error"}):this.props.children}}if("undefined"!==typeof window){const t=()=>{const t=document.getElementById("webpack-dev-server-client-overlay");t&&(t.style.display="none"),document.querySelectorAll("iframe").forEach(t=>{var e,n;(null!==(e=t.id)&&void 0!==e&&e.includes("overlay")||null!==(n=t.src)&&void 0!==n&&n.includes("overlay"))&&(t.style.display="none")})};setInterval(t,500),window.addEventListener("error",e=>{var n,i,s;if("Script error."===e.message||null!==(n=e.filename)&&void 0!==n&&n.includes("tradingview")||null!==(i=e.filename)&&void 0!==i&&i.includes("widget")||null!==(s=e.message)&&void 0!==s&&s.includes("Script error"))return e.preventDefault(),e.stopPropagation(),t(),!1}),window.addEventListener("unhandledrejection",e=>{var n,i,s,r;(null!==(n=e.reason)&&void 0!==n&&null!==(i=n.message)&&void 0!==i&&i.includes("Script error")||null!==(s=e.reason)&&void 0!==s&&null!==(r=s.stack)&&void 0!==r&&r.includes("tradingview"))&&(e.preventDefault(),t())})}const ux=function(){var t;const[e,n]=(0,s.useState)("command-center"),[i,r]=(0,s.useState)({stats:{},overview:{},alerts:[],watchlist:[]}),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)({}),[d,p]=(0,s.useState)(!1),m=(0,s.useCallback)(t=>{if("quotes"===t.type||"initial"===t.type){const e={};t.data.forEach(t=>{e[t.symbol]=t}),c(t=>u(u({},t),e)),r(t=>{var n,i,s,r;const a=(null===(n=t.overview)||void 0===n||null===(i=n.indices)||void 0===i?void 0:i.map(t=>{const n=e[t.symbol];return n?u(u({},t),n):t}))||[],o=(null===(s=t.overview)||void 0===s||null===(r=s.top_movers)||void 0===r?void 0:r.map(t=>{const n=e[t.symbol];return n?u(u({},t),n):t}))||[];return u(u({},t),{},{overview:u(u({},t.overview),{},{indices:a,top_movers:o})})})}},[]),{isConnected:f,lastUpdate:g}=sh(m),{alerts:v,audioEnabled:x,setAudioEnabled:y,alertThreshold:b,setAlertThreshold:w,initializeAudio:k,dismissAlert:S}=ah(l,i.watchlist),j=(0,s.useCallback)(async()=>{o(!0);try{const[t,e,n,i]=await Promise.all([ih.get("/api/dashboard/stats"),ih.get("/api/market/overview"),ih.get("/api/alerts",{params:{unread_only:!0}}),ih.get("/api/watchlist")]);r({stats:t.data,overview:e.data,alerts:n.data.alerts,watchlist:i.data.watchlist})}catch(t){console.error("Failed to load dashboard:",t)}finally{o(!1)}},[]);return(0,s.useEffect)(()=>{j()},[j]),(0,s.useEffect)(()=>{const t=()=>{k(),document.removeEventListener("click",t)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[k]),(0,h.jsxs)("div",{className:"min-h-screen bg-background bg-gradient-radial",onClick:k,children:[(0,h.jsx)(ml,{position:"top-right",richColors:!0,theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)"}}}),(0,h.jsx)(Sl,{activeTab:e,setActiveTab:n}),(0,h.jsx)(Al,{alerts:v,onDismiss:S,audioEnabled:x,setAudioEnabled:y}),(0,h.jsx)(T,{children:d&&(0,h.jsx)(Pl,{audioEnabled:x,setAudioEnabled:y,alertThreshold:b,setAlertThreshold:w,isOpen:d,onClose:()=>p(!1)})}),(0,h.jsxs)("div",{className:"fixed bottom-4 right-4 z-50 flex items-center gap-2",children:[(0,h.jsx)("button",{onClick:()=>p(!d),"data-testid":"alert-settings-btn",className:"p-2 rounded-full bg-zinc-800 text-zinc-400 hover:text-white border border-zinc-700 transition-all",title:"Alert Settings",children:(0,h.jsx)($o,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:()=>y(!x),"data-testid":"toggle-audio-alerts",className:"p-3 rounded-full transition-all ".concat(x?"bg-primary/20 text-primary border border-primary/30":"bg-zinc-800 text-zinc-500 border border-zinc-700"),title:x?"Disable audio alerts":"Enable audio alerts",children:x?(0,h.jsx)(Ho,{className:"w-5 h-5"}):(0,h.jsx)(qo,{className:"w-5 h-5"})})]}),x&&(0,h.jsxs)("div",{className:"fixed bottom-4 right-28 z-50 bg-paper border border-white/10 rounded-lg px-3 py-2 text-xs text-zinc-400",children:["Alert: \xb1",b,"%"]}),(0,h.jsxs)("main",{className:"ml-16 lg:ml-64 min-h-screen",children:[(0,h.jsx)(El,{indices:null===(t=i.overview)||void 0===t?void 0:t.indices,isConnected:f,lastUpdate:g}),(0,h.jsx)("div",{className:"p-6",children:(0,h.jsx)(T,{mode:"wait",children:(0,h.jsx)(Fo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:(()=>{switch(e){case"command-center":default:return(0,h.jsx)(ex,{});case"chart":return(0,h.jsx)(cx,{children:(0,h.jsx)(Dg,{})});case"trade-journal":return(0,h.jsx)(nv,{});case"ib-trading":return(0,h.jsx)(gv,{});case"glossary":return(0,h.jsx)(lx,{})}})()},e)})})]})]})};r.createRoot(document.getElementById("root")).render((0,h.jsx)(s.StrictMode,{children:(0,h.jsx)(ux,{})}))})();
//# sourceMappingURL=main.cd01f846.js.map